/*! For license information please see 81.85edbc42.chunk.js.LICENSE.txt */
(self.webpackChunkcoin=self.webpackChunkcoin||[]).push([[81],{5854:function(t,e,n){"use strict";n.d(e,{BH:function(){return g},L:function(){return f},LL:function(){return E},P0:function(){return y},Sg:function(){return b},ZR:function(){return _},aH:function(){return m},eu:function(){return w},hl:function(){return k},m9:function(){return C},vZ:function(){return S}});var i=n(7326),r=n(3144),o=n(5671),a=n(136),s=n(7277),u=n(8664),l=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,u=r+2<t.length,l=u?t[r+2]:0,c=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|l>>6,v=63&l;u||(v=64,a||(f=64)),i.push(n[c],n[h],n[f],n[v])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var a=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(1023&a))}else{var s=t[n++],u=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&u)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0,s=++r<t.length?n[t.charAt(r)]:64,u=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==u)throw new h;var l=o<<2|a>>4;if(i.push(l),64!==s){var c=a<<4&240|s>>2;if(i.push(c),64!==u){var f=s<<6&192|u;i.push(f)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(){var t;return(0,o.Z)(this,n),(t=e.apply(this,arguments)).name="DecodeBase64StringError",t}return(0,r.Z)(n)}((0,u.Z)(Error)),f=function(t){return function(t){var e=l(t);return c.encodeByteArray(e,!0)}(t).replace(/\./g,"")},v=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};var d=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},p=function(){try{return d()||function(){if("undefined"!==typeof process){var t={NODE_ENV:"production",PUBLIC_URL:"/Final-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBt7N61CM97WwbVTWzB6prFW9Lr5uN6_ao",REACT_APP_APP_ID:"1:172183502444:web:69ea222ad17bc0d474e249",REACT_APP_AUTH_DOMAIN:"hell-study-113f7.firebaseapp.com",REACT_APP_FX_IDC_API_URL:"https://api.kimpro.site/exchange-rate",REACT_APP_GOOGLE_ANALYTICS_ID:"G-P305NXC3X0",REACT_APP_MESSAGING_SENDER_ID:"172183502444",REACT_APP_PROJECT_ID:"hell-study-113f7",REACT_APP_STORAGE_BUCKET:"hell-study-113f7.appspot.com"}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0}}()||function(){if("undefined"!==typeof document){var t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var e=t&&v(t[1]);return e&&JSON.parse(e)}}()}catch(t){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t))}},y=function(t){var e=function(t){var e,n;return null===(n=null===(e=p())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]}(t);if(e){var n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));var i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]}},m=function(){var t;return null===(t=p())||void 0===t?void 0:t.config},g=function(){function t(){var e=this;(0,o.Z)(this,t),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return(0,r.Z)(t,[{key:"wrapCallback",value:function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}}}]),t}();function b(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(o)),""].join(".")}function k(){try{return"object"===typeof indexedDB}catch(t){return!1}}function w(){return new Promise((function(t,e){try{var n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=function(){r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=function(){n=!1},r.onerror=function(){var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}var _=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t,r,a){var s;return(0,o.Z)(this,n),(s=e.call(this,r)).code=t,s.customData=a,s.name="FirebaseError",Object.setPrototypeOf((0,i.Z)(s),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,i.Z)(s),E.prototype.create),s}return(0,r.Z)(n)}((0,u.Z)(Error)),E=function(){function t(e,n,i){(0,o.Z)(this,t),this.service=e,this.serviceName=n,this.errors=i}return(0,r.Z)(t,[{key:"create",value:function(t){var e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),i=this.errors[t],r=i?function(t,e){return t.replace(x,(function(t,n){var i=e[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,e):"Error",o="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new _(n,o,e)}}]),t}();var x=/\{\$([^}]+)}/g;function S(t,e){if(t===e)return!0;for(var n=Object.keys(t),i=Object.keys(e),r=0,o=n;r<o.length;r++){var a=o[r];if(!i.includes(a))return!1;var s=t[a],u=e[a];if(T(s)&&T(u)){if(!S(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=i;l<c.length;l++){var h=c[l];if(!n.includes(h))return!1}return!0}function T(t){return null!==t&&"object"===typeof t}function C(t){return t&&t._delegate?t._delegate:t}},2618:function(t,e,n){var i;!function(){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen};void 0===(i=function(){return o}.call(e,n,e,t))||(t.exports=i)}()},763:function(t,e,n){var i;t=n.nmd(t),function(){var r,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,h=128,f=256,v=1/0,d=9007199254740991,p=NaN,y=4294967295,m=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",f]],g="[object Arguments]",b="[object Array]",k="[object Boolean]",w="[object Date]",_="[object Error]",E="[object Function]",x="[object GeneratorFunction]",S="[object Map]",T="[object Number]",C="[object Object]",O="[object Promise]",A="[object RegExp]",M="[object Set]",Z="[object String]",I="[object Symbol]",L="[object WeakMap]",N="[object ArrayBuffer]",R="[object DataView]",D="[object Float32Array]",P="[object Float64Array]",F="[object Int8Array]",U="[object Int16Array]",j="[object Int32Array]",V="[object Uint8Array]",B="[object Uint8ClampedArray]",z="[object Uint16Array]",q="[object Uint32Array]",W=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,Y=RegExp(G.source),X=RegExp(Q.source),J=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(rt.source),at=/^\s+/,st=/\s/,ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ft=/[()=,{}\[\]\/\s]/,vt=/\\(\\)?/g,dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pt=/\w*$/,yt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,kt=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_t=/($^)/,Et=/['\n\r\u2028\u2029\\]/g,xt="\\ud800-\\udfff",St="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Tt="\\u2700-\\u27bf",Ct="a-z\\xdf-\\xf6\\xf8-\\xff",Ot="A-Z\\xc0-\\xd6\\xd8-\\xde",At="\\ufe0e\\ufe0f",Mt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zt="['\u2019]",It="["+xt+"]",Lt="["+Mt+"]",Nt="["+St+"]",Rt="\\d+",Dt="["+Tt+"]",Pt="["+Ct+"]",Ft="[^"+xt+Mt+Rt+Tt+Ct+Ot+"]",Ut="\\ud83c[\\udffb-\\udfff]",jt="[^"+xt+"]",Vt="(?:\\ud83c[\\udde6-\\uddff]){2}",Bt="[\\ud800-\\udbff][\\udc00-\\udfff]",zt="["+Ot+"]",qt="\\u200d",Wt="(?:"+Pt+"|"+Ft+")",Kt="(?:"+zt+"|"+Ft+")",Ht="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Gt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Qt="(?:"+Nt+"|"+Ut+")"+"?",Yt="["+At+"]?",Xt=Yt+Qt+("(?:"+qt+"(?:"+[jt,Vt,Bt].join("|")+")"+Yt+Qt+")*"),Jt="(?:"+[Dt,Vt,Bt].join("|")+")"+Xt,$t="(?:"+[jt+Nt+"?",Nt,Vt,Bt,It].join("|")+")",te=RegExp(Zt,"g"),ee=RegExp(Nt,"g"),ne=RegExp(Ut+"(?="+Ut+")|"+$t+Xt,"g"),ie=RegExp([zt+"?"+Pt+"+"+Ht+"(?="+[Lt,zt,"$"].join("|")+")",Kt+"+"+Gt+"(?="+[Lt,zt+Wt,"$"].join("|")+")",zt+"?"+Wt+"+"+Ht,zt+"+"+Gt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rt,Jt].join("|"),"g"),re=RegExp("["+qt+xt+St+At+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],se=-1,ue={};ue[D]=ue[P]=ue[F]=ue[U]=ue[j]=ue[V]=ue[B]=ue[z]=ue[q]=!0,ue[g]=ue[b]=ue[N]=ue[k]=ue[R]=ue[w]=ue[_]=ue[E]=ue[S]=ue[T]=ue[C]=ue[A]=ue[M]=ue[Z]=ue[L]=!1;var le={};le[g]=le[b]=le[N]=le[R]=le[k]=le[w]=le[D]=le[P]=le[F]=le[U]=le[j]=le[S]=le[T]=le[C]=le[A]=le[M]=le[Z]=le[I]=le[V]=le[B]=le[z]=le[q]=!0,le[_]=le[E]=le[L]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},he=parseFloat,fe=parseInt,ve="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,de="object"==typeof self&&self&&self.Object===Object&&self,pe=ve||de||Function("return this")(),ye=e&&!e.nodeType&&e,me=ye&&t&&!t.nodeType&&t,ge=me&&me.exports===ye,be=ge&&ve.process,ke=function(){try{var t=me&&me.require&&me.require("util").types;return t||be&&be.binding&&be.binding("util")}catch(e){}}(),we=ke&&ke.isArrayBuffer,_e=ke&&ke.isDate,Ee=ke&&ke.isMap,xe=ke&&ke.isRegExp,Se=ke&&ke.isSet,Te=ke&&ke.isTypedArray;function Ce(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Oe(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function Ae(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Me(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ze(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Ie(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function Le(t,e){return!!(null==t?0:t.length)&&ze(t,e,0)>-1}function Ne(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Re(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function De(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function Pe(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function Fe(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function Ue(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var je=He("length");function Ve(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function Be(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function ze(t,e,n){return e===e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):Be(t,We,n)}function qe(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function We(t){return t!==t}function Ke(t,e){var n=null==t?0:t.length;return n?Ye(t,e)/n:p}function He(t){return function(e){return null==e?r:e[t]}}function Ge(t){return function(e){return null==t?r:t[e]}}function Qe(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function Ye(t,e){for(var n,i=-1,o=t.length;++i<o;){var a=e(t[i]);a!==r&&(n=n===r?a:n+a)}return n}function Xe(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function Je(t){return t?t.slice(0,yn(t)+1).replace(at,""):t}function $e(t){return function(e){return t(e)}}function tn(t,e){return Re(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,i=t.length;++n<i&&ze(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&ze(e,t[n],0)>-1;);return n}var on=Ge({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Ge({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+ce[t]}function un(t){return re.test(t)}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function cn(t,e){return function(n){return t(e(n))}}function hn(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==s||(t[n]=s,o[r++]=n)}return o}function fn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function vn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function dn(t){return un(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):je(t)}function pn(t){return un(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function yn(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var mn=Ge({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function t(e){var n=(e=null==e?pe:gn.defaults(pe.Object(),e,gn.pick(pe,ae))).Array,i=e.Date,st=e.Error,xt=e.Function,St=e.Math,Tt=e.Object,Ct=e.RegExp,Ot=e.String,At=e.TypeError,Mt=n.prototype,Zt=xt.prototype,It=Tt.prototype,Lt=e["__core-js_shared__"],Nt=Zt.toString,Rt=It.hasOwnProperty,Dt=0,Pt=function(){var t=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ft=It.toString,Ut=Nt.call(Tt),jt=pe._,Vt=Ct("^"+Nt.call(Rt).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bt=ge?e.Buffer:r,zt=e.Symbol,qt=e.Uint8Array,Wt=Bt?Bt.allocUnsafe:r,Kt=cn(Tt.getPrototypeOf,Tt),Ht=Tt.create,Gt=It.propertyIsEnumerable,Qt=Mt.splice,Yt=zt?zt.isConcatSpreadable:r,Xt=zt?zt.iterator:r,Jt=zt?zt.toStringTag:r,$t=function(){try{var t=ho(Tt,"defineProperty");return t({},"",{}),t}catch(e){}}(),ne=e.clearTimeout!==pe.clearTimeout&&e.clearTimeout,re=i&&i.now!==pe.Date.now&&i.now,ce=e.setTimeout!==pe.setTimeout&&e.setTimeout,ve=St.ceil,de=St.floor,ye=Tt.getOwnPropertySymbols,me=Bt?Bt.isBuffer:r,be=e.isFinite,ke=Mt.join,je=cn(Tt.keys,Tt),Ge=St.max,bn=St.min,kn=i.now,wn=e.parseInt,_n=St.random,En=Mt.reverse,xn=ho(e,"DataView"),Sn=ho(e,"Map"),Tn=ho(e,"Promise"),Cn=ho(e,"Set"),On=ho(e,"WeakMap"),An=ho(Tt,"create"),Mn=On&&new On,Zn={},In=Fo(xn),Ln=Fo(Sn),Nn=Fo(Tn),Rn=Fo(Cn),Dn=Fo(On),Pn=zt?zt.prototype:r,Fn=Pn?Pn.valueOf:r,Un=Pn?Pn.toString:r;function jn(t){if(es(t)&&!qa(t)&&!(t instanceof qn)){if(t instanceof zn)return t;if(Rt.call(t,"__wrapped__"))return Uo(t)}return new zn(t)}var Vn=function(){function t(){}return function(e){if(!ts(e))return{};if(Ht)return Ht(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Bn(){}function zn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function qn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Hn;++e<n;)this.add(t[e])}function Qn(t){var e=this.__data__=new Kn(t);this.size=e.size}function Yn(t,e){var n=qa(t),i=!n&&za(t),r=!n&&!i&&Ga(t),o=!n&&!i&&!r&&ls(t),a=n||i||r||o,s=a?Xe(t.length,Ot):[],u=s.length;for(var l in t)!e&&!Rt.call(t,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||bo(l,u))||s.push(l);return s}function Xn(t){var e=t.length;return e?t[Gi(0,e-1)]:r}function Jn(t,e){return Ro(Ar(t),si(e,0,t.length))}function $n(t){return Ro(Ar(t))}function ti(t,e,n){(n!==r&&!ja(t[e],n)||n===r&&!(e in t))&&oi(t,e,n)}function ei(t,e,n){var i=t[e];Rt.call(t,e)&&ja(i,n)&&(n!==r||e in t)||oi(t,e,n)}function ni(t,e){for(var n=t.length;n--;)if(ja(t[n][0],e))return n;return-1}function ii(t,e,n,i){return fi(t,(function(t,r,o){e(i,t,n(t),o)})),i}function ri(t,e){return t&&Mr(e,Zs(e),t)}function oi(t,e,n){"__proto__"==e&&$t?$t(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ai(t,e){for(var i=-1,o=e.length,a=n(o),s=null==t;++i<o;)a[i]=s?r:Ts(t,e[i]);return a}function si(t,e,n){return t===t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function ui(t,e,n,i,o,a){var s,u=1&e,l=2&e,c=4&e;if(n&&(s=o?n(t,i,o,a):n(t)),s!==r)return s;if(!ts(t))return t;var h=qa(t);if(h){if(s=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Rt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return Ar(t,s)}else{var f=po(t),v=f==E||f==x;if(Ga(t))return Er(t,u);if(f==C||f==g||v&&!o){if(s=l||v?{}:mo(t),!u)return l?function(t,e){return Mr(t,vo(t),e)}(t,function(t,e){return t&&Mr(e,Is(e),t)}(s,t)):function(t,e){return Mr(t,fo(t),e)}(t,ri(s,t))}else{if(!le[f])return o?t:{};s=function(t,e,n){var i=t.constructor;switch(e){case N:return xr(t);case k:case w:return new i(+t);case R:return function(t,e){var n=e?xr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case D:case P:case F:case U:case j:case V:case B:case z:case q:return Sr(t,n);case S:return new i;case T:case Z:return new i(t);case A:return function(t){var e=new t.constructor(t.source,pt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case M:return new i;case I:return r=t,Fn?Tt(Fn.call(r)):{}}var r}(t,f,u)}}a||(a=new Qn);var d=a.get(t);if(d)return d;a.set(t,s),as(t)?t.forEach((function(i){s.add(ui(i,e,n,i,t,a))})):ns(t)&&t.forEach((function(i,r){s.set(r,ui(i,e,n,r,t,a))}));var p=h?r:(c?l?ro:io:l?Is:Zs)(t);return Ae(p||t,(function(i,r){p&&(i=t[r=i]),ei(s,r,ui(i,e,n,r,t,a))})),s}function li(t,e,n){var i=n.length;if(null==t)return!i;for(t=Tt(t);i--;){var o=n[i],a=e[o],s=t[o];if(s===r&&!(o in t)||!a(s))return!1}return!0}function ci(t,e,n){if("function"!=typeof t)throw new At(o);return Zo((function(){t.apply(r,n)}),e)}function hi(t,e,n,i){var r=-1,o=Le,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=Re(e,$e(n))),i?(o=Ne,a=!1):e.length>=200&&(o=en,a=!1,e=new Gn(e));t:for(;++r<s;){var c=t[r],h=null==n?c:n(c);if(c=i||0!==c?c:0,a&&h===h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(c)}else o(e,h,i)||u.push(c)}return u}jn.templateSettings={escape:J,evaluate:$,interpolate:tt,variable:"",imports:{_:jn}},jn.prototype=Bn.prototype,jn.prototype.constructor=jn,zn.prototype=Vn(Bn.prototype),zn.prototype.constructor=zn,qn.prototype=Vn(Bn.prototype),qn.prototype.constructor=qn,Wn.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},Wn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wn.prototype.get=function(t){var e=this.__data__;if(An){var n=e[t];return n===a?r:n}return Rt.call(e,t)?e[t]:r},Wn.prototype.has=function(t){var e=this.__data__;return An?e[t]!==r:Rt.call(e,t)},Wn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=An&&e===r?a:e,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=ni(e,t);return!(n<0)&&(n==e.length-1?e.pop():Qt.call(e,n,1),--this.size,!0)},Kn.prototype.get=function(t){var e=this.__data__,n=ni(e,t);return n<0?r:e[n][1]},Kn.prototype.has=function(t){return ni(this.__data__,t)>-1},Kn.prototype.set=function(t,e){var n=this.__data__,i=ni(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Sn||Kn),string:new Wn}},Hn.prototype.delete=function(t){var e=lo(this,t).delete(t);return this.size-=e?1:0,e},Hn.prototype.get=function(t){return lo(this,t).get(t)},Hn.prototype.has=function(t){return lo(this,t).has(t)},Hn.prototype.set=function(t,e){var n=lo(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Gn.prototype.add=Gn.prototype.push=function(t){return this.__data__.set(t,a),this},Gn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.clear=function(){this.__data__=new Kn,this.size=0},Qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Qn.prototype.get=function(t){return this.__data__.get(t)},Qn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Kn){var i=n.__data__;if(!Sn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Hn(i)}return n.set(t,e),this.size=n.size,this};var fi=Lr(ki),vi=Lr(wi,!0);function di(t,e){var n=!0;return fi(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function pi(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(u===r?s===s&&!us(s):n(s,u)))var u=s,l=a}return l}function yi(t,e){var n=[];return fi(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function mi(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=go),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?mi(s,e-1,n,i,r):De(r,s):i||(r[r.length]=s)}return r}var gi=Nr(),bi=Nr(!0);function ki(t,e){return t&&gi(t,e,Zs)}function wi(t,e){return t&&bi(t,e,Zs)}function _i(t,e){return Ie(e,(function(e){return Xa(t[e])}))}function Ei(t,e){for(var n=0,i=(e=br(e,t)).length;null!=t&&n<i;)t=t[Po(e[n++])];return n&&n==i?t:r}function xi(t,e,n){var i=e(t);return qa(t)?i:De(i,n(t))}function Si(t){return null==t?t===r?"[object Undefined]":"[object Null]":Jt&&Jt in Tt(t)?function(t){var e=Rt.call(t,Jt),n=t[Jt];try{t[Jt]=r;var i=!0}catch(a){}var o=Ft.call(t);i&&(e?t[Jt]=n:delete t[Jt]);return o}(t):function(t){return Ft.call(t)}(t)}function Ti(t,e){return t>e}function Ci(t,e){return null!=t&&Rt.call(t,e)}function Oi(t,e){return null!=t&&e in Tt(t)}function Ai(t,e,i){for(var o=i?Ne:Le,a=t[0].length,s=t.length,u=s,l=n(s),c=1/0,h=[];u--;){var f=t[u];u&&e&&(f=Re(f,$e(e))),c=bn(f.length,c),l[u]=!i&&(e||a>=120&&f.length>=120)?new Gn(u&&f):r}f=t[0];var v=-1,d=l[0];t:for(;++v<a&&h.length<c;){var p=f[v],y=e?e(p):p;if(p=i||0!==p?p:0,!(d?en(d,y):o(h,y,i))){for(u=s;--u;){var m=l[u];if(!(m?en(m,y):o(t[u],y,i)))continue t}d&&d.push(y),h.push(p)}}return h}function Mi(t,e,n){var i=null==(t=Oo(t,e=br(e,t)))?t:t[Po(Yo(e))];return null==i?r:Ce(i,t,n)}function Zi(t){return es(t)&&Si(t)==g}function Ii(t,e,n,i,o){return t===e||(null==t||null==e||!es(t)&&!es(e)?t!==t&&e!==e:function(t,e,n,i,o,a){var s=qa(t),u=qa(e),l=s?b:po(t),c=u?b:po(e),h=(l=l==g?C:l)==C,f=(c=c==g?C:c)==C,v=l==c;if(v&&Ga(t)){if(!Ga(e))return!1;s=!0,h=!1}if(v&&!h)return a||(a=new Qn),s||ls(t)?eo(t,e,n,i,o,a):function(t,e,n,i,r,o,a){switch(n){case R:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case N:return!(t.byteLength!=e.byteLength||!o(new qt(t),new qt(e)));case k:case w:case T:return ja(+t,+e);case _:return t.name==e.name&&t.message==e.message;case A:case Z:return t==e+"";case S:var s=ln;case M:var u=1&i;if(s||(s=fn),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;i|=2,a.set(t,e);var c=eo(s(t),s(e),i,r,o,a);return a.delete(t),c;case I:if(Fn)return Fn.call(t)==Fn.call(e)}return!1}(t,e,l,n,i,o,a);if(!(1&n)){var d=h&&Rt.call(t,"__wrapped__"),p=f&&Rt.call(e,"__wrapped__");if(d||p){var y=d?t.value():t,m=p?e.value():e;return a||(a=new Qn),o(y,m,n,i,a)}}if(!v)return!1;return a||(a=new Qn),function(t,e,n,i,o,a){var s=1&n,u=io(t),l=u.length,c=io(e),h=c.length;if(l!=h&&!s)return!1;var f=l;for(;f--;){var v=u[f];if(!(s?v in e:Rt.call(e,v)))return!1}var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var y=!0;a.set(t,e),a.set(e,t);var m=s;for(;++f<l;){var g=t[v=u[f]],b=e[v];if(i)var k=s?i(b,g,v,e,t,a):i(g,b,v,t,e,a);if(!(k===r?g===b||o(g,b,n,i,a):k)){y=!1;break}m||(m="constructor"==v)}if(y&&!m){var w=t.constructor,_=e.constructor;w==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(y=!1)}return a.delete(t),a.delete(e),y}(t,e,n,i,o,a)}(t,e,n,i,Ii,o))}function Li(t,e,n,i){var o=n.length,a=o,s=!i;if(null==t)return!a;for(t=Tt(t);o--;){var u=n[o];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<a;){var l=(u=n[o])[0],c=t[l],h=u[1];if(s&&u[2]){if(c===r&&!(l in t))return!1}else{var f=new Qn;if(i)var v=i(c,h,l,t,e,f);if(!(v===r?Ii(h,c,3,i,f):v))return!1}}return!0}function Ni(t){return!(!ts(t)||(e=t,Pt&&Pt in e))&&(Xa(t)?Vt:gt).test(Fo(t));var e}function Ri(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?qa(t)?Vi(t[0],t[1]):ji(t):fu(t)}function Di(t){if(!xo(t))return je(t);var e=[];for(var n in Tt(t))Rt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Pi(t){if(!ts(t))return function(t){var e=[];if(null!=t)for(var n in Tt(t))e.push(n);return e}(t);var e=xo(t),n=[];for(var i in t)("constructor"!=i||!e&&Rt.call(t,i))&&n.push(i);return n}function Fi(t,e){return t<e}function Ui(t,e){var i=-1,r=Ka(t)?n(t.length):[];return fi(t,(function(t,n,o){r[++i]=e(t,n,o)})),r}function ji(t){var e=co(t);return 1==e.length&&e[0][2]?To(e[0][0],e[0][1]):function(n){return n===t||Li(n,t,e)}}function Vi(t,e){return wo(t)&&So(e)?To(Po(t),e):function(n){var i=Ts(n,t);return i===r&&i===e?Cs(n,t):Ii(e,i,3)}}function Bi(t,e,n,i,o){t!==e&&gi(e,(function(a,s){if(o||(o=new Qn),ts(a))!function(t,e,n,i,o,a,s){var u=Ao(t,n),l=Ao(e,n),c=s.get(l);if(c)return void ti(t,n,c);var h=a?a(u,l,n+"",t,e,s):r,f=h===r;if(f){var v=qa(l),d=!v&&Ga(l),p=!v&&!d&&ls(l);h=l,v||d||p?qa(u)?h=u:Ha(u)?h=Ar(u):d?(f=!1,h=Er(l,!0)):p?(f=!1,h=Sr(l,!0)):h=[]:rs(l)||za(l)?(h=u,za(u)?h=ms(u):ts(u)&&!Xa(u)||(h=mo(l))):f=!1}f&&(s.set(l,h),o(h,l,i,a,s),s.delete(l));ti(t,n,h)}(t,e,s,n,Bi,i,o);else{var u=i?i(Ao(t,s),a,s+"",t,e,o):r;u===r&&(u=a),ti(t,s,u)}}),Is)}function zi(t,e){var n=t.length;if(n)return bo(e+=e<0?n:0,n)?t[e]:r}function qi(t,e,n){e=e.length?Re(e,(function(t){return qa(t)?function(e){return Ei(e,1===t.length?t[0]:t)}:t})):[iu];var i=-1;e=Re(e,$e(uo()));var r=Ui(t,(function(t,n,r){var o=Re(e,(function(e){return e(t)}));return{criteria:o,index:++i,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(r,(function(t,e){return function(t,e,n){var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;for(;++i<a;){var u=Tr(r[i],o[i]);if(u)return i>=s?u:u*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}))}function Wi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=Ei(t,a);n(s,a)&&$i(o,br(a,t),s)}return o}function Ki(t,e,n,i){var r=i?qe:ze,o=-1,a=e.length,s=t;for(t===e&&(e=Ar(e)),n&&(s=Re(t,$e(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=r(s,c,u,i))>-1;)s!==t&&Qt.call(s,u,1),Qt.call(t,u,1);return t}function Hi(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;bo(r)?Qt.call(t,r,1):hr(t,r)}}return t}function Gi(t,e){return t+de(_n()*(e-t+1))}function Qi(t,e){var n="";if(!t||e<1||e>d)return n;do{e%2&&(n+=t),(e=de(e/2))&&(t+=t)}while(e);return n}function Yi(t,e){return Io(Co(t,e,iu),t+"")}function Xi(t){return Xn(js(t))}function Ji(t,e){var n=js(t);return Ro(n,si(e,0,n.length))}function $i(t,e,n,i){if(!ts(t))return t;for(var o=-1,a=(e=br(e,t)).length,s=a-1,u=t;null!=u&&++o<a;){var l=Po(e[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=s){var h=u[l];(c=i?i(h,l,u):r)===r&&(c=ts(h)?h:bo(e[o+1])?[]:{})}ei(u,l,c),u=u[l]}return t}var tr=Mn?function(t,e){return Mn.set(t,e),t}:iu,er=$t?function(t,e){return $t(t,"toString",{configurable:!0,enumerable:!1,value:tu(e),writable:!0})}:iu;function nr(t){return Ro(js(t))}function ir(t,e,i){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(i=i>o?o:i)<0&&(i+=o),o=e>i?0:i-e>>>0,e>>>=0;for(var a=n(o);++r<o;)a[r]=t[r+e];return a}function rr(t,e){var n;return fi(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function or(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!us(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return ar(t,e,iu,n)}function ar(t,e,n,i){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!==e,u=null===e,l=us(e),c=e===r;o<a;){var h=de((o+a)/2),f=n(t[h]),v=f!==r,d=null===f,p=f===f,y=us(f);if(s)var m=i||p;else m=c?p&&(i||v):u?p&&v&&(i||!d):l?p&&v&&!d&&(i||!y):!d&&!y&&(i?f<=e:f<e);m?o=h+1:a=h}return bn(a,4294967294)}function sr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!ja(s,u)){var u=s;o[r++]=0===a?0:a}}return o}function ur(t){return"number"==typeof t?t:us(t)?p:+t}function lr(t){if("string"==typeof t)return t;if(qa(t))return Re(t,lr)+"";if(us(t))return Un?Un.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function cr(t,e,n){var i=-1,r=Le,o=t.length,a=!0,s=[],u=s;if(n)a=!1,r=Ne;else if(o>=200){var l=e?null:Qr(t);if(l)return fn(l);a=!1,r=en,u=new Gn}else u=e?[]:s;t:for(;++i<o;){var c=t[i],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(c)}else r(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}function hr(t,e){return null==(t=Oo(t,e=br(e,t)))||delete t[Po(Yo(e))]}function fr(t,e,n,i){return $i(t,e,n(Ei(t,e)),i)}function vr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?ir(t,i?0:o,i?o+1:r):ir(t,i?o+1:0,i?r:o)}function dr(t,e){var n=t;return n instanceof qn&&(n=n.value()),Pe(e,(function(t,e){return e.func.apply(e.thisArg,De([t],e.args))}),n)}function pr(t,e,i){var r=t.length;if(r<2)return r?cr(t[0]):[];for(var o=-1,a=n(r);++o<r;)for(var s=t[o],u=-1;++u<r;)u!=o&&(a[o]=hi(a[o]||s,t[u],e,i));return cr(mi(a,1),e,i)}function yr(t,e,n){for(var i=-1,o=t.length,a=e.length,s={};++i<o;){var u=i<a?e[i]:r;n(s,t[i],u)}return s}function mr(t){return Ha(t)?t:[]}function gr(t){return"function"==typeof t?t:iu}function br(t,e){return qa(t)?t:wo(t,e)?[t]:Do(gs(t))}var kr=Yi;function wr(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:ir(t,e,n)}var _r=ne||function(t){return pe.clearTimeout(t)};function Er(t,e){if(e)return t.slice();var n=t.length,i=Wt?Wt(n):new t.constructor(n);return t.copy(i),i}function xr(t){var e=new t.constructor(t.byteLength);return new qt(e).set(new qt(t)),e}function Sr(t,e){var n=e?xr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Tr(t,e){if(t!==e){var n=t!==r,i=null===t,o=t===t,a=us(t),s=e!==r,u=null===e,l=e===e,c=us(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||i&&s&&l||!n&&l||!o)return 1;if(!i&&!a&&!c&&t<e||c&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!l)return-1}return 0}function Cr(t,e,i,r){for(var o=-1,a=t.length,s=i.length,u=-1,l=e.length,c=Ge(a-s,0),h=n(l+c),f=!r;++u<l;)h[u]=e[u];for(;++o<s;)(f||o<a)&&(h[i[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function Or(t,e,i,r){for(var o=-1,a=t.length,s=-1,u=i.length,l=-1,c=e.length,h=Ge(a-u,0),f=n(h+c),v=!r;++o<h;)f[o]=t[o];for(var d=o;++l<c;)f[d+l]=e[l];for(;++s<u;)(v||o<a)&&(f[d+i[s]]=t[o++]);return f}function Ar(t,e){var i=-1,r=t.length;for(e||(e=n(r));++i<r;)e[i]=t[i];return e}function Mr(t,e,n,i){var o=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],l=i?i(n[u],t[u],u,n,t):r;l===r&&(l=t[u]),o?oi(n,u,l):ei(n,u,l)}return n}function Zr(t,e){return function(n,i){var r=qa(n)?Oe:ii,o=e?e():{};return r(n,t,uo(i,2),o)}}function Ir(t){return Yi((function(e,n){var i=-1,o=n.length,a=o>1?n[o-1]:r,s=o>2?n[2]:r;for(a=t.length>3&&"function"==typeof a?(o--,a):r,s&&ko(n[0],n[1],s)&&(a=o<3?r:a,o=1),e=Tt(e);++i<o;){var u=n[i];u&&t(e,u,i,a)}return e}))}function Lr(t,e){return function(n,i){if(null==n)return n;if(!Ka(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=Tt(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Nr(t){return function(e,n,i){for(var r=-1,o=Tt(e),a=i(e),s=a.length;s--;){var u=a[t?s:++r];if(!1===n(o[u],u,o))break}return e}}function Rr(t){return function(e){var n=un(e=gs(e))?pn(e):r,i=n?n[0]:e.charAt(0),o=n?wr(n,1).join(""):e.slice(1);return i[t]()+o}}function Dr(t){return function(e){return Pe(Xs(zs(e).replace(te,"")),t,"")}}function Pr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Vn(t.prototype),i=t.apply(n,e);return ts(i)?i:n}}function Fr(t){return function(e,n,i){var o=Tt(e);if(!Ka(e)){var a=uo(n,3);e=Zs(e),n=function(t){return a(o[t],t,o)}}var s=t(e,n,i);return s>-1?o[a?e[s]:s]:r}}function Ur(t){return no((function(e){var n=e.length,i=n,a=zn.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new At(o);if(a&&!u&&"wrapper"==ao(s))var u=new zn([],!0)}for(i=u?i:n;++i<n;){var l=ao(s=e[i]),c="wrapper"==l?oo(s):r;u=c&&_o(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ao(c[0])].apply(u,c[3]):1==s.length&&_o(s)?u[l]():u.thru(s)}return function(){var t=arguments,i=t[0];if(u&&1==t.length&&qa(i))return u.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))}function jr(t,e,i,o,a,s,u,l,c,f){var v=e&h,d=1&e,p=2&e,y=24&e,m=512&e,g=p?r:Pr(t);return function h(){for(var b=arguments.length,k=n(b),w=b;w--;)k[w]=arguments[w];if(y)var _=so(h),E=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(k,_);if(o&&(k=Cr(k,o,a,y)),s&&(k=Or(k,s,u,y)),b-=E,y&&b<f){var x=hn(k,_);return Hr(t,e,jr,h.placeholder,i,k,x,l,c,f-b)}var S=d?i:this,T=p?S[t]:t;return b=k.length,l?k=function(t,e){var n=t.length,i=bn(e.length,n),o=Ar(t);for(;i--;){var a=e[i];t[i]=bo(a,n)?o[a]:r}return t}(k,l):m&&b>1&&k.reverse(),v&&c<b&&(k.length=c),this&&this!==pe&&this instanceof h&&(T=g||Pr(T)),T.apply(S,k)}}function Vr(t,e){return function(n,i){return function(t,e,n,i){return ki(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function Br(t,e){return function(n,i){var o;if(n===r&&i===r)return e;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=lr(n),i=lr(i)):(n=ur(n),i=ur(i)),o=t(n,i)}return o}}function zr(t){return no((function(e){return e=Re(e,$e(uo())),Yi((function(n){var i=this;return t(e,(function(t){return Ce(t,i,n)}))}))}))}function qr(t,e){var n=(e=e===r?" ":lr(e)).length;if(n<2)return n?Qi(e,t):e;var i=Qi(e,ve(t/dn(e)));return un(e)?wr(pn(i),0,t).join(""):i.slice(0,t)}function Wr(t){return function(e,i,o){return o&&"number"!=typeof o&&ko(e,i,o)&&(i=o=r),e=vs(e),i===r?(i=e,e=0):i=vs(i),function(t,e,i,r){for(var o=-1,a=Ge(ve((e-t)/(i||1)),0),s=n(a);a--;)s[r?a:++o]=t,t+=i;return s}(e,i,o=o===r?e<i?1:-1:vs(o),t)}}function Kr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ys(e),n=ys(n)),t(e,n)}}function Hr(t,e,n,i,o,a,s,u,h,f){var v=8&e;e|=v?l:c,4&(e&=~(v?c:l))||(e&=-4);var d=[t,e,o,v?a:r,v?s:r,v?r:a,v?r:s,u,h,f],p=n.apply(r,d);return _o(t)&&Mo(p,d),p.placeholder=i,Lo(p,t,e)}function Gr(t){var e=St[t];return function(t,n){if(t=ys(t),(n=null==n?0:bn(ds(n),292))&&be(t)){var i=(gs(t)+"e").split("e");return+((i=(gs(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Qr=Cn&&1/fn(new Cn([,-0]))[1]==v?function(t){return new Cn(t)}:uu;function Yr(t){return function(e){var n=po(e);return n==S?ln(e):n==M?vn(e):function(t,e){return Re(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Xr(t,e,i,a,v,d,p,y){var m=2&e;if(!m&&"function"!=typeof t)throw new At(o);var g=a?a.length:0;if(g||(e&=-97,a=v=r),p=p===r?p:Ge(ds(p),0),y=y===r?y:ds(y),g-=v?v.length:0,e&c){var b=a,k=v;a=v=r}var w=m?r:oo(t),_=[t,e,i,a,v,b,k,d,p,y];if(w&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,a=i==h&&8==n||i==h&&n==f&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?Cr(l,u,e[4]):u,t[4]=l?hn(t[3],s):e[4]}(u=e[5])&&(l=t[5],t[5]=l?Or(l,u,e[6]):u,t[6]=l?hn(t[5],s):e[6]);(u=e[7])&&(t[7]=u);i&h&&(t[8]=null==t[8]?e[8]:bn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(_,w),t=_[0],e=_[1],i=_[2],a=_[3],v=_[4],!(y=_[9]=_[9]===r?m?0:t.length:Ge(_[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)E=8==e||e==u?function(t,e,i){var o=Pr(t);return function a(){for(var s=arguments.length,u=n(s),l=s,c=so(a);l--;)u[l]=arguments[l];var h=s<3&&u[0]!==c&&u[s-1]!==c?[]:hn(u,c);return(s-=h.length)<i?Hr(t,e,jr,a.placeholder,r,u,h,r,r,i-s):Ce(this&&this!==pe&&this instanceof a?o:t,this,u)}}(t,e,y):e!=l&&33!=e||v.length?jr.apply(r,_):function(t,e,i,r){var o=1&e,a=Pr(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=r.length,h=n(c+u),f=this&&this!==pe&&this instanceof e?a:t;++l<c;)h[l]=r[l];for(;u--;)h[l++]=arguments[++s];return Ce(f,o?i:this,h)}}(t,e,i,a);else var E=function(t,e,n){var i=1&e,r=Pr(t);return function e(){return(this&&this!==pe&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,i);return Lo((w?tr:Mo)(E,_),t,e)}function Jr(t,e,n,i){return t===r||ja(t,It[n])&&!Rt.call(i,n)?e:t}function $r(t,e,n,i,o,a){return ts(t)&&ts(e)&&(a.set(e,t),Bi(t,e,r,$r,a),a.delete(e)),t}function to(t){return rs(t)?r:t}function eo(t,e,n,i,o,a){var s=1&n,u=t.length,l=e.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(t),h=a.get(e);if(c&&h)return c==e&&h==t;var f=-1,v=!0,d=2&n?new Gn:r;for(a.set(t,e),a.set(e,t);++f<u;){var p=t[f],y=e[f];if(i)var m=s?i(y,p,f,e,t,a):i(p,y,f,t,e,a);if(m!==r){if(m)continue;v=!1;break}if(d){if(!Ue(e,(function(t,e){if(!en(d,e)&&(p===t||o(p,t,n,i,a)))return d.push(e)}))){v=!1;break}}else if(p!==y&&!o(p,y,n,i,a)){v=!1;break}}return a.delete(t),a.delete(e),v}function no(t){return Io(Co(t,r,Wo),t+"")}function io(t){return xi(t,Zs,fo)}function ro(t){return xi(t,Is,vo)}var oo=Mn?function(t){return Mn.get(t)}:uu;function ao(t){for(var e=t.name+"",n=Zn[e],i=Rt.call(Zn,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function so(t){return(Rt.call(jn,"placeholder")?jn:t).placeholder}function uo(){var t=jn.iteratee||ru;return t=t===ru?Ri:t,arguments.length?t(arguments[0],arguments[1]):t}function lo(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function co(t){for(var e=Zs(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,So(r)]}return e}function ho(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return Ni(n)?n:r}var fo=ye?function(t){return null==t?[]:(t=Tt(t),Ie(ye(t),(function(e){return Gt.call(t,e)})))}:pu,vo=ye?function(t){for(var e=[];t;)De(e,fo(t)),t=Kt(t);return e}:pu,po=Si;function yo(t,e,n){for(var i=-1,r=(e=br(e,t)).length,o=!1;++i<r;){var a=Po(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&$a(r)&&bo(a,r)&&(qa(t)||za(t))}function mo(t){return"function"!=typeof t.constructor||xo(t)?{}:Vn(Kt(t))}function go(t){return qa(t)||za(t)||!!(Yt&&t&&t[Yt])}function bo(t,e){var n=typeof t;return!!(e=null==e?d:e)&&("number"==n||"symbol"!=n&&kt.test(t))&&t>-1&&t%1==0&&t<e}function ko(t,e,n){if(!ts(n))return!1;var i=typeof e;return!!("number"==i?Ka(n)&&bo(e,n.length):"string"==i&&e in n)&&ja(n[e],t)}function wo(t,e){if(qa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!us(t))||(nt.test(t)||!et.test(t)||null!=e&&t in Tt(e))}function _o(t){var e=ao(t),n=jn[e];if("function"!=typeof n||!(e in qn.prototype))return!1;if(t===n)return!0;var i=oo(n);return!!i&&t===i[0]}(xn&&po(new xn(new ArrayBuffer(1)))!=R||Sn&&po(new Sn)!=S||Tn&&po(Tn.resolve())!=O||Cn&&po(new Cn)!=M||On&&po(new On)!=L)&&(po=function(t){var e=Si(t),n=e==C?t.constructor:r,i=n?Fo(n):"";if(i)switch(i){case In:return R;case Ln:return S;case Nn:return O;case Rn:return M;case Dn:return L}return e});var Eo=Lt?Xa:yu;function xo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||It)}function So(t){return t===t&&!ts(t)}function To(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==r||t in Tt(n)))}}function Co(t,e,i){return e=Ge(e===r?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=Ge(r.length-e,0),s=n(a);++o<a;)s[o]=r[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=r[o];return u[e]=i(s),Ce(t,this,u)}}function Oo(t,e){return e.length<2?t:Ei(t,ir(e,0,-1))}function Ao(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var Mo=No(tr),Zo=ce||function(t,e){return pe.setTimeout(t,e)},Io=No(er);function Lo(t,e,n){var i=e+"";return Io(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(ut,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Ae(m,(function(n){var i="_."+n[0];e&n[1]&&!Le(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(lt);return e?e[1].split(ct):[]}(i),n)))}function No(t){var e=0,n=0;return function(){var i=kn(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Ro(t,e){var n=-1,i=t.length,o=i-1;for(e=e===r?i:e;++n<e;){var a=Gi(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var Do=function(t){var e=Na(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(it,(function(t,n,i,r){e.push(i?r.replace(vt,"$1"):n||t)})),e}));function Po(t){if("string"==typeof t||us(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Fo(t){if(null!=t){try{return Nt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Uo(t){if(t instanceof qn)return t.clone();var e=new zn(t.__wrapped__,t.__chain__);return e.__actions__=Ar(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var jo=Yi((function(t,e){return Ha(t)?hi(t,mi(e,1,Ha,!0)):[]})),Vo=Yi((function(t,e){var n=Yo(e);return Ha(n)&&(n=r),Ha(t)?hi(t,mi(e,1,Ha,!0),uo(n,2)):[]})),Bo=Yi((function(t,e){var n=Yo(e);return Ha(n)&&(n=r),Ha(t)?hi(t,mi(e,1,Ha,!0),r,n):[]}));function zo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:ds(n);return r<0&&(r=Ge(i+r,0)),Be(t,uo(e,3),r)}function qo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return n!==r&&(o=ds(n),o=n<0?Ge(i+o,0):bn(o,i-1)),Be(t,uo(e,3),o,!0)}function Wo(t){return(null==t?0:t.length)?mi(t,1):[]}function Ko(t){return t&&t.length?t[0]:r}var Ho=Yi((function(t){var e=Re(t,mr);return e.length&&e[0]===t[0]?Ai(e):[]})),Go=Yi((function(t){var e=Yo(t),n=Re(t,mr);return e===Yo(n)?e=r:n.pop(),n.length&&n[0]===t[0]?Ai(n,uo(e,2)):[]})),Qo=Yi((function(t){var e=Yo(t),n=Re(t,mr);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?Ai(n,r,e):[]}));function Yo(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Xo=Yi(Jo);function Jo(t,e){return t&&t.length&&e&&e.length?Ki(t,e):t}var $o=no((function(t,e){var n=null==t?0:t.length,i=ai(t,e);return Hi(t,Re(e,(function(t){return bo(t,n)?+t:t})).sort(Tr)),i}));function ta(t){return null==t?t:En.call(t)}var ea=Yi((function(t){return cr(mi(t,1,Ha,!0))})),na=Yi((function(t){var e=Yo(t);return Ha(e)&&(e=r),cr(mi(t,1,Ha,!0),uo(e,2))})),ia=Yi((function(t){var e=Yo(t);return e="function"==typeof e?e:r,cr(mi(t,1,Ha,!0),r,e)}));function ra(t){if(!t||!t.length)return[];var e=0;return t=Ie(t,(function(t){if(Ha(t))return e=Ge(t.length,e),!0})),Xe(e,(function(e){return Re(t,He(e))}))}function oa(t,e){if(!t||!t.length)return[];var n=ra(t);return null==e?n:Re(n,(function(t){return Ce(e,r,t)}))}var aa=Yi((function(t,e){return Ha(t)?hi(t,e):[]})),sa=Yi((function(t){return pr(Ie(t,Ha))})),ua=Yi((function(t){var e=Yo(t);return Ha(e)&&(e=r),pr(Ie(t,Ha),uo(e,2))})),la=Yi((function(t){var e=Yo(t);return e="function"==typeof e?e:r,pr(Ie(t,Ha),r,e)})),ca=Yi(ra);var ha=Yi((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,oa(t,n)}));function fa(t){var e=jn(t);return e.__chain__=!0,e}function va(t,e){return e(t)}var da=no((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return ai(e,t)};return!(e>1||this.__actions__.length)&&i instanceof qn&&bo(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:va,args:[o],thisArg:r}),new zn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(o)}));var pa=Zr((function(t,e,n){Rt.call(t,n)?++t[n]:oi(t,n,1)}));var ya=Fr(zo),ma=Fr(qo);function ga(t,e){return(qa(t)?Ae:fi)(t,uo(e,3))}function ba(t,e){return(qa(t)?Me:vi)(t,uo(e,3))}var ka=Zr((function(t,e,n){Rt.call(t,n)?t[n].push(e):oi(t,n,[e])}));var wa=Yi((function(t,e,i){var r=-1,o="function"==typeof e,a=Ka(t)?n(t.length):[];return fi(t,(function(t){a[++r]=o?Ce(e,t,i):Mi(t,e,i)})),a})),_a=Zr((function(t,e,n){oi(t,n,e)}));function Ea(t,e){return(qa(t)?Re:Ui)(t,uo(e,3))}var xa=Zr((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Sa=Yi((function(t,e){if(null==t)return[];var n=e.length;return n>1&&ko(t,e[0],e[1])?e=[]:n>2&&ko(e[0],e[1],e[2])&&(e=[e[0]]),qi(t,mi(e,1),[])})),Ta=re||function(){return pe.Date.now()};function Ca(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Xr(t,h,r,r,r,r,e)}function Oa(t,e){var n;if("function"!=typeof e)throw new At(o);return t=ds(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var Aa=Yi((function(t,e,n){var i=1;if(n.length){var r=hn(n,so(Aa));i|=l}return Xr(t,i,e,n,r)})),Ma=Yi((function(t,e,n){var i=3;if(n.length){var r=hn(n,so(Ma));i|=l}return Xr(e,i,t,n,r)}));function Za(t,e,n){var i,a,s,u,l,c,h=0,f=!1,v=!1,d=!0;if("function"!=typeof t)throw new At(o);function p(e){var n=i,o=a;return i=a=r,h=e,u=t.apply(o,n)}function y(t){var n=t-c;return c===r||n>=e||n<0||v&&t-h>=s}function m(){var t=Ta();if(y(t))return g(t);l=Zo(m,function(t){var n=e-(t-c);return v?bn(n,s-(t-h)):n}(t))}function g(t){return l=r,d&&i?p(t):(i=a=r,u)}function b(){var t=Ta(),n=y(t);if(i=arguments,a=this,c=t,n){if(l===r)return function(t){return h=t,l=Zo(m,e),f?p(t):u}(c);if(v)return _r(l),l=Zo(m,e),p(c)}return l===r&&(l=Zo(m,e)),u}return e=ys(e)||0,ts(n)&&(f=!!n.leading,s=(v="maxWait"in n)?Ge(ys(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){l!==r&&_r(l),h=0,i=c=a=l=r},b.flush=function(){return l===r?u:g(Ta())},b}var Ia=Yi((function(t,e){return ci(t,1,e)})),La=Yi((function(t,e,n){return ci(t,ys(e)||0,n)}));function Na(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new At(o);var n=function n(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Na.Cache||Hn),n}function Ra(t){if("function"!=typeof t)throw new At(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Na.Cache=Hn;var Da=kr((function(t,e){var n=(e=1==e.length&&qa(e[0])?Re(e[0],$e(uo())):Re(mi(e,1),$e(uo()))).length;return Yi((function(i){for(var r=-1,o=bn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return Ce(t,this,i)}))})),Pa=Yi((function(t,e){var n=hn(e,so(Pa));return Xr(t,l,r,e,n)})),Fa=Yi((function(t,e){var n=hn(e,so(Fa));return Xr(t,c,r,e,n)})),Ua=no((function(t,e){return Xr(t,f,r,r,r,e)}));function ja(t,e){return t===e||t!==t&&e!==e}var Va=Kr(Ti),Ba=Kr((function(t,e){return t>=e})),za=Zi(function(){return arguments}())?Zi:function(t){return es(t)&&Rt.call(t,"callee")&&!Gt.call(t,"callee")},qa=n.isArray,Wa=we?$e(we):function(t){return es(t)&&Si(t)==N};function Ka(t){return null!=t&&$a(t.length)&&!Xa(t)}function Ha(t){return es(t)&&Ka(t)}var Ga=me||yu,Qa=_e?$e(_e):function(t){return es(t)&&Si(t)==w};function Ya(t){if(!es(t))return!1;var e=Si(t);return e==_||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!rs(t)}function Xa(t){if(!ts(t))return!1;var e=Si(t);return e==E||e==x||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ja(t){return"number"==typeof t&&t==ds(t)}function $a(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=d}function ts(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function es(t){return null!=t&&"object"==typeof t}var ns=Ee?$e(Ee):function(t){return es(t)&&po(t)==S};function is(t){return"number"==typeof t||es(t)&&Si(t)==T}function rs(t){if(!es(t)||Si(t)!=C)return!1;var e=Kt(t);if(null===e)return!0;var n=Rt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Nt.call(n)==Ut}var os=xe?$e(xe):function(t){return es(t)&&Si(t)==A};var as=Se?$e(Se):function(t){return es(t)&&po(t)==M};function ss(t){return"string"==typeof t||!qa(t)&&es(t)&&Si(t)==Z}function us(t){return"symbol"==typeof t||es(t)&&Si(t)==I}var ls=Te?$e(Te):function(t){return es(t)&&$a(t.length)&&!!ue[Si(t)]};var cs=Kr(Fi),hs=Kr((function(t,e){return t<=e}));function fs(t){if(!t)return[];if(Ka(t))return ss(t)?pn(t):Ar(t);if(Xt&&t[Xt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Xt]());var e=po(t);return(e==S?ln:e==M?fn:js)(t)}function vs(t){return t?(t=ys(t))===v||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function ds(t){var e=vs(t),n=e%1;return e===e?n?e-n:e:0}function ps(t){return t?si(ds(t),0,y):0}function ys(t){if("number"==typeof t)return t;if(us(t))return p;if(ts(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ts(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var n=mt.test(t);return n||bt.test(t)?fe(t.slice(2),n?2:8):yt.test(t)?p:+t}function ms(t){return Mr(t,Is(t))}function gs(t){return null==t?"":lr(t)}var bs=Ir((function(t,e){if(xo(e)||Ka(e))Mr(e,Zs(e),t);else for(var n in e)Rt.call(e,n)&&ei(t,n,e[n])})),ks=Ir((function(t,e){Mr(e,Is(e),t)})),ws=Ir((function(t,e,n,i){Mr(e,Is(e),t,i)})),_s=Ir((function(t,e,n,i){Mr(e,Zs(e),t,i)})),Es=no(ai);var xs=Yi((function(t,e){t=Tt(t);var n=-1,i=e.length,o=i>2?e[2]:r;for(o&&ko(e[0],e[1],o)&&(i=1);++n<i;)for(var a=e[n],s=Is(a),u=-1,l=s.length;++u<l;){var c=s[u],h=t[c];(h===r||ja(h,It[c])&&!Rt.call(t,c))&&(t[c]=a[c])}return t})),Ss=Yi((function(t){return t.push(r,$r),Ce(Ns,r,t)}));function Ts(t,e,n){var i=null==t?r:Ei(t,e);return i===r?n:i}function Cs(t,e){return null!=t&&yo(t,e,Oi)}var Os=Vr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),t[e]=n}),tu(iu)),As=Vr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),Rt.call(t,e)?t[e].push(n):t[e]=[n]}),uo),Ms=Yi(Mi);function Zs(t){return Ka(t)?Yn(t):Di(t)}function Is(t){return Ka(t)?Yn(t,!0):Pi(t)}var Ls=Ir((function(t,e,n){Bi(t,e,n)})),Ns=Ir((function(t,e,n,i){Bi(t,e,n,i)})),Rs=no((function(t,e){var n={};if(null==t)return n;var i=!1;e=Re(e,(function(e){return e=br(e,t),i||(i=e.length>1),e})),Mr(t,ro(t),n),i&&(n=ui(n,7,to));for(var r=e.length;r--;)hr(n,e[r]);return n}));var Ds=no((function(t,e){return null==t?{}:function(t,e){return Wi(t,e,(function(e,n){return Cs(t,n)}))}(t,e)}));function Ps(t,e){if(null==t)return{};var n=Re(ro(t),(function(t){return[t]}));return e=uo(e),Wi(t,n,(function(t,n){return e(t,n[0])}))}var Fs=Yr(Zs),Us=Yr(Is);function js(t){return null==t?[]:tn(t,Zs(t))}var Vs=Dr((function(t,e,n){return e=e.toLowerCase(),t+(n?Bs(e):e)}));function Bs(t){return Ys(gs(t).toLowerCase())}function zs(t){return(t=gs(t))&&t.replace(wt,on).replace(ee,"")}var qs=Dr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ws=Dr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ks=Rr("toLowerCase");var Hs=Dr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Gs=Dr((function(t,e,n){return t+(n?" ":"")+Ys(e)}));var Qs=Dr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ys=Rr("toUpperCase");function Xs(t,e,n){return t=gs(t),(e=n?r:e)===r?function(t){return oe.test(t)}(t)?function(t){return t.match(ie)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var Js=Yi((function(t,e){try{return Ce(t,r,e)}catch(n){return Ya(n)?n:new st(n)}})),$s=no((function(t,e){return Ae(e,(function(e){e=Po(e),oi(t,e,Aa(t[e],t))})),t}));function tu(t){return function(){return t}}var eu=Ur(),nu=Ur(!0);function iu(t){return t}function ru(t){return Ri("function"==typeof t?t:ui(t,1))}var ou=Yi((function(t,e){return function(n){return Mi(n,t,e)}})),au=Yi((function(t,e){return function(n){return Mi(t,n,e)}}));function su(t,e,n){var i=Zs(e),r=_i(e,i);null!=n||ts(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=_i(e,Zs(e)));var o=!(ts(n)&&"chain"in n)||!!n.chain,a=Xa(t);return Ae(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Ar(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,De([this.value()],arguments))})})),t}function uu(){}var lu=zr(Re),cu=zr(Ze),hu=zr(Ue);function fu(t){return wo(t)?He(Po(t)):function(t){return function(e){return Ei(e,t)}}(t)}var vu=Wr(),du=Wr(!0);function pu(){return[]}function yu(){return!1}var mu=Br((function(t,e){return t+e}),0),gu=Gr("ceil"),bu=Br((function(t,e){return t/e}),1),ku=Gr("floor");var wu=Br((function(t,e){return t*e}),1),_u=Gr("round"),Eu=Br((function(t,e){return t-e}),0);return jn.after=function(t,e){if("function"!=typeof e)throw new At(o);return t=ds(t),function(){if(--t<1)return e.apply(this,arguments)}},jn.ary=Ca,jn.assign=bs,jn.assignIn=ks,jn.assignInWith=ws,jn.assignWith=_s,jn.at=Es,jn.before=Oa,jn.bind=Aa,jn.bindAll=$s,jn.bindKey=Ma,jn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return qa(t)?t:[t]},jn.chain=fa,jn.chunk=function(t,e,i){e=(i?ko(t,e,i):e===r)?1:Ge(ds(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,s=0,u=n(ve(o/e));a<o;)u[s++]=ir(t,a,a+=e);return u},jn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},jn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),i=arguments[0],r=t;r--;)e[r-1]=arguments[r];return De(qa(i)?Ar(i):[i],mi(e,1))},jn.cond=function(t){var e=null==t?0:t.length,n=uo();return t=e?Re(t,(function(t){if("function"!=typeof t[1])throw new At(o);return[n(t[0]),t[1]]})):[],Yi((function(n){for(var i=-1;++i<e;){var r=t[i];if(Ce(r[0],this,n))return Ce(r[1],this,n)}}))},jn.conforms=function(t){return function(t){var e=Zs(t);return function(n){return li(n,t,e)}}(ui(t,1))},jn.constant=tu,jn.countBy=pa,jn.create=function(t,e){var n=Vn(t);return null==e?n:ri(n,e)},jn.curry=function t(e,n,i){var o=Xr(e,8,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},jn.curryRight=function t(e,n,i){var o=Xr(e,u,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},jn.debounce=Za,jn.defaults=xs,jn.defaultsDeep=Ss,jn.defer=Ia,jn.delay=La,jn.difference=jo,jn.differenceBy=Vo,jn.differenceWith=Bo,jn.drop=function(t,e,n){var i=null==t?0:t.length;return i?ir(t,(e=n||e===r?1:ds(e))<0?0:e,i):[]},jn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?ir(t,0,(e=i-(e=n||e===r?1:ds(e)))<0?0:e):[]},jn.dropRightWhile=function(t,e){return t&&t.length?vr(t,uo(e,3),!0,!0):[]},jn.dropWhile=function(t,e){return t&&t.length?vr(t,uo(e,3),!0):[]},jn.fill=function(t,e,n,i){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&ko(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=ds(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:ds(i))<0&&(i+=o),i=n>i?0:ps(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},jn.filter=function(t,e){return(qa(t)?Ie:yi)(t,uo(e,3))},jn.flatMap=function(t,e){return mi(Ea(t,e),1)},jn.flatMapDeep=function(t,e){return mi(Ea(t,e),v)},jn.flatMapDepth=function(t,e,n){return n=n===r?1:ds(n),mi(Ea(t,e),n)},jn.flatten=Wo,jn.flattenDeep=function(t){return(null==t?0:t.length)?mi(t,v):[]},jn.flattenDepth=function(t,e){return(null==t?0:t.length)?mi(t,e=e===r?1:ds(e)):[]},jn.flip=function(t){return Xr(t,512)},jn.flow=eu,jn.flowRight=nu,jn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},jn.functions=function(t){return null==t?[]:_i(t,Zs(t))},jn.functionsIn=function(t){return null==t?[]:_i(t,Is(t))},jn.groupBy=ka,jn.initial=function(t){return(null==t?0:t.length)?ir(t,0,-1):[]},jn.intersection=Ho,jn.intersectionBy=Go,jn.intersectionWith=Qo,jn.invert=Os,jn.invertBy=As,jn.invokeMap=wa,jn.iteratee=ru,jn.keyBy=_a,jn.keys=Zs,jn.keysIn=Is,jn.map=Ea,jn.mapKeys=function(t,e){var n={};return e=uo(e,3),ki(t,(function(t,i,r){oi(n,e(t,i,r),t)})),n},jn.mapValues=function(t,e){var n={};return e=uo(e,3),ki(t,(function(t,i,r){oi(n,i,e(t,i,r))})),n},jn.matches=function(t){return ji(ui(t,1))},jn.matchesProperty=function(t,e){return Vi(t,ui(e,1))},jn.memoize=Na,jn.merge=Ls,jn.mergeWith=Ns,jn.method=ou,jn.methodOf=au,jn.mixin=su,jn.negate=Ra,jn.nthArg=function(t){return t=ds(t),Yi((function(e){return zi(e,t)}))},jn.omit=Rs,jn.omitBy=function(t,e){return Ps(t,Ra(uo(e)))},jn.once=function(t){return Oa(2,t)},jn.orderBy=function(t,e,n,i){return null==t?[]:(qa(e)||(e=null==e?[]:[e]),qa(n=i?r:n)||(n=null==n?[]:[n]),qi(t,e,n))},jn.over=lu,jn.overArgs=Da,jn.overEvery=cu,jn.overSome=hu,jn.partial=Pa,jn.partialRight=Fa,jn.partition=xa,jn.pick=Ds,jn.pickBy=Ps,jn.property=fu,jn.propertyOf=function(t){return function(e){return null==t?r:Ei(t,e)}},jn.pull=Xo,jn.pullAll=Jo,jn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ki(t,e,uo(n,2)):t},jn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ki(t,e,r,n):t},jn.pullAt=$o,jn.range=vu,jn.rangeRight=du,jn.rearg=Ua,jn.reject=function(t,e){return(qa(t)?Ie:yi)(t,Ra(uo(e,3)))},jn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=uo(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Hi(t,r),n},jn.rest=function(t,e){if("function"!=typeof t)throw new At(o);return Yi(t,e=e===r?e:ds(e))},jn.reverse=ta,jn.sampleSize=function(t,e,n){return e=(n?ko(t,e,n):e===r)?1:ds(e),(qa(t)?Jn:Ji)(t,e)},jn.set=function(t,e,n){return null==t?t:$i(t,e,n)},jn.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:$i(t,e,n,i)},jn.shuffle=function(t){return(qa(t)?$n:nr)(t)},jn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&ko(t,e,n)?(e=0,n=i):(e=null==e?0:ds(e),n=n===r?i:ds(n)),ir(t,e,n)):[]},jn.sortBy=Sa,jn.sortedUniq=function(t){return t&&t.length?sr(t):[]},jn.sortedUniqBy=function(t,e){return t&&t.length?sr(t,uo(e,2)):[]},jn.split=function(t,e,n){return n&&"number"!=typeof n&&ko(t,e,n)&&(e=n=r),(n=n===r?y:n>>>0)?(t=gs(t))&&("string"==typeof e||null!=e&&!os(e))&&!(e=lr(e))&&un(t)?wr(pn(t),0,n):t.split(e,n):[]},jn.spread=function(t,e){if("function"!=typeof t)throw new At(o);return e=null==e?0:Ge(ds(e),0),Yi((function(n){var i=n[e],r=wr(n,0,e);return i&&De(r,i),Ce(t,this,r)}))},jn.tail=function(t){var e=null==t?0:t.length;return e?ir(t,1,e):[]},jn.take=function(t,e,n){return t&&t.length?ir(t,0,(e=n||e===r?1:ds(e))<0?0:e):[]},jn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?ir(t,(e=i-(e=n||e===r?1:ds(e)))<0?0:e,i):[]},jn.takeRightWhile=function(t,e){return t&&t.length?vr(t,uo(e,3),!1,!0):[]},jn.takeWhile=function(t,e){return t&&t.length?vr(t,uo(e,3)):[]},jn.tap=function(t,e){return e(t),t},jn.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new At(o);return ts(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Za(t,e,{leading:i,maxWait:e,trailing:r})},jn.thru=va,jn.toArray=fs,jn.toPairs=Fs,jn.toPairsIn=Us,jn.toPath=function(t){return qa(t)?Re(t,Po):us(t)?[t]:Ar(Do(gs(t)))},jn.toPlainObject=ms,jn.transform=function(t,e,n){var i=qa(t),r=i||Ga(t)||ls(t);if(e=uo(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:ts(t)&&Xa(o)?Vn(Kt(t)):{}}return(r?Ae:ki)(t,(function(t,i,r){return e(n,t,i,r)})),n},jn.unary=function(t){return Ca(t,1)},jn.union=ea,jn.unionBy=na,jn.unionWith=ia,jn.uniq=function(t){return t&&t.length?cr(t):[]},jn.uniqBy=function(t,e){return t&&t.length?cr(t,uo(e,2)):[]},jn.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?cr(t,r,e):[]},jn.unset=function(t,e){return null==t||hr(t,e)},jn.unzip=ra,jn.unzipWith=oa,jn.update=function(t,e,n){return null==t?t:fr(t,e,gr(n))},jn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:fr(t,e,gr(n),i)},jn.values=js,jn.valuesIn=function(t){return null==t?[]:tn(t,Is(t))},jn.without=aa,jn.words=Xs,jn.wrap=function(t,e){return Pa(gr(e),t)},jn.xor=sa,jn.xorBy=ua,jn.xorWith=la,jn.zip=ca,jn.zipObject=function(t,e){return yr(t||[],e||[],ei)},jn.zipObjectDeep=function(t,e){return yr(t||[],e||[],$i)},jn.zipWith=ha,jn.entries=Fs,jn.entriesIn=Us,jn.extend=ks,jn.extendWith=ws,su(jn,jn),jn.add=mu,jn.attempt=Js,jn.camelCase=Vs,jn.capitalize=Bs,jn.ceil=gu,jn.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=ys(n))===n?n:0),e!==r&&(e=(e=ys(e))===e?e:0),si(ys(t),e,n)},jn.clone=function(t){return ui(t,4)},jn.cloneDeep=function(t){return ui(t,5)},jn.cloneDeepWith=function(t,e){return ui(t,5,e="function"==typeof e?e:r)},jn.cloneWith=function(t,e){return ui(t,4,e="function"==typeof e?e:r)},jn.conformsTo=function(t,e){return null==e||li(t,e,Zs(e))},jn.deburr=zs,jn.defaultTo=function(t,e){return null==t||t!==t?e:t},jn.divide=bu,jn.endsWith=function(t,e,n){t=gs(t),e=lr(e);var i=t.length,o=n=n===r?i:si(ds(n),0,i);return(n-=e.length)>=0&&t.slice(n,o)==e},jn.eq=ja,jn.escape=function(t){return(t=gs(t))&&X.test(t)?t.replace(Q,an):t},jn.escapeRegExp=function(t){return(t=gs(t))&&ot.test(t)?t.replace(rt,"\\$&"):t},jn.every=function(t,e,n){var i=qa(t)?Ze:di;return n&&ko(t,e,n)&&(e=r),i(t,uo(e,3))},jn.find=ya,jn.findIndex=zo,jn.findKey=function(t,e){return Ve(t,uo(e,3),ki)},jn.findLast=ma,jn.findLastIndex=qo,jn.findLastKey=function(t,e){return Ve(t,uo(e,3),wi)},jn.floor=ku,jn.forEach=ga,jn.forEachRight=ba,jn.forIn=function(t,e){return null==t?t:gi(t,uo(e,3),Is)},jn.forInRight=function(t,e){return null==t?t:bi(t,uo(e,3),Is)},jn.forOwn=function(t,e){return t&&ki(t,uo(e,3))},jn.forOwnRight=function(t,e){return t&&wi(t,uo(e,3))},jn.get=Ts,jn.gt=Va,jn.gte=Ba,jn.has=function(t,e){return null!=t&&yo(t,e,Ci)},jn.hasIn=Cs,jn.head=Ko,jn.identity=iu,jn.includes=function(t,e,n,i){t=Ka(t)?t:js(t),n=n&&!i?ds(n):0;var r=t.length;return n<0&&(n=Ge(r+n,0)),ss(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&ze(t,e,n)>-1},jn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:ds(n);return r<0&&(r=Ge(i+r,0)),ze(t,e,r)},jn.inRange=function(t,e,n){return e=vs(e),n===r?(n=e,e=0):n=vs(n),function(t,e,n){return t>=bn(e,n)&&t<Ge(e,n)}(t=ys(t),e,n)},jn.invoke=Ms,jn.isArguments=za,jn.isArray=qa,jn.isArrayBuffer=Wa,jn.isArrayLike=Ka,jn.isArrayLikeObject=Ha,jn.isBoolean=function(t){return!0===t||!1===t||es(t)&&Si(t)==k},jn.isBuffer=Ga,jn.isDate=Qa,jn.isElement=function(t){return es(t)&&1===t.nodeType&&!rs(t)},jn.isEmpty=function(t){if(null==t)return!0;if(Ka(t)&&(qa(t)||"string"==typeof t||"function"==typeof t.splice||Ga(t)||ls(t)||za(t)))return!t.length;var e=po(t);if(e==S||e==M)return!t.size;if(xo(t))return!Di(t).length;for(var n in t)if(Rt.call(t,n))return!1;return!0},jn.isEqual=function(t,e){return Ii(t,e)},jn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?Ii(t,e,r,n):!!i},jn.isError=Ya,jn.isFinite=function(t){return"number"==typeof t&&be(t)},jn.isFunction=Xa,jn.isInteger=Ja,jn.isLength=$a,jn.isMap=ns,jn.isMatch=function(t,e){return t===e||Li(t,e,co(e))},jn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,Li(t,e,co(e),n)},jn.isNaN=function(t){return is(t)&&t!=+t},jn.isNative=function(t){if(Eo(t))throw new st("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ni(t)},jn.isNil=function(t){return null==t},jn.isNull=function(t){return null===t},jn.isNumber=is,jn.isObject=ts,jn.isObjectLike=es,jn.isPlainObject=rs,jn.isRegExp=os,jn.isSafeInteger=function(t){return Ja(t)&&t>=-9007199254740991&&t<=d},jn.isSet=as,jn.isString=ss,jn.isSymbol=us,jn.isTypedArray=ls,jn.isUndefined=function(t){return t===r},jn.isWeakMap=function(t){return es(t)&&po(t)==L},jn.isWeakSet=function(t){return es(t)&&"[object WeakSet]"==Si(t)},jn.join=function(t,e){return null==t?"":ke.call(t,e)},jn.kebabCase=qs,jn.last=Yo,jn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=ds(n))<0?Ge(i+o,0):bn(o,i-1)),e===e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,o):Be(t,We,o,!0)},jn.lowerCase=Ws,jn.lowerFirst=Ks,jn.lt=cs,jn.lte=hs,jn.max=function(t){return t&&t.length?pi(t,iu,Ti):r},jn.maxBy=function(t,e){return t&&t.length?pi(t,uo(e,2),Ti):r},jn.mean=function(t){return Ke(t,iu)},jn.meanBy=function(t,e){return Ke(t,uo(e,2))},jn.min=function(t){return t&&t.length?pi(t,iu,Fi):r},jn.minBy=function(t,e){return t&&t.length?pi(t,uo(e,2),Fi):r},jn.stubArray=pu,jn.stubFalse=yu,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=wu,jn.nth=function(t,e){return t&&t.length?zi(t,ds(e)):r},jn.noConflict=function(){return pe._===this&&(pe._=jt),this},jn.noop=uu,jn.now=Ta,jn.pad=function(t,e,n){t=gs(t);var i=(e=ds(e))?dn(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return qr(de(r),n)+t+qr(ve(r),n)},jn.padEnd=function(t,e,n){t=gs(t);var i=(e=ds(e))?dn(t):0;return e&&i<e?t+qr(e-i,n):t},jn.padStart=function(t,e,n){t=gs(t);var i=(e=ds(e))?dn(t):0;return e&&i<e?qr(e-i,n)+t:t},jn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),wn(gs(t).replace(at,""),e||0)},jn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&ko(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=vs(t),e===r?(e=t,t=0):e=vs(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=_n();return bn(t+o*(e-t+he("1e-"+((o+"").length-1))),e)}return Gi(t,e)},jn.reduce=function(t,e,n){var i=qa(t)?Pe:Qe,r=arguments.length<3;return i(t,uo(e,4),n,r,fi)},jn.reduceRight=function(t,e,n){var i=qa(t)?Fe:Qe,r=arguments.length<3;return i(t,uo(e,4),n,r,vi)},jn.repeat=function(t,e,n){return e=(n?ko(t,e,n):e===r)?1:ds(e),Qi(gs(t),e)},jn.replace=function(){var t=arguments,e=gs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},jn.result=function(t,e,n){var i=-1,o=(e=br(e,t)).length;for(o||(o=1,t=r);++i<o;){var a=null==t?r:t[Po(e[i])];a===r&&(i=o,a=n),t=Xa(a)?a.call(t):a}return t},jn.round=_u,jn.runInContext=t,jn.sample=function(t){return(qa(t)?Xn:Xi)(t)},jn.size=function(t){if(null==t)return 0;if(Ka(t))return ss(t)?dn(t):t.length;var e=po(t);return e==S||e==M?t.size:Di(t).length},jn.snakeCase=Hs,jn.some=function(t,e,n){var i=qa(t)?Ue:rr;return n&&ko(t,e,n)&&(e=r),i(t,uo(e,3))},jn.sortedIndex=function(t,e){return or(t,e)},jn.sortedIndexBy=function(t,e,n){return ar(t,e,uo(n,2))},jn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=or(t,e);if(i<n&&ja(t[i],e))return i}return-1},jn.sortedLastIndex=function(t,e){return or(t,e,!0)},jn.sortedLastIndexBy=function(t,e,n){return ar(t,e,uo(n,2),!0)},jn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=or(t,e,!0)-1;if(ja(t[n],e))return n}return-1},jn.startCase=Gs,jn.startsWith=function(t,e,n){return t=gs(t),n=null==n?0:si(ds(n),0,t.length),e=lr(e),t.slice(n,n+e.length)==e},jn.subtract=Eu,jn.sum=function(t){return t&&t.length?Ye(t,iu):0},jn.sumBy=function(t,e){return t&&t.length?Ye(t,uo(e,2)):0},jn.template=function(t,e,n){var i=jn.templateSettings;n&&ko(t,e,n)&&(e=r),t=gs(t),e=ws({},e,i,Jr);var o,a,s=ws({},e.imports,i.imports,Jr),u=Zs(s),l=tn(s,u),c=0,h=e.interpolate||_t,f="__p += '",v=Ct((e.escape||_t).source+"|"+h.source+"|"+(h===tt?dt:_t).source+"|"+(e.evaluate||_t).source+"|$","g"),d="//# sourceURL="+(Rt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++se+"]")+"\n";t.replace(v,(function(e,n,i,r,s,u){return i||(i=r),f+=t.slice(c,u).replace(Et,sn),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),f+="';\n";var p=Rt.call(e,"variable")&&e.variable;if(p){if(ft.test(p))throw new st("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(W,""):f).replace(K,"$1").replace(H,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=Js((function(){return xt(u,d+"return "+f).apply(r,l)}));if(y.source=f,Ya(y))throw y;return y},jn.times=function(t,e){if((t=ds(t))<1||t>d)return[];var n=y,i=bn(t,y);e=uo(e),t-=y;for(var r=Xe(i,e);++n<t;)e(n);return r},jn.toFinite=vs,jn.toInteger=ds,jn.toLength=ps,jn.toLower=function(t){return gs(t).toLowerCase()},jn.toNumber=ys,jn.toSafeInteger=function(t){return t?si(ds(t),-9007199254740991,d):0===t?t:0},jn.toString=gs,jn.toUpper=function(t){return gs(t).toUpperCase()},jn.trim=function(t,e,n){if((t=gs(t))&&(n||e===r))return Je(t);if(!t||!(e=lr(e)))return t;var i=pn(t),o=pn(e);return wr(i,nn(i,o),rn(i,o)+1).join("")},jn.trimEnd=function(t,e,n){if((t=gs(t))&&(n||e===r))return t.slice(0,yn(t)+1);if(!t||!(e=lr(e)))return t;var i=pn(t);return wr(i,0,rn(i,pn(e))+1).join("")},jn.trimStart=function(t,e,n){if((t=gs(t))&&(n||e===r))return t.replace(at,"");if(!t||!(e=lr(e)))return t;var i=pn(t);return wr(i,nn(i,pn(e))).join("")},jn.truncate=function(t,e){var n=30,i="...";if(ts(e)){var o="separator"in e?e.separator:o;n="length"in e?ds(e.length):n,i="omission"in e?lr(e.omission):i}var a=(t=gs(t)).length;if(un(t)){var s=pn(t);a=s.length}if(n>=a)return t;var u=n-dn(i);if(u<1)return i;var l=s?wr(s,0,u).join(""):t.slice(0,u);if(o===r)return l+i;if(s&&(u+=l.length-u),os(o)){if(t.slice(u).search(o)){var c,h=l;for(o.global||(o=Ct(o.source,gs(pt.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var f=c.index;l=l.slice(0,f===r?u:f)}}else if(t.indexOf(lr(o),u)!=u){var v=l.lastIndexOf(o);v>-1&&(l=l.slice(0,v))}return l+i},jn.unescape=function(t){return(t=gs(t))&&Y.test(t)?t.replace(G,mn):t},jn.uniqueId=function(t){var e=++Dt;return gs(t)+e},jn.upperCase=Qs,jn.upperFirst=Ys,jn.each=ga,jn.eachRight=ba,jn.first=Ko,su(jn,function(){var t={};return ki(jn,(function(e,n){Rt.call(jn.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),jn.VERSION="4.17.21",Ae(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){jn[t].placeholder=jn})),Ae(["drop","take"],(function(t,e){qn.prototype[t]=function(n){n=n===r?1:Ge(ds(n),0);var i=this.__filtered__&&!e?new qn(this):this.clone();return i.__filtered__?i.__takeCount__=bn(n,i.__takeCount__):i.__views__.push({size:bn(n,y),type:t+(i.__dir__<0?"Right":"")}),i},qn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ae(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;qn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:uo(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),Ae(["head","last"],(function(t,e){var n="take"+(e?"Right":"");qn.prototype[t]=function(){return this[n](1).value()[0]}})),Ae(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");qn.prototype[t]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(iu)},qn.prototype.find=function(t){return this.filter(t).head()},qn.prototype.findLast=function(t){return this.reverse().find(t)},qn.prototype.invokeMap=Yi((function(t,e){return"function"==typeof t?new qn(this):this.map((function(n){return Mi(n,t,e)}))})),qn.prototype.reject=function(t){return this.filter(Ra(uo(t)))},qn.prototype.slice=function(t,e){t=ds(t);var n=this;return n.__filtered__&&(t>0||e<0)?new qn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=ds(e))<0?n.dropRight(-e):n.take(e-t)),n)},qn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},qn.prototype.toArray=function(){return this.take(y)},ki(qn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=jn[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);o&&(jn.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,u=e instanceof qn,l=s[0],c=u||qa(e),h=function(t){var e=o.apply(jn,De([t],s));return i&&f?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,v=!!this.__actions__.length,d=a&&!f,p=u&&!v;if(!a&&c){e=p?e:new qn(this);var y=t.apply(e,s);return y.__actions__.push({func:va,args:[h],thisArg:r}),new zn(y,f)}return d&&p?t.apply(this,s):(y=this.thru(h),d?i?y.value()[0]:y.value():y)})})),Ae(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Mt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);jn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(qa(r)?r:[],t)}return this[n]((function(n){return e.apply(qa(n)?n:[],t)}))}})),ki(qn.prototype,(function(t,e){var n=jn[e];if(n){var i=n.name+"";Rt.call(Zn,i)||(Zn[i]=[]),Zn[i].push({name:e,func:n})}})),Zn[jr(r,2).name]=[{name:"wrapper",func:r}],qn.prototype.clone=function(){var t=new qn(this.__wrapped__);return t.__actions__=Ar(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ar(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ar(this.__views__),t},qn.prototype.reverse=function(){if(this.__filtered__){var t=new qn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},qn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=qa(t),i=e<0,r=n?t.length:0,o=function(t,e,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=bn(e,t+a);break;case"takeRight":t=Ge(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,u=s-a,l=i?s:a-1,c=this.__iteratees__,h=c.length,f=0,v=bn(u,this.__takeCount__);if(!n||!i&&r==u&&v==u)return dr(t,this.__actions__);var d=[];t:for(;u--&&f<v;){for(var p=-1,y=t[l+=e];++p<h;){var m=c[p],g=m.iteratee,b=m.type,k=g(y);if(2==b)y=k;else if(!k){if(1==b)continue t;break t}}d[f++]=y}return d},jn.prototype.at=da,jn.prototype.chain=function(){return fa(this)},jn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===r&&(this.__values__=fs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},jn.prototype.plant=function(t){for(var e,n=this;n instanceof Bn;){var i=Uo(n);i.__index__=0,i.__values__=r,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},jn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof qn){var e=t;return this.__actions__.length&&(e=new qn(this)),(e=e.reverse()).__actions__.push({func:va,args:[ta],thisArg:r}),new zn(e,this.__chain__)}return this.thru(ta)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return dr(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,Xt&&(jn.prototype[Xt]=function(){return this}),jn}();pe._=gn,(i=function(){return gn}.call(e,n,e,t))===r||(t.exports=i)}.call(this)},888:function(t,e,n){"use strict";var i=n(9047);function r(){}function o(){}o.resetWarningCache=r,t.exports=function(){function t(t,e,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},2007:function(t,e,n){t.exports=n(888)()},9047:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8820:function(t,e,n){"use strict";n.d(e,{Zs0:function(){return r}});var i=n(9983);function r(t){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M924.3 338.4a447.57 447.57 0 0 0-96.1-143.3 443.09 443.09 0 0 0-143-96.3A443.91 443.91 0 0 0 512 64h-2c-60.5.3-119 12.3-174.1 35.9a444.08 444.08 0 0 0-141.7 96.5 445 445 0 0 0-95 142.8A449.89 449.89 0 0 0 65 514.1c.3 69.4 16.9 138.3 47.9 199.9v152c0 25.4 20.6 46 45.9 46h151.8a447.72 447.72 0 0 0 199.5 48h2.1c59.8 0 117.7-11.6 172.3-34.3A443.2 443.2 0 0 0 827 830.5c41.2-40.9 73.6-88.7 96.3-142 23.5-55.2 35.5-113.9 35.8-174.5.2-60.9-11.6-120-34.8-175.6zM312.4 560c-26.4 0-47.9-21.5-47.9-48s21.5-48 47.9-48 47.9 21.5 47.9 48-21.4 48-47.9 48zm199.6 0c-26.4 0-47.9-21.5-47.9-48s21.5-48 47.9-48 47.9 21.5 47.9 48-21.5 48-47.9 48zm199.6 0c-26.4 0-47.9-21.5-47.9-48s21.5-48 47.9-48 47.9 21.5 47.9 48-21.5 48-47.9 48z"}}]})(t)}},9126:function(t,e,n){"use strict";n.d(e,{Dgg:function(){return r}});var i=n(9983);function r(t){return(0,i.w_)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1 11.5a.5.5 0 0 0 .5.5h11.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 11H1.5a.5.5 0 0 0-.5.5zm14-7a.5.5 0 0 1-.5.5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H14.5a.5.5 0 0 1 .5.5z"}}]})(t)}},5880:function(t,e,n){"use strict";n.d(e,{Dey:function(){return r}});var i=n(9983);function r(t){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M10.5858 13.4142L7.75735 10.5858L6.34314 12L10.5858 16.2427L17.6568 9.1716L16.2426 7.75739L10.5858 13.4142Z",fill:"currentColor"}}]})(t)}},458:function(t,e,n){"use strict";n.d(e,{w75:function(){return r}});var i=n(9983);function r(t){return(0,i.w_)({tag:"svg",attr:{version:"1.1",id:"search",x:"0px",y:"0px",viewBox:"0 0 24 24",style:"enable-background:new 0 0 24 24;"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.031,20.79c0.46,0.46,1.17-0.25,0.71-0.7l-3.75-3.76c1.27-1.41,2.04-3.27,2.04-5.31\n\t\tc0-4.39-3.57-7.96-7.96-7.96s-7.96,3.57-7.96,7.96c0,4.39,3.57,7.96,7.96,7.96c1.98,0,3.81-0.73,5.21-1.94L20.031,20.79z\n\t\t M4.11,11.02c0-3.84,3.13-6.96,6.96-6.96c3.84,0,6.96,3.12,6.96,6.96c0,3.84-3.12,6.96-6.96,6.96C7.24,17.98,4.11,14.86,4.11,11.02\n\t\tz"}}]}]})(t)}},5431:function(t,e,n){"use strict";n.d(e,{gik:function(){return r}});var i=n(9983);function r(t){return(0,i.w_)({tag:"svg",attr:{version:"1.1",viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M19.906 17.847c0.429 0 0.79 0.21 1.102 0.636 0.31 0.422 0.468 0.944 0.468 1.56 0 0.619-0.156 1.141-0.468 1.563s-0.678 0.634-1.102 0.634c-0.451 0-0.839-0.21-1.151-0.634-0.307-0.422-0.465-0.944-0.465-1.563s0.153-1.139 0.465-1.56c0.312-0.427 0.702-0.636 1.151-0.636zM25.425 12.132c1.202 1.303 1.809 2.884 1.809 4.738 0 1.203-0.142 2.286-0.415 3.249-0.278 0.958-0.629 1.743-1.048 2.343-0.427 0.605-0.943 1.136-1.565 1.585-0.622 0.461-1.195 0.79-1.712 1.002s-1.112 0.376-1.785 0.49c-0.665 0.117-1.168 0.18-1.517 0.198-0.336 0.015-0.702 0.022-1.097 0.022-0.088 0-0.385 0.010-0.879 0.024-0.482 0.020-0.896 0.029-1.218 0.029s-0.736-0.010-1.218-0.029c-0.49-0.015-0.79-0.024-0.879-0.024-0.395 0-0.764-0.005-1.098-0.022-0.35-0.017-0.852-0.080-1.514-0.198-0.676-0.112-1.268-0.273-1.787-0.49-0.517-0.21-1.089-0.541-1.708-1.002-0.624-0.454-1.141-0.983-1.568-1.585-0.419-0.6-0.772-1.385-1.048-2.343-0.272-0.963-0.414-2.046-0.414-3.249 0-1.854 0.605-3.435 1.81-4.738-0.133-0.065-0.14-0.714-0.021-1.952 0.107-1.239 0.37-2.38 0.797-3.421 1.503 0.16 3.352 1.008 5.567 2.539 0.748-0.195 1.772-0.295 3.078-0.295 1.37 0 2.394 0.1 3.079 0.295 1.009-0.681 1.975-1.239 2.896-1.663 0.936-0.419 1.609-0.667 2.033-0.731l0.634-0.145c0.429 1.041 0.692 2.185 0.8 3.421 0.124 1.237 0.117 1.887-0.015 1.952zM16.052 24.683c2.703 0 4.741-0.324 6.125-0.973 1.38-0.651 2.082-1.99 2.082-4.008 0-1.17-0.441-2.15-1.322-2.932-0.454-0.424-0.985-0.681-1.595-0.781-0.595-0.098-1.514-0.098-2.755 0-1.236 0.1-2.082 0.145-2.537 0.145-0.619 0-1.291-0.033-2.125-0.098-0.834-0.062-1.487-0.102-1.954-0.122-0.478-0.015-0.986 0.045-1.538 0.172-0.557 0.133-1.008 0.357-1.373 0.681-0.84 0.75-1.266 1.725-1.266 2.932 0 2.019 0.684 3.357 2.050 4.006 1.365 0.653 3.397 0.975 6.101 0.975zM12.143 17.847c0.424 0 0.789 0.21 1.098 0.636 0.31 0.422 0.467 0.944 0.467 1.56 0 0.619-0.155 1.141-0.467 1.563-0.309 0.422-0.677 0.634-1.098 0.634-0.455 0-0.841-0.21-1.153-0.634-0.309-0.422-0.467-0.944-0.467-1.563s0.155-1.139 0.467-1.56c0.312-0.427 0.699-0.636 1.153-0.636z"}}]})(t)}},6355:function(t,e,n){"use strict";n.d(e,{IkZ:function(){return o},h3_:function(){return s},qL$:function(){return r},sF:function(){return a}});var i=n(9983);function r(t){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"}}]})(t)}function o(t){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M288.662 352H31.338c-17.818 0-26.741-21.543-14.142-34.142l128.662-128.662c7.81-7.81 20.474-7.81 28.284 0l128.662 128.662c12.6 12.599 3.676 34.142-14.142 34.142z"}}]})(t)}function a(t){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"}}]})(t)}function s(t){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"}}]})(t)}},3853:function(t,e,n){"use strict";n.d(e,{Tfp:function(){return a},YFh:function(){return o},bTu:function(){return r}});var i=n(9983);function r(t){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(t)}function o(t){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"}}]})(t)}function a(t){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"}}]})(t)}},3479:function(t,e,n){"use strict";n.d(e,{Lac:function(){return r},q4P:function(){return o}});var i=n(9983);function r(t){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z",clipRule:"evenodd"}}]})(t)}function o(t){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"}}]})(t)}},9983:function(t,e,n){"use strict";n.d(e,{w_:function(){return l}});var i=n(2791),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=i.createContext&&i.createContext(r),a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)},s=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};function u(t){return t&&t.map((function(t,e){return i.createElement(t.tag,a({key:e},t.attr),u(t.child))}))}function l(t){return function(e){return i.createElement(c,a({attr:a({},t.attr)},e),u(t.child))}}function c(t){var e=function(e){var n,r=t.attr,o=t.size,u=t.title,l=s(t,["attr","size","title"]),c=o||e.size||"1em";return e.className&&(n=e.className),t.className&&(n=(n?n+" ":"")+t.className),i.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,r,l,{className:n,style:a(a({color:t.color||e.color},e.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),u&&i.createElement("title",null,u),t.children)};return void 0!==o?i.createElement(o.Consumer,null,(function(t){return e(t)})):e(r)}},7425:function(t,e,n){"use strict";n.d(e,{OIQ:function(){return r}});var i=n(9983);function r(t){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.94631 9.31555C1.42377 9.14137 1.41965 8.86034 1.95706 8.6812L21.0433 2.31913C21.5717 2.14297 21.8748 2.43878 21.7268 2.95706L16.2736 22.0433C16.1226 22.5718 15.8179 22.5901 15.5946 22.0877L12.0002 14.0002L18.0002 6.00017L10.0002 12.0002L1.94631 9.31555Z"}}]})(t)}},3688:function(t,e,n){"use strict";function i(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function r(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function o(t,e){try{var n=this.props,i=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,s=null;if("function"===typeof e.componentWillMount?n="componentWillMount":"function"===typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof e.componentWillUpdate?s="componentWillUpdate":"function"===typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=t.displayName||t.name,l="function"===typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof t.getDerivedStateFromProps&&(e.componentWillMount=i,e.componentWillReceiveProps=r),"function"===typeof e.getSnapshotBeforeUpdate){if("function"!==typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=o;var c=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,t,e,i)}}return t}n.r(e),n.d(e,{polyfill:function(){return a}}),i.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},2240:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bodyOpenClassName=e.portalClassName=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(2791),a=d(o),s=d(n(4164)),u=d(n(2007)),l=d(n(4334)),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(5858)),h=n(3663),f=d(h),v=n(3688);function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var y=e.portalClassName="ReactModalPortal",m=e.bodyOpenClassName="ReactModal__Body--open",g=h.canUseDOM&&void 0!==s.default.createPortal,b=function(t){return document.createElement(t)},k=function(){return g?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function w(t){return t()}var _=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,u=Array(o),c=0;c<o;c++)u[c]=arguments[c];return n=r=p(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.removePortal=function(){!g&&s.default.unmountComponentAtNode(r.node);var t=w(r.props.parentSelector);t&&t.contains(r.node)?t.removeChild(r.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},r.portalRef=function(t){r.portal=t},r.renderPortal=function(t){var n=k()(r,a.default.createElement(l.default,i({defaultStyles:e.defaultStyles},t)),r.node);r.portalRef(n)},p(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"componentDidMount",value:function(){h.canUseDOM&&(g||(this.node=b("div")),this.node.className=this.props.portalClassName,w(this.props.parentSelector).appendChild(this.node),!g&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(t){return{prevParent:w(t.parentSelector),nextParent:w(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(t,e,n){if(h.canUseDOM){var i=this.props,r=i.isOpen,o=i.portalClassName;t.portalClassName!==o&&(this.node.className=o);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(t.isOpen||r)&&!g&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(h.canUseDOM&&this.node&&this.portal){var t=this.portal.state,e=Date.now(),n=t.isOpen&&this.props.closeTimeoutMS&&(t.closesAt||e+this.props.closeTimeoutMS);n?(t.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-e)):this.removePortal()}}},{key:"render",value:function(){return h.canUseDOM&&g?(!this.node&&g&&(this.node=b("div")),k()(a.default.createElement(l.default,i({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(t){c.setElement(t)}}]),e}(o.Component);_.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.oneOfType([u.default.instanceOf(f.default),u.default.instanceOf(h.SafeHTMLCollection),u.default.instanceOf(h.SafeNodeList),u.default.arrayOf(u.default.instanceOf(f.default))]),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func},_.defaultProps={isOpen:!1,portalClassName:y,bodyOpenClassName:m,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,e){return a.default.createElement("div",t,e)},contentElement:function(t,e){return a.default.createElement("div",t,e)}},_.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,v.polyfill)(_),e.default=_},4334:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2791),s=y(n(2007)),u=p(n(8844)),l=y(n(870)),c=p(n(5858)),h=p(n(6554)),f=n(3663),v=y(f),d=y(n(8484));function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function y(t){return t&&t.__esModule?t:{default:t}}n(5670);var m={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},g=0,b=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setOverlayRef=function(t){n.overlay=t,n.props.overlayRef&&n.props.overlayRef(t)},n.setContentRef=function(t){n.content=t,n.props.contentRef&&n.props.contentRef(t)},n.afterClose=function(){var t=n.props,e=t.appElement,i=t.ariaHideApp,r=t.htmlOpenClassName,o=t.bodyOpenClassName,a=t.parentSelector,s=a&&a().ownerDocument||document;o&&h.remove(s.body,o),r&&h.remove(s.getElementsByTagName("html")[0],r),i&&g>0&&0===(g-=1)&&c.show(e),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(u.returnFocus(n.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),d.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(u.setupScopedFocus(n.node),u.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var t=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:t},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(t){(function(t){return"Tab"===t.code||9===t.keyCode})(t)&&(0,l.default)(n.content,t),n.props.shouldCloseOnEsc&&function(t){return"Escape"===t.code||27===t.keyCode}(t)&&(t.stopPropagation(),n.requestClose(t))},n.handleOverlayOnClick=function(t){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(t):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(t){n.props.shouldCloseOnOverlayClick||t.target!=n.overlay||t.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(t){return n.ownerHandlesClose()&&n.props.onRequestClose(t)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(t,e){var i="object"===("undefined"===typeof e?"undefined":r(e))?e:{base:m[t],afterOpen:m[t]+"--after-open",beforeClose:m[t]+"--before-close"},o=i.base;return n.state.afterOpen&&(o=o+" "+i.afterOpen),n.state.beforeClose&&(o=o+" "+i.beforeClose),"string"===typeof e&&e?o+" "+e:o},n.attributesFromObject=function(t,e){return Object.keys(e).reduce((function(n,i){return n[t+"-"+i]=e[i],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(t,e){this.props.isOpen&&!t.isOpen?this.open():!this.props.isOpen&&t.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!e.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var t=this.props,e=t.appElement,n=t.ariaHideApp,i=t.htmlOpenClassName,r=t.bodyOpenClassName,o=t.parentSelector,a=o&&o().ownerDocument||document;r&&h.add(a.body,r),i&&h.add(a.getElementsByTagName("html")[0],i),n&&(g+=1,c.hide(e)),d.default.register(this)}},{key:"render",value:function(){var t=this.props,e=t.id,n=t.className,r=t.overlayClassName,o=t.defaultStyles,a=t.children,s=n?{}:o.content,u=r?{}:o.overlay;if(this.shouldBeClosed())return null;var l={ref:this.setOverlayRef,className:this.buildClassName("overlay",r),style:i({},u,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},c=i({id:e,ref:this.setContentRef,style:i({},s,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",i({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),h=this.props.contentElement(c,a);return this.props.overlayElement(l,h)}}]),e}(a.Component);b.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},b.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(v.default),s.default.instanceOf(f.SafeHTMLCollection),s.default.instanceOf(f.SafeNodeList),s.default.arrayOf(s.default.instanceOf(v.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},e.default=b,t.exports=e.default},5858:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resetState=function(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):null!=s.length?s.forEach((function(t){return t.removeAttribute("aria-hidden")})):document.querySelectorAll(s).forEach((function(t){return t.removeAttribute("aria-hidden")})));s=null},e.log=function(){0},e.assertNodeList=u,e.setElement=function(t){var e=t;if("string"===typeof e&&a.canUseDOM){var n=document.querySelectorAll(e);u(n,e),e=n}return s=e||s},e.validateElement=l,e.hide=function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=l(t)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.setAttribute("aria-hidden","true")}}catch(a){n=!0,i=a}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}},e.show=function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=l(t)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.removeAttribute("aria-hidden")}}catch(a){n=!0,i=a}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}},e.documentNotReadyOrSSRTesting=function(){s=null};var i,r=n(2391),o=(i=r)&&i.__esModule?i:{default:i},a=n(3663);var s=null;function u(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function l(t){var e=t||s;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},5670:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resetState=function(){for(var t=[a,s],e=0;e<t.length;e++){var n=t[e];n&&(n.parentNode&&n.parentNode.removeChild(n))}a=s=null,u=[]},e.log=function(){console.log("bodyTrap ----------"),console.log(u.length);for(var t=[a,s],e=0;e<t.length;e++){var n=t[e]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var i,r=n(8484),o=(i=r)&&i.__esModule?i:{default:i};var a=void 0,s=void 0,u=[];function l(){0!==u.length&&u[u.length-1].focusContent()}o.default.subscribe((function(t,e){a||s||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",l),(s=a.cloneNode()).addEventListener("focus",l)),(u=e).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))}))},6554:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resetState=function(){var t=document.getElementsByTagName("html")[0];for(var e in n)r(t,n[e]);var o=document.body;for(var a in i)r(o,i[a]);n={},i={}},e.log=function(){0};var n={},i={};function r(t,e){t.classList.remove(e)}e.add=function(t,e){return r=t.classList,o="html"==t.nodeName.toLowerCase()?n:i,void e.split(" ").forEach((function(t){!function(t,e){t[e]||(t[e]=0),t[e]+=1}(o,t),r.add(t)}));var r,o},e.remove=function(t,e){return r=t.classList,o="html"==t.nodeName.toLowerCase()?n:i,void e.split(" ").forEach((function(t){!function(t,e){t[e]&&(t[e]-=1)}(o,t),0===o[t]&&r.remove(t)}));var r,o}},8844:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resetState=function(){a=[]},e.log=function(){0},e.handleBlur=l,e.handleFocus=c,e.markForFocusLater=function(){a.push(document.activeElement)},e.returnFocus=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=null;try{return void(0!==a.length&&(e=a.pop()).focus({preventScroll:t}))}catch(n){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},e.popWithoutFocus=function(){a.length>0&&a.pop()},e.setupScopedFocus=function(t){s=t,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))},e.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))};var i,r=n(9750),o=(i=r)&&i.__esModule?i:{default:i};var a=[],s=null,u=!1;function l(){u=!0}function c(){if(u){if(u=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,o.default)(s)[0]||s).focus()}),0)}}},8484:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.log=function(){console.log("portalOpenInstances ----------"),console.log(i.openInstances.length),i.openInstances.forEach((function(t){return console.log(t)})),console.log("end portalOpenInstances ----------")},e.resetState=function(){i=new n};var n=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.register=function(t){-1===e.openInstances.indexOf(t)&&(e.openInstances.push(t),e.emit("register"))},this.deregister=function(t){var n=e.openInstances.indexOf(t);-1!==n&&(e.openInstances.splice(n,1),e.emit("deregister"))},this.subscribe=function(t){e.subscribers.push(t)},this.emit=function(t){e.subscribers.forEach((function(n){return n(t,e.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},i=new n;e.default=i},3663:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canUseDOM=e.SafeNodeList=e.SafeHTMLCollection=void 0;var i,r=n(2618);var o=((i=r)&&i.__esModule?i:{default:i}).default,a=o.canUseDOM?window.HTMLElement:{};e.SafeHTMLCollection=o.canUseDOM?window.HTMLCollection:{},e.SafeNodeList=o.canUseDOM?window.NodeList:{},e.canUseDOM=o.canUseDOM;e.default=a},870:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,o.default)(t);if(!n.length)return void e.preventDefault();var i=void 0,r=e.shiftKey,s=n[0],u=n[n.length-1],l=a();if(t===l){if(!r)return;i=u}u!==l||r||(i=s);s===l&&r&&(i=u);if(i)return e.preventDefault(),void i.focus();var c=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==c||"Chrome"==c[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var h=n.indexOf(l);h>-1&&(h+=r?-1:1);if("undefined"===typeof(i=n[h]))return e.preventDefault(),void(i=r?u:s).focus();e.preventDefault(),i.focus()};var i,r=n(9750),o=(i=r)&&i.__esModule?i:{default:i};function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return t.activeElement.shadowRoot?a(t.activeElement.shadowRoot):t.activeElement}t.exports=e.default},9750:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){var n=[].slice.call(e.querySelectorAll("*"),0).reduce((function(e,n){return e.concat(n.shadowRoot?t(n.shadowRoot):[n])}),[]);return n.filter(s)};var n="none",i="contents",r=/input|select|textarea|button|object|iframe/;function o(t){var e=t.offsetWidth<=0&&t.offsetHeight<=0;if(e&&!t.innerHTML)return!0;try{var r=window.getComputedStyle(t),o=r.getPropertyValue("display");return e?o!==i&&function(t,e){return"visible"!==e.getPropertyValue("overflow")||t.scrollWidth<=0&&t.scrollHeight<=0}(t,r):o===n}catch(a){return console.warn("Failed to inspect element style"),!1}}function a(t,e){var n=t.nodeName.toLowerCase();return(r.test(n)&&!t.disabled||"a"===n&&t.href||e)&&function(t){for(var e=t,n=t.getRootNode&&t.getRootNode();e&&e!==document.body;){if(n&&e===n&&(e=n.host.parentNode),o(e))return!1;e=e.parentNode}return!0}(t)}function s(t){var e=t.getAttribute("tabindex");null===e&&(e=void 0);var n=isNaN(e);return(n||e>=0)&&a(t,!n)}t.exports=e.default},7948:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(2240),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},6429:function(t,e,n){"use strict";t.exports=n(5274)},8857:function(t,e,n){"use strict";var i,r,o,a=n(5408),s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function u(){o=!1}function l(t){if(t){if(t!==i){if(t.length!==s.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. These characters were not unique: "+e.join(", "));i=t,u()}}else i!==s&&(i=s,u())}function c(){return o||(o=function(){i||l(s);for(var t,e=i.split(""),n=[],r=a.nextValue();e.length>0;)r=a.nextValue(),t=Math.floor(r*e.length),n.push(e.splice(t,1)[0]);return n.join("")}())}t.exports={get:function(){return i||s},characters:function(t){return l(t),i},seed:function(t){a.seed(t),r!==t&&(u(),r=t)},lookup:function(t){return c()[t]},shuffled:c}},7098:function(t,e,n){"use strict";var i,r,o=n(2226);n(8857);t.exports=function(t){var e="",n=Math.floor(.001*(Date.now()-1567752802062));return n===r?i++:(i=0,r=n),e+=o(7),e+=o(t),i>0&&(e+=o(i)),e+=o(n)}},2226:function(t,e,n){"use strict";var i=n(8857),r=n(9139),o=n(2483);t.exports=function(t){for(var e,n=0,a="";!e;)a+=o(r,i.get(),1),e=t<Math.pow(16,n+1),n++;return a}},5274:function(t,e,n){"use strict";var i=n(8857),r=n(7098),o=n(6046),a=n(5347)||0;function s(){return r(a)}t.exports=s,t.exports.generate=s,t.exports.seed=function(e){return i.seed(e),t.exports},t.exports.worker=function(e){return a=e,t.exports},t.exports.characters=function(t){return void 0!==t&&i.characters(t),i.shuffled()},t.exports.isValid=o},6046:function(t,e,n){"use strict";var i=n(8857);t.exports=function(t){return!(!t||"string"!==typeof t||t.length<6)&&!new RegExp("[^"+i.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(t)}},9139:function(t){"use strict";var e,n="object"===typeof window&&(window.crypto||window.msCrypto);e=n&&n.getRandomValues?function(t){return n.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},t.exports=e},5408:function(t){"use strict";var e=1;t.exports={nextValue:function(){return(e=(9301*e+49297)%233280)/233280},seed:function(t){e=t}}},5347:function(t){"use strict";t.exports=0},2483:function(t){t.exports=function(t,e,n){for(var i=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*i*n/e.length),o="";;)for(var a=t(r),s=r;s--;)if((o+=e[a[s]&i]||"").length===+n)return o}},2062:function(t){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="swal-button";e.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:i,CONFIRM_BUTTON:i+"--confirm",CANCEL_BUTTON:i+"--cancel",DANGER_BUTTON:i+"--danger",BUTTON_LOADING:i+"--loading",BUTTON_LOADER:i+"__loader"},e.default=e.CLASS_NAMES},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNode=function(t){var e="."+t;return document.querySelector(e)},e.stringToNode=function(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild},e.insertAfter=function(t,e){var n=e.nextSibling;e.parentNode.insertBefore(t,n)},e.removeNode=function(t){t.parentElement.removeChild(t)},e.throwErr=function(t){throw"SweetAlert: "+(t=t.replace(/ +(?= )/g,"")).trim()},e.isPlainObject=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype},e.ordinalSuffixOf=function(t){var e=t%10,n=t%100;return 1===e&&11!==n?t+"st":2===e&&12!==n?t+"nd":3===e&&13!==n?t+"rd":t+"th"}},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(25));var r=n(26);e.overlayMarkup=r.default,i(n(27)),i(n(28)),i(n(29));var o=n(0),a=o.default.MODAL_TITLE,s=o.default.MODAL_TEXT,u=o.default.ICON,l=o.default.FOOTER;e.iconMarkup='\n  <div class="'+u+'"></div>',e.titleMarkup='\n  <div class="'+a+'"></div>\n',e.textMarkup='\n  <div class="'+s+'"></div>',e.footerMarkup='\n  <div class="'+l+'"></div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1);e.CONFIRM_KEY="confirm",e.CANCEL_KEY="cancel";var r={visible:!0,text:null,value:null,className:"",closeModal:!0},o=Object.assign({},r,{visible:!1,text:"Cancel",value:null}),a=Object.assign({},r,{text:"OK",value:!0});e.defaultButtonList={cancel:o,confirm:a};var s=function(t){switch(t){case e.CONFIRM_KEY:return a;case e.CANCEL_KEY:return o;default:var n=t.charAt(0).toUpperCase()+t.slice(1);return Object.assign({},r,{text:n,value:t})}},u=function(t,e){var n=s(t);return!0===e?Object.assign({},n,{visible:!0}):"string"==typeof e?Object.assign({},n,{visible:!0,text:e}):i.isPlainObject(e)?Object.assign({visible:!0},n,e):Object.assign({},n,{visible:!1})},l=function(t){for(var e={},n=0,i=Object.keys(t);n<i.length;n++){var r=i[n],a=t[r],s=u(r,a);e[r]=s}return e.cancel||(e.cancel=o),e},c=function(t){var n={};switch(t.length){case 1:n[e.CANCEL_KEY]=Object.assign({},o,{visible:!1});break;case 2:n[e.CANCEL_KEY]=u(e.CANCEL_KEY,t[0]),n[e.CONFIRM_KEY]=u(e.CONFIRM_KEY,t[1]);break;default:i.throwErr("Invalid number of 'buttons' in array ("+t.length+").\n      If you want more than 2 buttons, you need to use an object!")}return n};e.getButtonListOpts=function(t){var n=e.defaultButtonList;return"string"==typeof t?n[e.CONFIRM_KEY]=u(e.CONFIRM_KEY,t):Array.isArray(t)?n=c(t):i.isPlainObject(t)?n=l(t):!0===t?n=c([!0,!0]):!1===t?n=c([!1,!1]):void 0===t&&(n=e.defaultButtonList),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(2),o=n(0),a=o.default.MODAL,s=o.default.OVERLAY,u=n(30),l=n(31),c=n(32),h=n(33);e.injectElIntoModal=function(t){var e=i.getNode(a),n=i.stringToNode(t);return e.appendChild(n),n};var f=function(t){t.className=a,t.textContent=""},v=function(t,e){f(t);var n=e.className;n&&t.classList.add(n)};e.initModalContent=function(t){var e=i.getNode(a);v(e,t),u.default(t.icon),l.initTitle(t.title),l.initText(t.text),h.default(t.content),c.default(t.buttons,t.dangerMode)};var d=function(){var t=i.getNode(s),e=i.stringToNode(r.modalMarkup);t.appendChild(e)};e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r={isOpen:!1,promise:null,actions:{},timer:null},o=Object.assign({},r);e.resetState=function(){o=Object.assign({},r)},e.setActionValue=function(t){if("string"==typeof t)return a(i.CONFIRM_KEY,t);for(var e in t)a(e,t[e])};var a=function(t,e){o.actions[t]||(o.actions[t]={}),Object.assign(o.actions[t],{value:e})};e.setActionOptionsFor=function(t,e){var n=(void 0===e?{}:e).closeModal,i=void 0===n||n;Object.assign(o.actions[t],{closeModal:i})},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(3),o=n(0),a=o.default.OVERLAY,s=o.default.SHOW_MODAL,u=o.default.BUTTON,l=o.default.BUTTON_LOADING,c=n(5);e.openModal=function(){i.getNode(a).classList.add(s),c.default.isOpen=!0};var h=function(){i.getNode(a).classList.remove(s),c.default.isOpen=!1};e.onAction=function(t){void 0===t&&(t=r.CANCEL_KEY);var e=c.default.actions[t],n=e.value;if(!1===e.closeModal){var o=u+"--"+t;i.getNode(o).classList.add(l)}else h();c.default.promise.resolve(n)},e.getState=function(){var t=Object.assign({},c.default);return delete t.promise,delete t.timer,t},e.stopLoading=function(){for(var t=document.querySelectorAll("."+u),e=0;e<t.length;e++)t[e].classList.remove(l)}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){t.exports=e.sweetAlert=n(9)}).call(e,n(7))},function(t,e,n){(function(e){t.exports=e.swal=n(10)}).call(e,n(7))},function(t,e,n){"undefined"!=typeof window&&n(11),n(16);var i=n(23).default;t.exports=i},function(t,e,n){var i=n(12);"string"==typeof i&&(i=[[t.i,i,""]]);var r={insertAt:"top",transform:void 0};n(14)(i,r),i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(13)(void 0)).push([t.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=i(r);return[n].concat(r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}))).concat([o]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=d[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(c(i.parts[o],e))}else{var a=[];for(o=0;o<i.parts.length;o++)a.push(c(i.parts[o],e));d[i.id]={id:i.id,refs:1,parts:a}}}}function r(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function o(t,e){var n=y(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=b[b.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",l(e,t.attrs),o(t,e),e}function u(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",l(e,t.attrs),o(t,e),e}function l(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function c(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var l=g++;n=m||(m=s(e)),i=h.bind(null,n,l,!1),r=h.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),i=v.bind(null,n,e),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),i=f.bind(null,n),r=function(){a(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function h(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=w(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function v(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=k(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var d={},p=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}((function(){return window&&document&&document.all&&!window.atob})),y=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}((function(t){return document.querySelector(t)})),m=null,g=0,b=[],k=n(15);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=p()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=r(t,e);return i(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a];(u=d[s.id]).refs--,o.push(u)}for(t&&i(r(t,e),e),a=0;a<o.length;a++){var u;if(0===(u=o[a]).refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete d[u.id]}}}};var w=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t,e,n){var i=n(17);"undefined"==typeof window||window.Promise||(window.Promise=i),n(21),String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return!1;for(var r=0|e,o=Math.max(r>=0?r:i-Math.abs(r),0);o<i;){if(function(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}(n[o],t))return!0;o++}return!1}}),"undefined"!=typeof window&&[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}))},function(t,e,n){(function(e){!function(n){function i(){}function r(t,e){return function(){t.apply(e,arguments)}}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,i)}else(1===t._state?s:u)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void h(r(n,e),t)}t._state=1,t._value=e,l(t)}catch(e){u(t,e)}}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&o._immediateFn((function(){t._handled||o._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,u(e,t))}))}catch(t){if(n)return;n=!0,u(e,t)}}var f=setTimeout;o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return a(this,new c(t,e,n)),n},o.all=function(t){var e=Array.prototype.slice.call(t);return new o((function(t,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){i(o,t)}),n)}e[o]=a,0==--r&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])}))},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o((function(e){e(t)}))},o.reject=function(t){return new o((function(e,n){n(t)}))},o.race=function(t){return new o((function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)}))},o._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){f(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=o:n.Promise||(n.Promise=o)}(this)}).call(e,n(18).setImmediate)},function(t,e,n){function i(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(19),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return l[u]=i,s(u),u++}function r(t){delete l[t]}function o(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}function a(t){if(c)setTimeout(a,0,t);else{var e=l[t];if(e){c=!0;try{o(e)}finally{r(t),c=!1}}}}if(!t.setImmediate){var s,u=1,l={},c=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?s=function(t){e.nextTick((function(){a(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},s=function(e){t.port2.postMessage(e)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var t=h.documentElement;s=function(e){var n=h.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():s=function(t){setTimeout(a,0,t)},f.setImmediate=i,f.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(7),n(20))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){p&&v&&(p=!1,v.length?d=v.concat(d):y=-1,d.length&&s())}function s(){if(!p){var t=r(a);p=!0;for(var e=d.length;e;){for(v=d,d=[];++y<e;)v&&v[y].run();y=-1,e=d.length}v=null,p=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var c,h,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var v,d=[],p=!1,y=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||p||r(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){"use strict";n(22).polyfill()},function(t,e,n){"use strict";function i(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(void 0!==r&&null!==r)for(var o=Object.keys(Object(r)),a=0,s=o.length;a<s;a++){var u=o[a],l=Object.getOwnPropertyDescriptor(r,u);void 0!==l&&l.enumerable&&(n[u]=r[u])}}return n}function r(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:i})}t.exports={assign:i,polyfill:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(24),r=n(6),o=n(5),a=n(36),s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if("undefined"!=typeof window){var n=a.getOpts.apply(void 0,t);return new Promise((function(t,e){o.default.promise={resolve:t,reject:e},i.default(n),setTimeout((function(){r.openModal()}))}))}};s.close=r.onAction,s.getState=r.getState,s.setActionValue=o.setActionValue,s.stopLoading=r.stopLoading,s.setDefaults=a.setDefaults,e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(0).default.MODAL,o=n(4),a=n(34),s=n(35),u=n(1);e.init=function(t){i.getNode(r)||(document.body||u.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),a.default(),o.default()),o.initModalContent(t),s.default(t)},e.default=e.init},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0).default.MODAL;e.modalMarkup='\n  <div class="'+i+'" role="dialog" aria-modal="true"></div>',e.default=e.modalMarkup},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i='<div \n    class="'+n(0).default.OVERLAY+'"\n    tabIndex="-1">\n  </div>';e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0).default.ICON;e.errorIconMarkup=function(){var t=i+"--error",e=t+"__line";return'\n    <div class="'+t+'__x-mark">\n      <span class="'+e+" "+e+'--left"></span>\n      <span class="'+e+" "+e+'--right"></span>\n    </div>\n  '},e.warningIconMarkup=function(){var t=i+"--warning";return'\n    <span class="'+t+'__body">\n      <span class="'+t+'__dot"></span>\n    </span>\n  '},e.successIconMarkup=function(){var t=i+"--success";return'\n    <span class="'+t+"__line "+t+'__line--long"></span>\n    <span class="'+t+"__line "+t+'__line--tip"></span>\n\n    <div class="'+t+'__ring"></div>\n    <div class="'+t+'__hide-corners"></div>\n  '}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0).default.CONTENT;e.contentMarkup='\n  <div class="'+i+'">\n\n  </div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=i.default.BUTTON_CONTAINER,o=i.default.BUTTON,a=i.default.BUTTON_LOADER;e.buttonMarkup='\n  <div class="'+r+'">\n\n    <button\n      class="'+o+'"\n    ></button>\n\n    <div class="'+a+'">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n\n  </div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(2),o=n(0),a=o.default.ICON,s=o.default.ICON_CUSTOM,u=["error","warning","success","info"],l={error:r.errorIconMarkup(),warning:r.warningIconMarkup(),success:r.successIconMarkup()},c=function(t,e){var n=a+"--"+t;e.classList.add(n);var i=l[t];i&&(e.innerHTML=i)},h=function(t,e){e.classList.add(s);var n=document.createElement("img");n.src=t,e.appendChild(n)},f=function(t){if(t){var e=i.injectElIntoModal(r.iconMarkup);u.includes(t)?c(t,e):h(t,e)}};e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(4),o=function(t){navigator.userAgent.includes("AppleWebKit")&&(t.style.display="none",t.offsetHeight,t.style.display="")};e.initTitle=function(t){if(t){var e=r.injectElIntoModal(i.titleMarkup);e.textContent=t,o(e)}},e.initText=function(t){if(t){var e=document.createDocumentFragment();t.split("\n").forEach((function(t,n,i){e.appendChild(document.createTextNode(t)),n<i.length-1&&e.appendChild(document.createElement("br"))}));var n=r.injectElIntoModal(i.textMarkup);n.appendChild(e),o(n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(4),o=n(0),a=o.default.BUTTON,s=o.default.DANGER_BUTTON,u=n(3),l=n(2),c=n(6),h=n(5),f=function(t,e,n){var r=e.text,o=e.value,f=e.className,v=e.closeModal,d=i.stringToNode(l.buttonMarkup),p=d.querySelector("."+a),y=a+"--"+t;p.classList.add(y),f&&(Array.isArray(f)?f:f.split(" ")).filter((function(t){return t.length>0})).forEach((function(t){p.classList.add(t)})),n&&t===u.CONFIRM_KEY&&p.classList.add(s),p.textContent=r;var m={};return m[t]=o,h.setActionValue(m),h.setActionOptionsFor(t,{closeModal:v}),p.addEventListener("click",(function(){return c.onAction(t)})),d},v=function(t,e){var n=r.injectElIntoModal(l.footerMarkup);for(var i in t){var o=t[i],a=f(i,o,e);o.visible&&n.appendChild(a)}0===n.children.length&&n.remove()};e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=n(2),a=n(5),s=n(6),u=n(0).default.CONTENT,l=function(t){t.addEventListener("input",(function(t){var e=t.target.value;a.setActionValue(e)})),t.addEventListener("keyup",(function(t){if("Enter"===t.key)return s.onAction(i.CONFIRM_KEY)})),setTimeout((function(){t.focus(),a.setActionValue("")}),0)},c=function(t,e,n){var i=document.createElement(e),r=u+"__"+e;for(var o in i.classList.add(r),n){var a=n[o];i[o]=a}"input"===e&&l(i),t.appendChild(i)},h=function(t){if(t){var e=r.injectElIntoModal(o.contentMarkup),n=t.element,i=t.attributes;"string"==typeof n?c(e,n,i):e.appendChild(n)}};e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(2),o=function(){var t=i.stringToNode(r.overlayMarkup);document.body.appendChild(t)};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),r=n(6),o=n(1),a=n(3),s=n(0),u=s.default.MODAL,l=s.default.BUTTON,c=s.default.OVERLAY,h=function(t){t.preventDefault(),y()},f=function(t){t.preventDefault(),m()},v=function(t){if(i.default.isOpen&&"Escape"===t.key)return r.onAction(a.CANCEL_KEY)},d=function(t){if(i.default.isOpen&&"Tab"===t.key)return h(t)},p=function(t){if(i.default.isOpen)return"Tab"===t.key&&t.shiftKey?f(t):void 0},y=function(){var t=o.getNode(l);t&&(t.tabIndex=0,t.focus())},m=function(){var t=o.getNode(u).querySelectorAll("."+l),e=t[t.length-1];e&&e.focus()},g=function(t){t[t.length-1].addEventListener("keydown",d)},b=function(t){t[0].addEventListener("keydown",p)},k=function(){var t=o.getNode(u).querySelectorAll("."+l);t.length&&(g(t),b(t))},w=function(t){if(o.getNode(c)===t.target)return r.onAction(a.CANCEL_KEY)},_=function(t){var e=o.getNode(c);e.removeEventListener("click",w),t&&e.addEventListener("click",w)},E=function(t){i.default.timer&&clearTimeout(i.default.timer),t&&(i.default.timer=window.setTimeout((function(){return r.onAction(a.CANCEL_KEY)}),t))},x=function(t){t.closeOnEsc?document.addEventListener("keyup",v):document.removeEventListener("keyup",v),t.dangerMode?y():m(),k(),_(t.closeOnClickOutside),E(t.timer)};e.default=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(3),o=n(37),a=n(38),s={title:null,text:null,icon:null,buttons:r.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},u=Object.assign({},s);e.setDefaults=function(t){u=Object.assign({},s,t)};var l=function(t){var e=t&&t.button,n=t&&t.buttons;return void 0!==e&&void 0!==n&&i.throwErr("Cannot set both 'button' and 'buttons' options!"),void 0!==e?{confirm:e}:n},c=function(t){return i.ordinalSuffixOf(t+1)},h=function(t,e){i.throwErr(c(e)+" argument ('"+t+"') is invalid")},f=function(t,e){var n=t+1,r=e[n];i.isPlainObject(r)||void 0===r||i.throwErr("Expected "+c(n)+" argument ('"+r+"') to be a plain object")},v=function(t,e){var n=t+1,r=e[n];void 0!==r&&i.throwErr("Unexpected "+c(n)+" argument ("+r+")")},d=function(t,e,n,r){var o=e instanceof Element;if("string"===typeof e){if(0===n)return{text:e};if(1===n)return{text:e,title:r[0]};if(2===n)return f(n,r),{icon:e};h(e,n)}else{if(o&&0===n)return f(n,r),{content:e};if(i.isPlainObject(e))return v(n,r),e;h(e,n)}};e.getOpts=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n={};t.forEach((function(e,i){var r=d(0,e,i,t);Object.assign(n,r)}));var i=l(n);n.buttons=r.getButtonListOpts(i),delete n.button,n.content=o.getContentOpts(n.content);var c=Object.assign({},s,u,n);return Object.keys(c).forEach((function(t){a.DEPRECATED_OPTS[t]&&a.logDeprecation(t)})),c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r={element:"input",attributes:{placeholder:""}};e.getContentOpts=function(t){var e={};return i.isPlainObject(t)?Object.assign(e,t):t instanceof Element?{element:t}:"input"===t?r:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logDeprecation=function(t){var n=e.DEPRECATED_OPTS[t],i=n.onlyRename,r=n.replacement,o=n.subOption,a=n.link,s='SweetAlert warning: "'+t+'" option has been '+(i?"renamed":"deprecated")+".";r&&(s+=" Please use"+(o?' "'+o+'" in ':" ")+'"'+r+'" instead.');var u="https://sweetalert.js.org";s+=a?" More details: "+u+a:" More details: "+u+"/guides/#upgrading-from-1x",console.warn(s)},e.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])},2391:function(t){"use strict";var e=function(){};t.exports=e},1752:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(1120);function r(){return r="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,i.Z)(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},r.apply(this,arguments)}},7825:function(t,e,n){"use strict";n.d(e,{Jn:function(){return H},qX:function(){return z},Xd:function(){return B},Mq:function(){return Q},ZF:function(){return G},KN:function(){return Y}});var i,r,o=n(3433),a=n(4165),s=n(5861),u=n(7762),l=n(4942),c=n(5671),h=n(3144),f=n(3258),v=n(6781),d=n(5854),p=n(1413),y=function(t,e){return e.some((function(e){return t instanceof e}))};var m=new WeakMap,g=new WeakMap,b=new WeakMap,k=new WeakMap,w=new WeakMap;var _={get:function(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return g.get(t);if("objectStoreNames"===e)return t.objectStoreNames||b.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return S(t[e])},set:function(t,e,n){return t[e]=n,!0},has:function(t,e){return t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t}};function E(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(T(this),n),S(m.get(this))}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return S(t.apply(T(this),n))}:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=t.call.apply(t,[T(this),e].concat(i));return b.set(o,e.sort?e.sort():[e]),S(o)}}function x(t){return"function"===typeof t?E(t):(t instanceof IDBTransaction&&function(t){if(!g.has(t)){var e=new Promise((function(e,n){var i=function(){t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=function(){e(),i()},o=function(){n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)}));g.set(t,e)}}(t),y(t,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,_):t)}function S(t){if(t instanceof IDBRequest)return function(t){var e=new Promise((function(e,n){var i=function(){t.removeEventListener("success",r),t.removeEventListener("error",o)},r=function(){e(S(t.result)),i()},o=function(){n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)}));return e.then((function(e){e instanceof IDBCursor&&m.set(e,t)})).catch((function(){})),w.set(e,t),e}(t);if(k.has(t))return k.get(t);var e=x(t);return e!==t&&(k.set(t,e),w.set(e,t)),e}var T=function(t){return w.get(t)};var C,O,A=["get","getKey","getAll","getAllKeys","count"],M=["put","add","delete","clear"],Z=new Map;function I(t,e){if(t instanceof IDBDatabase&&!(e in t)&&"string"===typeof e){if(Z.get(e))return Z.get(e);var n=e.replace(/FromIndex$/,""),i=e!==n,r=M.includes(n);if(n in(i?IDBIndex:IDBObjectStore).prototype&&(r||A.includes(n))){var o=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(e){var o,s,u,l,c,h,f=arguments;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(s=this.transaction(e,r?"readwrite":"readonly"),u=s.store,l=f.length,c=new Array(l>1?l-1:0),h=1;h<l;h++)c[h-1]=f[h];return i&&(u=u.index(c.shift())),t.next=6,Promise.all([(o=u)[n].apply(o,c),r&&s.done]);case 6:return t.abrupt("return",t.sent[0]);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();return Z.set(e,o),o}}}_=function(t){return(0,p.Z)((0,p.Z)({},t),{},{get:function(e,n,i){return I(e,n)||t.get(e,n,i)},has:function(e,n){return!!I(e,n)||t.has(e,n)}})}(_);var L=function(){function t(e){(0,c.Z)(this,t),this.container=e}return(0,h.Z)(t,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((function(t){return t})).join(" ")}}]),t}();var N="@firebase/app",R="0.9.22",D=new v.Yd("@firebase/app"),P="[DEFAULT]",F=(C={},(0,l.Z)(C,N,"fire-core"),(0,l.Z)(C,"@firebase/app-compat","fire-core-compat"),(0,l.Z)(C,"@firebase/analytics","fire-analytics"),(0,l.Z)(C,"@firebase/analytics-compat","fire-analytics-compat"),(0,l.Z)(C,"@firebase/app-check","fire-app-check"),(0,l.Z)(C,"@firebase/app-check-compat","fire-app-check-compat"),(0,l.Z)(C,"@firebase/auth","fire-auth"),(0,l.Z)(C,"@firebase/auth-compat","fire-auth-compat"),(0,l.Z)(C,"@firebase/database","fire-rtdb"),(0,l.Z)(C,"@firebase/database-compat","fire-rtdb-compat"),(0,l.Z)(C,"@firebase/functions","fire-fn"),(0,l.Z)(C,"@firebase/functions-compat","fire-fn-compat"),(0,l.Z)(C,"@firebase/installations","fire-iid"),(0,l.Z)(C,"@firebase/installations-compat","fire-iid-compat"),(0,l.Z)(C,"@firebase/messaging","fire-fcm"),(0,l.Z)(C,"@firebase/messaging-compat","fire-fcm-compat"),(0,l.Z)(C,"@firebase/performance","fire-perf"),(0,l.Z)(C,"@firebase/performance-compat","fire-perf-compat"),(0,l.Z)(C,"@firebase/remote-config","fire-rc"),(0,l.Z)(C,"@firebase/remote-config-compat","fire-rc-compat"),(0,l.Z)(C,"@firebase/storage","fire-gcs"),(0,l.Z)(C,"@firebase/storage-compat","fire-gcs-compat"),(0,l.Z)(C,"@firebase/firestore","fire-fst"),(0,l.Z)(C,"@firebase/firestore-compat","fire-fst-compat"),(0,l.Z)(C,"fire-js","fire-js"),(0,l.Z)(C,"firebase","fire-js-all"),C),U=new Map,j=new Map;function V(t,e){try{t.container.addComponent(e)}catch(n){D.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function B(t){var e=t.name;if(j.has(e))return D.debug("There were multiple attempts to register component ".concat(e,".")),!1;j.set(e,t);var n,i=(0,u.Z)(U.values());try{for(i.s();!(n=i.n()).done;){V(n.value,t)}}catch(r){i.e(r)}finally{i.f()}return!0}function z(t,e){var n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var q=(O={},(0,l.Z)(O,"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),(0,l.Z)(O,"bad-app-name","Illegal App name: '{$appName}"),(0,l.Z)(O,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,l.Z)(O,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,l.Z)(O,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,l.Z)(O,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,l.Z)(O,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,l.Z)(O,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,l.Z)(O,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,l.Z)(O,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,l.Z)(O,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),O),W=new d.LL("app","Firebase",q),K=function(){function t(e,n,i){var r=this;(0,c.Z)(this,t),this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new f.wA("app",(function(){return r}),"PUBLIC"))}return(0,h.Z)(t,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(t){this._isDeleted=t}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw W.create("app-deleted",{appName:this._name})}}]),t}(),H="10.5.2";function G(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;"object"!==typeof e&&(e={name:e});var i=Object.assign({name:P,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!==typeof r||!r)throw W.create("bad-app-name",{appName:String(r)});if(n||(n=(0,d.aH)()),!n)throw W.create("no-options");var o=U.get(r);if(o){if((0,d.vZ)(n,o.options)&&(0,d.vZ)(i,o.config))return o;throw W.create("duplicate-app",{appName:r})}var a,s=new f.H0(r),l=(0,u.Z)(j.values());try{for(l.s();!(a=l.n()).done;){var c=a.value;s.addComponent(c)}}catch(v){l.e(v)}finally{l.f()}var h=new K(n,i,s);return U.set(r,h),h}function Q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=U.get(t);if(!e&&t===P&&(0,d.aH)())return G();if(!e)throw W.create("no-app",{appName:t});return e}function Y(t,e,n){var i,r=null!==(i=F[t])&&void 0!==i?i:t;n&&(r+="-".concat(n));var o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var s=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];return o&&s.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),o&&a&&s.push("and"),a&&s.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void D.warn(s.join(" "))}B(new f.wA("".concat(r,"-version"),(function(){return{library:r,version:e}}),"VERSION"))}var X="firebase-heartbeat-database",J=1,$="firebase-heartbeat-store",tt=null;function et(){return tt||(tt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.blocked,r=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(t,e),u=S(s);return r&&s.addEventListener("upgradeneeded",(function(t){r(S(s.result),t.oldVersion,t.newVersion,S(s.transaction),t)})),i&&s.addEventListener("blocked",(function(t){return i(t.oldVersion,t.newVersion,t)})),u.then((function(t){a&&t.addEventListener("close",(function(){return a()})),o&&t.addEventListener("versionchange",(function(t){return o(t.oldVersion,t.newVersion,t)}))})).catch((function(){})),u}(X,J,{upgrade:function(t,e){if(0===e)t.createObjectStore($)}}).catch((function(t){throw W.create("idb-open",{originalErrorMessage:t.message})}))),tt}function nt(t){return it.apply(this,arguments)}function it(){return(it=(0,s.Z)((0,a.Z)().mark((function t(e){var n,i,r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,et();case 3:return n=t.sent,t.next=6,n.transaction($).objectStore($).get(at(e));case 6:return i=t.sent,t.abrupt("return",i);case 10:t.prev=10,t.t0=t.catch(0),t.t0 instanceof d.ZR?D.warn(t.t0.message):(r=W.create("idb-get",{originalErrorMessage:null===t.t0||void 0===t.t0?void 0:t.t0.message}),D.warn(r.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function rt(t,e){return ot.apply(this,arguments)}function ot(){return(ot=(0,s.Z)((0,a.Z)().mark((function t(e,n){var i,r,o,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,et();case 3:return i=t.sent,r=i.transaction($,"readwrite"),o=r.objectStore($),t.next=8,o.put(n,at(e));case 8:return t.next=10,r.done;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0 instanceof d.ZR?D.warn(t.t0.message):(s=W.create("idb-set",{originalErrorMessage:null===t.t0||void 0===t.t0?void 0:t.t0.message}),D.warn(s.message));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}function at(t){return"".concat(t.name,"!").concat(t.options.appId)}var st=function(){function t(e){var n=this;(0,c.Z)(this,t),this.container=e,this._heartbeatsCache=null;var i=this.container.getProvider("app").getImmediate();this._storage=new ht(i),this._heartbeatsCachePromise=this._storage.read().then((function(t){return n._heartbeatsCache=t,t}))}return(0,h.Z)(t,[{key:"triggerHeartbeat",value:function(){var t=(0,s.Z)((0,a.Z)().mark((function t(){var e,n,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.container.getProvider("platform-logger").getImmediate(),n=e.getPlatformInfoString(),i=ut(),null!==this._heartbeatsCache){t.next=7;break}return t.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=t.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((function(t){return t.date===i}))){t.next=11;break}return t.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:i,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(t){var e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),t.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var t=(0,s.Z)((0,a.Z)().mark((function t(){var e,n,i,r,o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this._heartbeatsCache){t.next=3;break}return t.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){t.next=5;break}return t.abrupt("return","");case 5:if(e=ut(),n=lt(this._heartbeatsCache.heartbeats),i=n.heartbeatsToSend,r=n.unsentEntries,o=(0,d.L)(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=e,!(r.length>0)){t.next=15;break}return this._heartbeatsCache.heartbeats=r,t.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:t.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return t.abrupt("return",o);case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}();function ut(){return(new Date).toISOString().substring(0,10)}function lt(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,i=[],r=t.slice(),o=(0,u.Z)(t);try{var a=function(){var t=e.value,o=i.find((function(e){return e.agent===t.agent}));if(o){if(o.dates.push(t.date),ft(i)>n)return o.dates.pop(),0}else if(i.push({agent:t.agent,dates:[t.date]}),ft(i)>n)return i.pop(),0;r=r.slice(1)};for(o.s();!(e=o.n()).done&&0!==a(););}catch(s){o.e(s)}finally{o.f()}return{heartbeatsToSend:i,unsentEntries:r}}var ct,ht=function(){function t(e){(0,c.Z)(this,t),this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,h.Z)(t,[{key:"runIndexedDBEnvironmentCheck",value:function(){var t=(0,s.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,d.hl)()){t.next=4;break}return t.abrupt("return",!1);case 4:return t.abrupt("return",(0,d.eu)().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"read",value:function(){var t=(0,s.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._canUseIndexedDBPromise;case 2:if(t.sent){t.next=7;break}return t.abrupt("return",{heartbeats:[]});case 7:return t.next=9,nt(this.app);case 9:return e=t.sent,t.abrupt("return",e||{heartbeats:[]});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"overwrite",value:function(){var t=(0,s.Z)((0,a.Z)().mark((function t(e){var n,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._canUseIndexedDBPromise;case 2:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.read();case 9:return i=t.sent,t.abrupt("return",rt(this.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats}));case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"add",value:function(){var t=(0,s.Z)((0,a.Z)().mark((function t(e){var n,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._canUseIndexedDBPromise;case 2:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.read();case 9:return i=t.sent,t.abrupt("return",rt(this.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:[].concat((0,o.Z)(i.heartbeats),(0,o.Z)(e.heartbeats))}));case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();function ft(t){return(0,d.L)(JSON.stringify({version:2,heartbeats:t})).length}ct="",B(new f.wA("platform-logger",(function(t){return new L(t)}),"PRIVATE")),B(new f.wA("heartbeat",(function(t){return new st(t)}),"PRIVATE")),Y(N,R,ct),Y(N,R,"esm2017"),Y("fire-js","")},3258:function(t,e,n){"use strict";n.d(e,{H0:function(){return d},wA:function(){return h}});var i=n(4165),r=n(3433),o=n(5861),a=n(9439),s=n(7762),u=n(5671),l=n(3144),c=n(5854),h=function(){function t(e,n,i){(0,u.Z)(this,t),this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,l.Z)(t,[{key:"setInstantiationMode",value:function(t){return this.instantiationMode=t,this}},{key:"setMultipleInstances",value:function(t){return this.multipleInstances=t,this}},{key:"setServiceProps",value:function(t){return this.serviceProps=t,this}},{key:"setInstanceCreatedCallback",value:function(t){return this.onInstanceCreated=t,this}}]),t}(),f="[DEFAULT]",v=function(){function t(e,n){(0,u.Z)(this,t),this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,l.Z)(t,[{key:"get",value:function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new c.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch(r){}}return this.instancesDeferred.get(e).promise}},{key:"getImmediate",value:function(t){var e,n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:f})}catch(c){}var e,n=(0,s.Z)(this.instancesDeferred.entries());try{for(n.s();!(e=n.n()).done;){var i=(0,a.Z)(e.value,2),r=i[0],o=i[1],u=this.normalizeInstanceIdentifier(r);try{var l=this.getOrInitializeService({instanceIdentifier:u});o.resolve(l)}catch(c){}}}catch(h){n.e(h)}finally{n.f()}}}},{key:"clearInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}},{key:"delete",value:function(){var t=(0,o.Z)((0,i.Z)().mark((function t(){var e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Array.from(this.instances.values()),t.next=3,Promise.all([].concat((0,r.Z)(e.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()}))),(0,r.Z)(e.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instances.has(t)}},{key:"getOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instancesOptions.get(t)||{}}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.options,n=void 0===e?{}:e,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error("".concat(this.name,"(").concat(i,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var r,o=this.getOrInitializeService({instanceIdentifier:i,options:n}),u=(0,s.Z)(this.instancesDeferred.entries());try{for(u.s();!(r=u.n()).done;){var l=(0,a.Z)(r.value,2),c=l[0],h=l[1];i===this.normalizeInstanceIdentifier(c)&&h.resolve(o)}}catch(f){u.e(f)}finally{u.f()}return o}},{key:"onInit",value:function(t,e){var n,i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);var o=this.instances.get(i);return o&&t(o,i),function(){r.delete(t)}}},{key:"invokeOnInitCallbacks",value:function(t,e){var n=this.onInitCallbacks.get(e);if(n){var i,r=(0,s.Z)(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;try{o(t,e)}catch(a){}}}catch(u){r.e(u)}finally{r.f()}}}},{key:"getOrInitializeService",value:function(t){var e,n=t.instanceIdentifier,i=t.options,r=void 0===i?{}:i,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===f?void 0:e),options:r}),this.instances.set(n,o),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null}},{key:"normalizeInstanceIdentifier",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.component?this.component.multipleInstances?t:f:t}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),t}();var d=function(){function t(e){(0,u.Z)(this,t),this.name=e,this.providers=new Map}return(0,l.Z)(t,[{key:"addComponent",value:function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}},{key:"addOrOverwriteComponent",value:function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}},{key:"getProvider",value:function(t){if(this.providers.has(t))return this.providers.get(t);var e=new v(t,this);return this.providers.set(t,e),e}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),t}()},6781:function(t,e,n){"use strict";n.d(e,{Yd:function(){return v},in:function(){return r}});var i,r,o=n(5671),a=n(3144),s=n(4942),u=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r||(r={}));var l={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},c=r.INFO,h=(i={},(0,s.Z)(i,r.DEBUG,"log"),(0,s.Z)(i,r.VERBOSE,"log"),(0,s.Z)(i,r.INFO,"info"),(0,s.Z)(i,r.WARN,"warn"),(0,s.Z)(i,r.ERROR,"error"),i),f=function(t,e){if(!(e<t.logLevel)){var n=(new Date).toISOString(),i=h[e];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var r,o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(r=console)[i].apply(r,["[".concat(n,"]  ").concat(t.name,":")].concat(a))}},v=function(){function t(e){(0,o.Z)(this,t),this.name=e,this._logLevel=c,this._logHandler=f,this._userLogHandler=null,u.push(this)}return(0,a.Z)(t,[{key:"logLevel",get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}},{key:"setLogLevel",value:function(t){this._logLevel="string"===typeof t?l[t]:t}},{key:"logHandler",get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t}},{key:"debug",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,r.DEBUG].concat(e)),this._logHandler.apply(this,[this,r.DEBUG].concat(e))}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,r.VERBOSE].concat(e)),this._logHandler.apply(this,[this,r.VERBOSE].concat(e))}},{key:"info",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,r.INFO].concat(e)),this._logHandler.apply(this,[this,r.INFO].concat(e))}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,r.WARN].concat(e)),this._logHandler.apply(this,[this,r.WARN].concat(e))}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,r.ERROR].concat(e)),this._logHandler.apply(this,[this,r.ERROR].concat(e))}}]),t}()},1243:function(t,e,n){"use strict";function i(t,e){return function(){return t.apply(e,arguments)}}n.d(e,{Z:function(){return zt}});var r,o=Object.prototype.toString,a=Object.getPrototypeOf,s=(r=Object.create(null),function(t){var e=o.call(t);return r[e]||(r[e]=e.slice(8,-1).toLowerCase())}),u=function(t){return t=t.toLowerCase(),function(e){return s(e)===t}},l=function(t){return function(e){return typeof e===t}},c=Array.isArray,h=l("undefined");var f=u("ArrayBuffer");var v=l("string"),d=l("function"),p=l("number"),y=function(t){return null!==t&&"object"===typeof t},m=function(t){if("object"!==s(t))return!1;var e=a(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},g=u("Date"),b=u("File"),k=u("Blob"),w=u("FileList"),_=u("URLSearchParams");function E(t,e){var n,i,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,o=void 0!==r&&r;if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),c(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{var a,s=o?Object.getOwnPropertyNames(t):Object.keys(t),u=s.length;for(n=0;n<u;n++)a=s[n],e.call(null,t[a],a,t)}}function x(t,e){e=e.toLowerCase();for(var n,i=Object.keys(t),r=i.length;r-- >0;)if(e===(n=i[r]).toLowerCase())return n;return null}var S="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,T=function(t){return!h(t)&&t!==S};var C,O=(C="undefined"!==typeof Uint8Array&&a(Uint8Array),function(t){return C&&t instanceof C}),A=u("HTMLFormElement"),M=function(t){var e=Object.prototype.hasOwnProperty;return function(t,n){return e.call(t,n)}}(),Z=u("RegExp"),I=function(t,e){var n=Object.getOwnPropertyDescriptors(t),i={};E(n,(function(n,r){var o;!1!==(o=e(n,r,t))&&(i[r]=o||n)})),Object.defineProperties(t,i)},L="abcdefghijklmnopqrstuvwxyz",N="0123456789",R={DIGIT:N,ALPHA:L,ALPHA_DIGIT:L+L.toUpperCase()+N};var D=u("AsyncFunction"),P={isArray:c,isArrayBuffer:f,isBuffer:function(t){return null!==t&&!h(t)&&null!==t.constructor&&!h(t.constructor)&&d(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:function(t){var e;return t&&("function"===typeof FormData&&t instanceof FormData||d(t.append)&&("formdata"===(e=s(t))||"object"===e&&d(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&f(t.buffer)},isString:v,isNumber:p,isBoolean:function(t){return!0===t||!1===t},isObject:y,isPlainObject:m,isUndefined:h,isDate:g,isFile:b,isBlob:k,isRegExp:Z,isFunction:d,isStream:function(t){return y(t)&&d(t.pipe)},isURLSearchParams:_,isTypedArray:O,isFileList:w,forEach:E,merge:function t(){for(var e=(T(this)&&this||{}).caseless,n={},i=function(i,r){var o=e&&x(n,r)||r;m(n[o])&&m(i)?n[o]=t(n[o],i):m(i)?n[o]=t({},i):c(i)?n[o]=i.slice():n[o]=i},r=0,o=arguments.length;r<o;r++)arguments[r]&&E(arguments[r],i);return n},extend:function(t,e,n){return E(e,(function(e,r){n&&d(e)?t[r]=i(e,n):t[r]=e}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),t},trim:function(t){return t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,n,i){t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:function(t,e,n,i){var r,o,s,u={};if(e=e||{},null==t)return e;do{for(o=(r=Object.getOwnPropertyNames(t)).length;o-- >0;)s=r[o],i&&!i(s,t,e)||u[s]||(e[s]=t[s],u[s]=!0);t=!1!==n&&a(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:s,kindOfTest:u,endsWith:function(t,e,n){t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;var i=t.indexOf(e,n);return-1!==i&&i===n},toArray:function(t){if(!t)return null;if(c(t))return t;var e=t.length;if(!p(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n},forEachEntry:function(t,e){for(var n,i=(t&&t[Symbol.iterator]).call(t);(n=i.next())&&!n.done;){var r=n.value;e.call(t,r[0],r[1])}},matchAll:function(t,e){for(var n,i=[];null!==(n=t.exec(e));)i.push(n);return i},isHTMLForm:A,hasOwnProperty:M,hasOwnProp:M,reduceDescriptors:I,freezeMethods:function(t){I(t,(function(e,n){if(d(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var i=t[n];d(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(t,e){var n={},i=function(t){t.forEach((function(t){n[t]=!0}))};return c(t)?i(t):i(String(t).split(e)),n},toCamelCase:function(t){return t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(t,e){return t=+t,Number.isFinite(t)?t:e},findKey:x,global:S,isContextDefined:T,ALPHABET:R,generateString:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.ALPHA_DIGIT,n="",i=e.length;t--;)n+=e[Math.random()*i|0];return n},isSpecCompliantForm:function(t){return!!(t&&d(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:function(t){var e=new Array(10);return function t(n,i){if(y(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;var r=c(n)?[]:{};return E(n,(function(e,n){var o=t(e,i+1);!h(o)&&(r[n]=o)})),e[i]=void 0,r}}return n}(t,0)},isAsyncFn:D,isThenable:function(t){return t&&(y(t)||d(t))&&d(t.then)&&d(t.catch)}},F=n(5671),U=n(3144);function j(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}P.inherits(j,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var V=j.prototype,B={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(t){B[t]={value:t}})),Object.defineProperties(j,B),Object.defineProperty(V,"isAxiosError",{value:!0}),j.from=function(t,e,n,i,r,o){var a=Object.create(V);return P.toFlatObject(t,a,(function(t){return t!==Error.prototype}),(function(t){return"isAxiosError"!==t})),j.call(a,t.message,e,n,i,r),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};var z=j;function q(t){return P.isPlainObject(t)||P.isArray(t)}function W(t){return P.endsWith(t,"[]")?t.slice(0,-2):t}function K(t,e,n){return t?t.concat(e).map((function(t,e){return t=W(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}var H=P.toFlatObject(P,{},null,(function(t){return/^is[A-Z]/.test(t)}));var G=function(t,e,n){if(!P.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;var i=(n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!P.isUndefined(e[t])}))).metaTokens,r=n.visitor||l,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(r))throw new TypeError("visitor must be a function");function u(t){if(null===t)return"";if(P.isDate(t))return t.toISOString();if(!s&&P.isBlob(t))throw new z("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(t)||P.isTypedArray(t)?s&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function l(t,n,r){var s=t;if(t&&!r&&"object"===typeof t)if(P.endsWith(n,"{}"))n=i?n:n.slice(0,-2),t=JSON.stringify(t);else if(P.isArray(t)&&function(t){return P.isArray(t)&&!t.some(q)}(t)||(P.isFileList(t)||P.endsWith(n,"[]"))&&(s=P.toArray(t)))return n=W(n),s.forEach((function(t,i){!P.isUndefined(t)&&null!==t&&e.append(!0===a?K([n],i,o):null===a?n:n+"[]",u(t))})),!1;return!!q(t)||(e.append(K(r,n,o),u(t)),!1)}var c=[],h=Object.assign(H,{defaultVisitor:l,convertValue:u,isVisitable:q});if(!P.isObject(t))throw new TypeError("data must be an object");return function t(n,i){if(!P.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+i.join("."));c.push(n),P.forEach(n,(function(n,o){!0===(!(P.isUndefined(n)||null===n)&&r.call(e,n,P.isString(o)?o.trim():o,i,h))&&t(n,i?i.concat(o):[o])})),c.pop()}}(t),e};function Q(t){var e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Y(t,e){this._pairs=[],t&&G(t,this,e)}var X=Y.prototype;X.append=function(t,e){this._pairs.push([t,e])},X.toString=function(t){var e=t?function(e){return t.call(this,e,Q)}:Q;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var J=Y;function $(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tt(t,e,n){if(!e)return t;var i,r=n&&n.encode||$,o=n&&n.serialize;if(i=o?o(e,n):P.isURLSearchParams(e)?e.toString():new J(e,n).toString(r)){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}var et=function(){function t(){(0,F.Z)(this,t),this.handlers=[]}return(0,U.Z)(t,[{key:"use",value:function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(t){this.handlers[t]&&(this.handlers[t]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(t){P.forEach(this.handlers,(function(e){null!==e&&t(e)}))}}]),t}(),nt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},it={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:J,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var t;return("undefined"===typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var rt=function(t){function e(t,n,i,r){var o=t[r++],a=Number.isFinite(+o),s=r>=t.length;return o=!o&&P.isArray(i)?i.length:o,s?(P.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):(i[o]&&P.isObject(i[o])||(i[o]=[]),e(t,n,i[o],r)&&P.isArray(i[o])&&(i[o]=function(t){var e,n,i={},r=Object.keys(t),o=r.length;for(e=0;e<o;e++)i[n=r[e]]=t[n];return i}(i[o])),!a)}if(P.isFormData(t)&&P.isFunction(t.entries)){var n={};return P.forEachEntry(t,(function(t,i){e(function(t){return P.matchAll(/\w+|\[(\w*)]/g,t).map((function(t){return"[]"===t[0]?"":t[1]||t[0]}))}(t),i,n,0)})),n}return null};var ot={transitional:nt,adapter:["xhr","http"],transformRequest:[function(t,e){var n,i=e.getContentType()||"",r=i.indexOf("application/json")>-1,o=P.isObject(t);if(o&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return r&&r?JSON.stringify(rt(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return G(t,new it.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,i){return it.isNode&&P.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((n=P.isFileList(t))||i.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return G(n?{"files[]":t}:t,a&&new a,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),function(t,e,n){if(P.isString(t))try{return(e||JSON.parse)(t),P.trim(t)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||ot.transitional,n=e&&e.forcedJSONParsing,i="json"===this.responseType;if(t&&P.isString(t)&&(n&&!this.responseType||i)){var r=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(r){if("SyntaxError"===o.name)throw z.from(o,z.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:it.classes.FormData,Blob:it.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],(function(t){ot.headers[t]={}}));var at=ot,st=n(9439),ut=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lt=Symbol("internals");function ct(t){return t&&String(t).trim().toLowerCase()}function ht(t){return!1===t||null==t?t:P.isArray(t)?t.map(ht):String(t)}function ft(t,e,n,i,r){return P.isFunction(i)?i.call(this,e,n):(r&&(e=n),P.isString(e)?P.isString(i)?-1!==e.indexOf(i):P.isRegExp(i)?i.test(e):void 0:void 0)}var vt=function(t,e){function n(t){(0,F.Z)(this,n),t&&this.set(t)}return(0,U.Z)(n,[{key:"set",value:function(t,e,n){var i=this;function r(t,e,n){var r=ct(e);if(!r)throw new Error("header name must be a non-empty string");var o=P.findKey(i,r);(!o||void 0===i[o]||!0===n||void 0===n&&!1!==i[o])&&(i[o||e]=ht(t))}var o=function(t,e){return P.forEach(t,(function(t,n){return r(t,n,e)}))};return P.isPlainObject(t)||t instanceof this.constructor?o(t,e):P.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?o(function(t){var e,n,i,r={};return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),e=t.substring(0,i).trim().toLowerCase(),n=t.substring(i+1).trim(),!e||r[e]&&ut[e]||("set-cookie"===e?r[e]?r[e].push(n):r[e]=[n]:r[e]=r[e]?r[e]+", "+n:n)})),r}(t),e):null!=t&&r(e,t,n),this}},{key:"get",value:function(t,e){if(t=ct(t)){var n=P.findKey(this,t);if(n){var i=this[n];if(!e)return i;if(!0===e)return function(t){for(var e,n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;e=i.exec(t);)n[e[1]]=e[2];return n}(i);if(P.isFunction(e))return e.call(this,i,n);if(P.isRegExp(e))return e.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(t,e){if(t=ct(t)){var n=P.findKey(this,t);return!(!n||void 0===this[n]||e&&!ft(0,this[n],n,e))}return!1}},{key:"delete",value:function(t,e){var n=this,i=!1;function r(t){if(t=ct(t)){var r=P.findKey(n,t);!r||e&&!ft(0,n[r],r,e)||(delete n[r],i=!0)}}return P.isArray(t)?t.forEach(r):r(t),i}},{key:"clear",value:function(t){for(var e=Object.keys(this),n=e.length,i=!1;n--;){var r=e[n];t&&!ft(0,this[r],r,t,!0)||(delete this[r],i=!0)}return i}},{key:"normalize",value:function(t){var e=this,n={};return P.forEach(this,(function(i,r){var o=P.findKey(n,r);if(o)return e[o]=ht(i),void delete e[r];var a=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n}))}(r):String(r).trim();a!==r&&delete e[r],e[a]=ht(i),n[a]=!0})),this}},{key:"concat",value:function(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=this.constructor).concat.apply(t,[this].concat(n))}},{key:"toJSON",value:function(t){var e=Object.create(null);return P.forEach(this,(function(n,i){null!=n&&!1!==n&&(e[i]=t&&P.isArray(n)?n.join(", "):n)})),e}},{key:t,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(t){var e=(0,st.Z)(t,2);return e[0]+": "+e[1]})).join("\n")}},{key:e,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(t){return t instanceof this?t:new this(t)}},{key:"concat",value:function(t){for(var e=new this(t),n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((function(t){return e.set(t)})),e}},{key:"accessor",value:function(t){var e=(this[lt]=this[lt]={accessors:{}}).accessors,n=this.prototype;function i(t){var i=ct(t);e[i]||(!function(t,e){var n=P.toCamelCase(" "+e);["get","set","has"].forEach((function(i){Object.defineProperty(t,i+n,{value:function(t,n,r){return this[i].call(this,e,t,n,r)},configurable:!0})}))}(n,t),e[i]=!0)}return P.isArray(t)?t.forEach(i):i(t),this}}]),n}(Symbol.iterator,Symbol.toStringTag);vt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),P.reduceDescriptors(vt.prototype,(function(t,e){var n=t.value,i=e[0].toUpperCase()+e.slice(1);return{get:function(){return n},set:function(t){this[i]=t}}})),P.freezeMethods(vt);var dt=vt;function pt(t,e){var n=this||at,i=e||n,r=dt.from(i.headers),o=i.data;return P.forEach(t,(function(t){o=t.call(n,o,r.normalize(),e?e.status:void 0)})),r.normalize(),o}function yt(t){return!(!t||!t.__CANCEL__)}function mt(t,e,n){z.call(this,null==t?"canceled":t,z.ERR_CANCELED,e,n),this.name="CanceledError"}P.inherits(mt,z,{__CANCEL__:!0});var gt=mt;var bt=it.isStandardBrowserEnv?{write:function(t,e,n,i,r,o){var a=[];a.push(t+"="+encodeURIComponent(e)),P.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),P.isString(i)&&a.push("path="+i),P.isString(r)&&a.push("domain="+r),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function kt(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}var wt=it.isStandardBrowserEnv?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=P.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0};var _t=function(t,e){t=t||10;var n,i=new Array(t),r=new Array(t),o=0,a=0;return e=void 0!==e?e:1e3,function(s){var u=Date.now(),l=r[a];n||(n=u),i[o]=s,r[o]=u;for(var c=a,h=0;c!==o;)h+=i[c++],c%=t;if((o=(o+1)%t)===a&&(a=(a+1)%t),!(u-n<e)){var f=l&&u-l;return f?Math.round(1e3*h/f):void 0}}};function Et(t,e){var n=0,i=_t(50,250);return function(r){var o=r.loaded,a=r.lengthComputable?r.total:void 0,s=o-n,u=i(s);n=o;var l={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&o<=a?(a-o)/u:void 0,event:r};l[e?"download":"upload"]=!0,t(l)}}var xt={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){var i,r,o=t.data,a=dt.from(t.headers).normalize(),s=t.responseType;function u(){t.cancelToken&&t.cancelToken.unsubscribe(i),t.signal&&t.signal.removeEventListener("abort",i)}P.isFormData(o)&&(it.isStandardBrowserEnv||it.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.getContentType(/^\s*multipart\/form-data/)?P.isString(r=a.getContentType())&&a.setContentType(r.replace(/^\s*(multipart\/form-data);+/,"$1")):a.setContentType("multipart/form-data"));var l=new XMLHttpRequest;if(t.auth){var c=t.auth.username||"",h=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+h))}var f=kt(t.baseURL,t.url);function v(){if(l){var i=dt.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new z("Request failed with status code "+n.status,[z.ERR_BAD_REQUEST,z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),u()}),(function(t){n(t),u()}),{data:s&&"text"!==s&&"json"!==s?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:i,config:t,request:l}),l=null}}if(l.open(t.method.toUpperCase(),tt(f,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,"onloadend"in l?l.onloadend=v:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(v)},l.onabort=function(){l&&(n(new z("Request aborted",z.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new z("Network Error",z.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",i=t.transitional||nt;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new z(e,i.clarifyTimeoutError?z.ETIMEDOUT:z.ECONNABORTED,t,l)),l=null},it.isStandardBrowserEnv){var d=wt(f)&&t.xsrfCookieName&&bt.read(t.xsrfCookieName);d&&a.set(t.xsrfHeaderName,d)}void 0===o&&a.setContentType(null),"setRequestHeader"in l&&P.forEach(a.toJSON(),(function(t,e){l.setRequestHeader(e,t)})),P.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),s&&"json"!==s&&(l.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&l.addEventListener("progress",Et(t.onDownloadProgress,!0)),"function"===typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",Et(t.onUploadProgress)),(t.cancelToken||t.signal)&&(i=function(e){l&&(n(!e||e.type?new gt(null,t,l):e),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(i),t.signal&&(t.signal.aborted?i():t.signal.addEventListener("abort",i)));var p=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(f);p&&-1===it.protocols.indexOf(p)?n(new z("Unsupported protocol "+p+":",z.ERR_BAD_REQUEST,t)):l.send(o||null)}))}};P.forEach(xt,(function(t,e){if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}}));var St=function(t){return"- ".concat(t)},Tt=function(t){return P.isFunction(t)||null===t||!1===t},Ct=function(t){for(var e,n,i=(t=P.isArray(t)?t:[t]).length,r={},o=0;o<i;o++){var a=void 0;if(n=e=t[o],!Tt(e)&&void 0===(n=xt[(a=String(e)).toLowerCase()]))throw new z("Unknown adapter '".concat(a,"'"));if(n)break;r[a||"#"+o]=n}if(!n){var s=Object.entries(r).map((function(t){var e=(0,st.Z)(t,2),n=e[0],i=e[1];return"adapter ".concat(n," ")+(!1===i?"is not supported by the environment":"is not available in the build")})),u=i?s.length>1?"since :\n"+s.map(St).join("\n"):" "+St(s[0]):"as no adapter specified";throw new z("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return n};function Ot(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gt(null,t)}function At(t){return Ot(t),t.headers=dt.from(t.headers),t.data=pt.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ct(t.adapter||at.adapter)(t).then((function(e){return Ot(t),e.data=pt.call(t,t.transformResponse,e),e.headers=dt.from(e.headers),e}),(function(e){return yt(e)||(Ot(t),e&&e.response&&(e.response.data=pt.call(t,t.transformResponse,e.response),e.response.headers=dt.from(e.response.headers))),Promise.reject(e)}))}var Mt=function(t){return t instanceof dt?t.toJSON():t};function Zt(t,e){e=e||{};var n={};function i(t,e,n){return P.isPlainObject(t)&&P.isPlainObject(e)?P.merge.call({caseless:n},t,e):P.isPlainObject(e)?P.merge({},e):P.isArray(e)?e.slice():e}function r(t,e,n){return P.isUndefined(e)?P.isUndefined(t)?void 0:i(void 0,t,n):i(t,e,n)}function o(t,e){if(!P.isUndefined(e))return i(void 0,e)}function a(t,e){return P.isUndefined(e)?P.isUndefined(t)?void 0:i(void 0,t):i(void 0,e)}function s(n,r,o){return o in e?i(n,r):o in t?i(void 0,n):void 0}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:function(t,e){return r(Mt(t),Mt(e),!0)}};return P.forEach(Object.keys(Object.assign({},t,e)),(function(i){var o=u[i]||r,a=o(t[i],e[i],i);P.isUndefined(a)&&o!==s||(n[i]=a)})),n}var It="1.6.0",Lt={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){Lt[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var Nt={};Lt.transitional=function(t,e,n){function i(t,e){return"[Axios v1.6.0] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,o){if(!1===t)throw new z(i(r," has been removed"+(e?" in "+e:"")),z.ERR_DEPRECATED);return e&&!Nt[r]&&(Nt[r]=!0,console.warn(i(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,o)}};var Rt={assertOptions:function(t,e,n){if("object"!==typeof t)throw new z("options must be an object",z.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(t),r=i.length;r-- >0;){var o=i[r],a=e[o];if(a){var s=t[o],u=void 0===s||a(s,o,t);if(!0!==u)throw new z("option "+o+" must be "+u,z.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new z("Unknown option "+o,z.ERR_BAD_OPTION)}},validators:Lt},Dt=Rt.validators,Pt=function(){function t(e){(0,F.Z)(this,t),this.defaults=e,this.interceptors={request:new et,response:new et}}return(0,U.Z)(t,[{key:"request",value:function(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{};var n=e=Zt(this.defaults,e),i=n.transitional,r=n.paramsSerializer,o=n.headers;void 0!==i&&Rt.assertOptions(i,{silentJSONParsing:Dt.transitional(Dt.boolean),forcedJSONParsing:Dt.transitional(Dt.boolean),clarifyTimeoutError:Dt.transitional(Dt.boolean)},!1),null!=r&&(P.isFunction(r)?e.paramsSerializer={serialize:r}:Rt.assertOptions(r,{encode:Dt.function,serialize:Dt.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();var a=o&&P.merge(o.common,o[e.method]);o&&P.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete o[t]})),e.headers=dt.concat(a,o);var s=[],u=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(u=u&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));var l,c=[];this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)}));var h,f=0;if(!u){var v=[At.bind(this),void 0];for(v.unshift.apply(v,s),v.push.apply(v,c),h=v.length,l=Promise.resolve(e);f<h;)l=l.then(v[f++],v[f++]);return l}h=s.length;var d=e;for(f=0;f<h;){var p=s[f++],y=s[f++];try{d=p(d)}catch(m){y.call(this,m);break}}try{l=At.call(this,d)}catch(m){return Promise.reject(m)}for(f=0,h=c.length;f<h;)l=l.then(c[f++],c[f++]);return l}},{key:"getUri",value:function(t){return tt(kt((t=Zt(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}]),t}();P.forEach(["delete","get","head","options"],(function(t){Pt.prototype[t]=function(e,n){return this.request(Zt(n||{},{method:t,url:e,data:(n||{}).data}))}})),P.forEach(["post","put","patch"],(function(t){function e(e){return function(n,i,r){return this.request(Zt(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Pt.prototype[t]=e(),Pt.prototype[t+"Form"]=e(!0)}));var Ft=Pt,Ut=function(){function t(e){if((0,F.Z)(this,t),"function"!==typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(t){n=t}));var i=this;this.promise.then((function(t){if(i._listeners){for(var e=i._listeners.length;e-- >0;)i._listeners[e](t);i._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){i.subscribe(t),e=t})).then(t);return n.cancel=function(){i.unsubscribe(e)},n},e((function(t,e,r){i.reason||(i.reason=new gt(t,e,r),n(i.reason))}))}return(0,U.Z)(t,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}},{key:"unsubscribe",value:function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}}}],[{key:"source",value:function(){var e;return{token:new t((function(t){e=t})),cancel:e}}}]),t}();var jt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jt).forEach((function(t){var e=(0,st.Z)(t,2),n=e[0],i=e[1];jt[i]=n}));var Vt=jt;var Bt=function t(e){var n=new Ft(e),r=i(Ft.prototype.request,n);return P.extend(r,Ft.prototype,n,{allOwnKeys:!0}),P.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(Zt(e,n))},r}(at);Bt.Axios=Ft,Bt.CanceledError=gt,Bt.CancelToken=Ut,Bt.isCancel=yt,Bt.VERSION=It,Bt.toFormData=G,Bt.AxiosError=z,Bt.Cancel=Bt.CanceledError,Bt.all=function(t){return Promise.all(t)},Bt.spread=function(t){return function(e){return t.apply(null,e)}},Bt.isAxiosError=function(t){return P.isObject(t)&&!0===t.isAxiosError},Bt.mergeConfig=Zt,Bt.AxiosHeaders=dt,Bt.formToJSON=function(t){return rt(P.isHTMLForm(t)?new FormData(t):t)},Bt.getAdapter=Ct,Bt.HttpStatusCode=Vt,Bt.default=Bt;var zt=Bt},4702:function(t,e,n){"use strict";n.d(e,{ZF:function(){return i.ZF}});var i=n(7825);(0,i.KN)("firebase","10.5.2","app")},2481:function(t,e,n){"use strict";n.d(e,{ET:function(){return If},hJ:function(){return Ah},ad:function(){return Lh},b9:function(){return mf},cf:function(){return Lf},Xo:function(){return pf},IO:function(){return hf},Bt:function(){return Df},TQ:function(){return bf}});var i,r=n(5647),o=n(1752),a=n(1120),s=n(9439),u=n(8664),l=n(7762),c=n(4165),h=n(5861),f=n(136),v=n(7277),d=n(3433),p=n(5671),y=n(3144),m=n(7825),g=n(3258),b=n(6781),k=n(5854),w="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_={},E=E||{},x=w||self;function S(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function T(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var C="closure_uid_"+(1e9*Math.random()>>>0),O=0;function A(t,e,n){return t.call.apply(t.bind,arguments)}function M(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Z(t,e,n){return(Z=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?A:M).apply(null,arguments)}function I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function L(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function N(){this.s=this.s,this.o=this.o}N.prototype.s=!1,N.prototype.sa=function(){var t;!this.s&&(this.s=!0,this.N(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,C)&&t[C]||(t[C]=++O))},N.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var R=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function D(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function P(t,e){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(S(i)){var r=t.length||0,o=i.length||0;t.length=r+o;for(var a=0;a<o;a++)t[r+a]=i[a]}else t.push(i)}}function F(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{x.addEventListener("test",(function(){}),e),x.removeEventListener("test",(function(){}),e)}catch(n){}return t}();function j(t){return/^[\s\xa0]*$/.test(t)}function V(){var t=x.navigator;return t&&(t=t.userAgent)?t:""}function B(t){return-1!=V().indexOf(t)}function z(t){return z[" "](t),t}z[" "]=function(){};var q,W,K=B("Opera"),H=B("Trident")||B("MSIE"),G=B("Edge"),Q=G||H,Y=B("Gecko")&&!(-1!=V().toLowerCase().indexOf("webkit")&&!B("Edge"))&&!(B("Trident")||B("MSIE"))&&!B("Edge"),X=-1!=V().toLowerCase().indexOf("webkit")&&!B("Edge");function J(){var t=x.document;return t?t.documentMode:void 0}t:{var $="",tt=function(){var t=V();return Y?/rv:([^\);]+)(\)|;)/.exec(t):G?/Edge\/([\d\.]+)/.exec(t):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):X?/WebKit\/(\S+)/.exec(t):K?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(tt&&($=tt?tt[1]:""),H){var et=J();if(null!=et&&et>parseFloat($)){q=String(et);break t}}q=$}if(x.document&&H){var nt=J();W=nt||(parseInt(q,10)||void 0)}else W=void 0;var it=W;function rt(t,e){if(F.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Y){t:{try{z(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ot[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&rt.$.h.call(this)}}L(rt,F);var ot={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),st=0;function ut(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++st,this.fa=this.ia=!1}function lt(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ct(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function ht(t){var e={};for(var n in t)e[n]=t[n];return e}var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<ft.length;o++)n=ft[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function dt(t){this.src=t,this.g={},this.h=0}function pt(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],o=R(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(lt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function yt(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}dt.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=yt(t,e,i,r);return-1<a?(e=t[a],n||(e.ia=!1)):((e=new ut(e,this.src,o,!!i,r)).ia=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function bt(t,e,n,i,r){if(i&&i.once)return wt(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)bt(t,e[o],n,i,r);return null}return n=Ot(n),t&&t[at]?t.O(e,n,T(i)?!!i.capture:!!i,r):kt(t,e,n,!1,i,r)}function kt(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=T(r)?!!r.capture:!!r,s=Tt(t);if(s||(t[mt]=s=new dt(t)),(n=s.add(e,n,i,a,o)).proxy)return n;if(i=function(){function t(n){return e.call(t.src,t.listener,n)}var e=St;return t}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)U||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(xt(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function wt(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)wt(t,e[o],n,i,r);return null}return n=Ot(n),t&&t[at]?t.P(e,n,T(i)?!!i.capture:!!i,r):kt(t,e,n,!0,i,r)}function _t(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)_t(t,e[o],n,i,r);else i=T(i)?!!i.capture:!!i,n=Ot(n),t&&t[at]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=yt(o=t.g[e],n,i,r))&&(lt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=Tt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yt(e,n,i,r)),(n=-1<t?e[t]:null)&&Et(n))}function Et(t){if("number"!==typeof t&&t&&!t.fa){var e=t.src;if(e&&e[at])pt(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(xt(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Tt(e))?(pt(n,t),0==n.h&&(n.src=null,e[mt]=null)):lt(t)}}}function xt(t){return t in gt?gt[t]:gt[t]="on"+t}function St(t,e){if(t.fa)t=!0;else{e=new rt(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Et(t),t=n.call(i,e)}return t}function Tt(t){return(t=t[mt])instanceof dt?t:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ot(t){return"function"===typeof t?t:(t[Ct]||(t[Ct]=function(e){return t.handleEvent(e)}),t[Ct])}function At(){N.call(this),this.i=new dt(this),this.S=this,this.J=null}function Mt(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,"string"===typeof e)e=new F(e,t);else if(e instanceof F)e.target=e.target||t;else{var r=e;vt(e=new F(i,t),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];r=Zt(a,i,!0,e)&&r}if(r=Zt(a=e.g=t,i,!0,e)&&r,r=Zt(a,i,!1,e)&&r,n)for(o=0;o<n.length;o++)r=Zt(a=e.g=n[o],i,!1,e)&&r}function Zt(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,u=a.la||a.src;a.ia&&pt(t.i,a),r=!1!==s.call(u,i)&&r}}return r&&!i.defaultPrevented}L(At,N),At.prototype[at]=!0,At.prototype.removeEventListener=function(t,e,n,i){_t(this,t,e,n,i)},At.prototype.N=function(){if(At.$.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)lt(n[i]);delete e.g[t],e.h--}}this.J=null},At.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},At.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var It=x.JSON.stringify,Lt=function(){function t(e,n){(0,p.Z)(this,t),this.i=e,this.j=n,this.h=0,this.g=null}return(0,y.Z)(t,[{key:"get",value:function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}]),t}();function Nt(){var t=Bt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Rt=function(){function t(){(0,p.Z)(this,t),this.h=this.g=null}return(0,y.Z)(t,[{key:"add",value:function(t,e){var n=Dt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}}]),t}(),Dt=new Lt((function(){return new Pt}),(function(t){return t.reset()})),Pt=function(){function t(){(0,p.Z)(this,t),this.next=this.g=this.h=null}return(0,y.Z)(t,[{key:"set",value:function(t,e){this.h=t,this.g=e,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),t}();function Ft(t){var e=1;t=t.split(":");for(var n=[];0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Ut(t){x.setTimeout((function(){throw t}),0)}var jt,Vt=!1,Bt=new Rt,zt=function(){var t=x.Promise.resolve(void 0);jt=function(){t.then(qt)}},qt=function(){for(var t;t=Nt();){try{t.h.call(t.g)}catch(n){Ut(n)}var e=Dt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vt=!1};function Wt(t,e){At.call(this),this.h=t||1,this.g=e||x,this.j=Z(this.qb,this),this.l=Date.now()}function Kt(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Ht(t,e,n){if("function"===typeof t)n&&(t=Z(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Z(t.handleEvent,t)}return 2147483647<Number(e)?-1:x.setTimeout(t,e||0)}function Gt(t){t.g=Ht((function(){t.g=null,t.i&&(t.i=!1,Gt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}L(Wt,At),(i=Wt.prototype).ga=!1,i.T=null,i.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mt(this,"tick"),this.ga&&(Kt(this),this.start()))}},i.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.N=function(){Wt.$.N.call(this),Kt(this),delete this.g};var Qt=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this)).m=t,r.j=i,r.h=null,r.i=!1,r.g=null,r}return(0,y.Z)(n,[{key:"l",value:function(t){this.h=arguments,this.g?this.i=!0:Gt(this)}},{key:"N",value:function(){(0,o.Z)((0,a.Z)(n.prototype),"N",this).call(this),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(N);function Yt(t){N.call(this),this.h=t,this.g={}}L(Yt,N);var Xt=[];function Jt(t,e,n,i){Array.isArray(n)||(n&&(Xt[0]=n.toString()),n=Xt);for(var r=0;r<n.length;r++){var o=bt(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function $t(t){ct(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Et(t)}),t),t.g={}}function te(){this.g=!0}function ee(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<r.length;a++)r[a]=""}}}return It(n)}catch(s){return e}}(t,n)+(i?" "+i:"")}))}Yt.prototype.N=function(){Yt.$.N.call(this),$t(this)},Yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},te.prototype.Ea=function(){this.g=!1},te.prototype.info=function(){};var ne={},ie=null;function re(){return ie=ie||new At}function oe(t){F.call(this,ne.Ta,t)}function ae(t){var e=re();Mt(e,new oe(e))}function se(t,e){F.call(this,ne.STAT_EVENT,t),this.stat=e}function ue(t){var e=re();Mt(e,new se(e,t))}function le(t,e){F.call(this,ne.Ua,t),this.size=e}function ce(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return x.setTimeout((function(){t()}),e)}ne.Ta="serverreachability",L(oe,F),ne.STAT_EVENT="statevent",L(se,F),ne.Ua="timingevent",L(le,F);var he={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},fe={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ve(){}function de(t){return t.h||(t.h=t.i())}function pe(){}ve.prototype.h=null;var ye,me={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ge(){F.call(this,"d")}function be(){F.call(this,"c")}function ke(){}function we(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Yt(this),this.P=Ee,t=Q?125:void 0,this.V=new Wt(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}L(ge,F),L(be,F),L(ke,ve),ke.prototype.g=function(){return new XMLHttpRequest},ke.prototype.i=function(){return{}},ye=new ke;var Ee=45e3,xe={},Se={};function Te(t,e,n){t.L=1,t.v=We(je(e)),t.s=n,t.S=!0,Ce(t,null)}function Ce(t,e){t.G=Date.now(),Ze(t),t.A=je(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),on(n.i,"t",i),t.C=0,n=t.l.J,t.h=new _e,t.g=ai(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Qt(Z(t.Pa,t,t.g),t.O)),Jt(t.U,t.g,"readystatechange",t.nb),e=t.I?ht(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ae(),function(t,e,n,i,r,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.W,t.s)}function Oe(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.l.Ha)}function Ae(t,e,n){for(var i,r=!0;!t.J&&t.C<n.length;){if((i=Me(t,n))==Se){4==e&&(t.o=4,ue(14),r=!1),ee(t.j,t.m,null,"[Incomplete Response]");break}if(i==xe){t.o=4,ue(15),ee(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ee(t.j,t.m,i,null),De(t,i)}Oe(t)&&i!=Se&&i!=xe&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ue(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jn(e),e.M=!0,ue(11))):(ee(t.j,t.m,n,"[Invalid Chunked Response]"),Re(t),Ne(t))}function Me(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?Se:(n=Number(e.substring(n,i)),isNaN(n)?xe:(i+=1)+n>e.length?Se:(e=e.slice(i,i+n),t.C=i+n,e))}function Ze(t){t.Y=Date.now()+t.P,Ie(t,t.P)}function Ie(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ce(Z(t.lb,t),e)}function Le(t){t.B&&(x.clearTimeout(t.B),t.B=null)}function Ne(t){0==t.l.H||t.J||ei(t.l,t)}function Re(t){Le(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Kt(t.V),$t(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function De(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||fn(n.i,t)))if(!t.K&&fn(n.i,t)&&3==n.H){try{var i=n.Ja.g.parse(e)}catch(o){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break t;ti(n),qn(n)}Xn(n),ue(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&0==n.A&&!n.v&&(n.v=ce(Z(n.ib,n),6e3));if(1>=hn(n.i)&&n.oa){try{n.oa()}catch(o){}n.oa=void 0}}else ii(n,11)}else if((t.K||n.g==t)&&ti(n),!j(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){var o=r[e];if(n.V=o[0],o=o[1],2==n.H)if("c"==o[0]){n.K=o[1],n.pa=o[2];var a=o[3];null!=a&&(n.ra=a,n.l.info("VER="+n.ra));var s=o[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;var l=t.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=i.i;h.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(vn(h,h.h),h.h=null))}if(i.F){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(i.Da=f,qe(i.I,i.F,f))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var v=t;if((i=n).wa=oi(i,i.J?i.pa:null,i.Y),v.K){dn(i.i,v);var d=v,p=i.L;p&&d.setTimeout(p),d.B&&(Le(d),Ze(d)),i.g=v}else Yn(i);0<n.j.length&&Kn(n)}else"stop"!=o[0]&&"close"!=o[0]||ii(n,7);else 3==n.H&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?ii(n,7):zn(n):"noop"!=o[0]&&n.h&&n.h.Aa(o),n.A=0)}ae()}catch(o){}}function Pe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(S(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(S(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}}(t),i=function(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(S(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(i=we.prototype).setTimeout=function(t){this.P=t},i.nb=function(t){t=t.target;var e=this.M;e&&3==Pn(t)?e.l():this.Pa(t)},i.Pa=function(t){try{if(t==this.g)t:{var e=Pn(this.g),n=this.g.Ia();this.g.da();if(!(3>e)&&(3!=e||Q||this.g&&(this.h.h||this.g.ja()||Fn(this.g)))){this.J||4!=e||7==n||ae(),Le(this);var i=this.g.da();this.ca=i;e:if(Oe(this)){var r=Fn(this.g);t="";var o=r.length,a=4==Pn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Re(this),Ne(this);var s="";break e}this.h.i=new x.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(r[n],{stream:a&&n==o-1});r.splice(0,o),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==i,function(t,e,n,i,r,o,a){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.W,e,i),this.i){if(this.aa&&!this.K){e:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(u)){var c=u;break e}}c=null}if(!(i=c)){this.i=!1,this.o=3,ue(12),Re(this),Ne(this);break t}ee(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,De(this,i)}this.S?(Ae(this,e,s),Q&&this.i&&3==e&&(Jt(this.U,this.V,"tick",this.mb),this.V.start())):(ee(this.j,this.m,s,null),De(this,s)),4==e&&Re(this),this.i&&!this.J&&(4==e?ei(this.l,this):(this.i=!1,Ze(this)))}else(function(t){var e={};t=(t.g&&2<=Pn(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<t.length;n++)if(!j(t[n])){var i=Ft(t[n]),r=i[0];if("string"===typeof(i=i[1])){i=i.trim();var o=e[r]||[];e[r]=o,o.push(i)}}!function(t,e){for(var n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ue(12)):(this.o=0,ue(13)),Re(this),Ne(this)}}}catch(e){}},i.mb=function(){if(this.g){var t=Pn(this.g),e=this.g.ja();this.C<e.length&&(Le(this),Ae(this,t,e),this.i&&4!=t&&Ze(this))}},i.cancel=function(){this.J=!0,Re(this)},i.lb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.L&&(ae(),ue(17)),Re(this),this.o=2,Ne(this)):Ie(this,this.Y-t)};var Fe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ue(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ue){this.h=t.h,Ve(this,t.j),this.s=t.s,this.g=t.g,Be(this,t.m),this.l=t.l;var e=t.i,n=new tn;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ze(this,n),this.o=t.o}else t&&(e=String(t).match(Fe))?(this.h=!1,Ve(this,e[1]||"",!0),this.s=Ke(e[2]||""),this.g=Ke(e[3]||"",!0),Be(this,e[4]),this.l=Ke(e[5]||"",!0),ze(this,e[6]||"",!0),this.o=Ke(e[7]||"")):(this.h=!1,this.i=new tn(null,this.h))}function je(t){return new Ue(t)}function Ve(t,e,n){t.j=n?Ke(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Be(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ze(t,e,n){e instanceof tn?(t.i=e,function(t,e){e&&!t.j&&(en(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(nn(this,e),on(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=He(e,Je)),t.i=new tn(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function We(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ke(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function He(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Ge),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ge(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ue.prototype.toString=function(){var t=[],e=this.j;e&&t.push(He(e,Qe,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(He(e,Qe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(He(n,"/"==n.charAt(0)?Xe:Ye,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",He(n,$e)),t.join("")};var Qe=/[#\/\?@]/g,Ye=/[#\?:]/g,Xe=/[#\?]/g,Je=/[#\?@]/g,$e=/#/g;function tn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function en(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function nn(t,e){en(t),e=an(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rn(t,e){return en(t),e=an(t,e),t.g.has(e)}function on(t,e,n){nn(t,e),0<n.length&&(t.i=null,t.g.set(an(t,e),D(n)),t.h+=n.length)}function an(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(i=tn.prototype).add=function(t,e){en(this),this.i=null,t=an(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},i.forEach=function(t,e){en(this),this.g.forEach((function(n,i){n.forEach((function(n){t.call(e,n,i,this)}),this)}),this)},i.ta=function(){en(this);for(var t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},i.Z=function(t){en(this);var e=[];if("string"===typeof t)rn(this,t)&&(e=e.concat(this.g.get(an(this,t))));else{t=Array.from(this.g.values());for(var n=0;n<t.length;n++)e=e.concat(t[n])}return e},i.set=function(t,e){return en(this),this.i=null,rn(this,t=an(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},i.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=Array.from(this.g.keys()),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var a=r;""!==o[i]&&(a+="="+encodeURIComponent(String(o[i]))),t.push(a)}}return this.i=t.join("&")};var sn=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.g=e,this.map=n}));function un(t){this.l=t||ln,x.PerformanceNavigationTiming?t=0<(t=x.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(x.g&&x.g.Ka&&x.g.Ka()&&x.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ln=10;function cn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function hn(t){return t.h?1:t.g?t.g.size:0}function fn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function vn(t,e){t.g?t.g.add(e):t.h=e}function dn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function pn(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){var e,n=t.i,i=(0,l.Z)(t.g.values());try{for(i.s();!(e=i.n()).done;){var r=e.value;n=n.concat(r.F)}}catch(o){i.e(o)}finally{i.f()}return n}return D(t.i)}un.prototype.cancel=function(){if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var t,e=(0,l.Z)(this.g.values());try{for(e.s();!(t=e.n()).done;){t.value.cancel()}}catch(n){e.e(n)}finally{e.f()}this.g.clear()}};var yn,mn=function(){function t(){(0,p.Z)(this,t)}return(0,y.Z)(t,[{key:"stringify",value:function(t){return x.JSON.stringify(t,void 0)}},{key:"parse",value:function(t){return x.JSON.parse(t,void 0)}}]),t}();function gn(){this.g=new mn}function bn(t,e,n){var i=n||"";try{Pe(t,(function(t,n){var r=t;T(t)&&(r=It(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function kn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}function wn(t){this.l=t.ec||null,this.j=t.ob||!1}function _n(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=En,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}L(wn,ve),wn.prototype.g=function(){return new _n(this.l,this.j)},wn.prototype.i=(yn={},function(){return yn}),L(_n,At);var En=0;function xn(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Sn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tn(t)}function Tn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(i=_n.prototype).open=function(t,e){if(this.readyState!=En)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tn(this)},i.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||x).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sn(this)),this.readyState=En},i.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof x.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xn(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},i.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Sn(this):Tn(this),3==this.readyState&&xn(this)}},i.Za=function(t){this.g&&(this.response=this.responseText=t,Sn(this))},i.Ya=function(t){this.g&&(this.response=t,Sn(this))},i.ka=function(){this.g&&Sn(this)},i.setRequestHeader=function(t,e){this.v.append(t,e)},i.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(_n.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Cn=x.JSON.parse;function On(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=An,this.L=this.M=!1}L(On,At);var An="",Mn=/^https?$/i,Zn=["POST","PUT"];function In(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ln(t),Rn(t)}function Ln(t){t.F||(t.F=!0,Mt(t,"complete"),Mt(t,"error"))}function Nn(t){if(t.h&&"undefined"!=typeof E&&(!t.C[1]||4!=Pn(t)||2!=t.da()))if(t.v&&4==Pn(t))Ht(t.La,0,t);else if(Mt(t,"readystatechange"),4==Pn(t)){t.h=!1;try{var e,n=t.da();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.I).match(Fe)[1]||null;!o&&x.self&&x.self.location&&(o=x.self.location.protocol.slice(0,-1)),r=!Mn.test(o?o.toLowerCase():"")}e=r}if(e)Mt(t,"complete"),Mt(t,"success");else{t.m=6;try{var a=2<Pn(t)?t.g.statusText:""}catch(s){a=""}t.j=a+" ["+t.da()+"]",Ln(t)}}finally{Rn(t)}}}function Rn(t,e){if(t.g){Dn(t);var n=t.g,i=t.C[0]?function(){}:null;t.g=null,t.C=null,e||Mt(t,"ready");try{n.onreadystatechange=i}catch(r){}}}function Dn(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(x.clearTimeout(t.A),t.A=null)}function Pn(t){return t.g?t.g.readyState:0}function Fn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case An:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(Wi){return null}}function Un(t){var e="";return ct(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function jn(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Un(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):qe(t,e,n))}function Vn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Bn(t){this.Ga=0,this.j=[],this.l=new te,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vn("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vn("baseRetryDelayMs",5e3,t),this.hb=Vn("retryDelaySeedMs",1e4,t),this.eb=Vn("forwardChannelMaxRetries",2,t),this.xa=Vn("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new un(t&&t.concurrentRequestLimit),this.Ja=new gn,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function zn(t){if(Wn(t),3==t.H){var e=t.W++,n=je(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),Gn(t,n),(e=new we(t,t.l,e)).L=2,e.v=We(je(n)),n=!1,x.navigator&&x.navigator.sendBeacon)try{n=x.navigator.sendBeacon(e.v.toString(),"")}catch(i){}!n&&x.Image&&((new Image).src=e.v,n=!0),n||(e.g=ai(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ze(e)}ri(t)}function qn(t){t.g&&(Jn(t),t.g.cancel(),t.g=null)}function Wn(t){qn(t),t.u&&(x.clearTimeout(t.u),t.u=null),ti(t),t.i.cancel(),t.m&&("number"===typeof t.m&&x.clearTimeout(t.m),t.m=null)}function Kn(t){if(!cn(t.i)&&!t.m){t.m=!0;var e=t.Na;jt||zt(),Vt||(jt(),Vt=!0),Bt.add(e,t),t.C=0}}function Hn(t,e){var n;n=e?e.m:t.W++;var i=je(t.I);qe(i,"SID",t.K),qe(i,"RID",n),qe(i,"AID",t.V),Gn(t,i),t.o&&t.s&&jn(i,t.o,t.s),n=new we(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Qn(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),vn(t.i,n),Te(n,i,e)}function Gn(t,e){t.na&&ct(t.na,(function(t,n){qe(e,n,t)})),t.h&&Pe({},(function(t,n){qe(e,n,t)}))}function Qn(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Z(t.h.Va,t.h,t):null;t:for(var r=t.j,o=-1;;){var a=["count="+n];-1==o?0<n?(o=r[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var l=r[u].g,c=r[u].map;if(0>(l-=o))o=Math.max(0,r[u].g-100),s=!1;else try{bn(c,a,"req"+l+"_")}catch(h){i&&i(c)}}if(s){i=a.join("&");break t}}return t=t.j.splice(0,n),e.F=t,i}function Yn(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;jt||zt(),Vt||(jt(),Vt=!0),Bt.add(e,t),t.A=0}}function Xn(t){return!(t.g||t.u||3<=t.A)&&(t.ba++,t.u=ce(Z(t.Ma,t),ni(t,t.A)),t.A++,!0)}function Jn(t){null!=t.B&&(x.clearTimeout(t.B),t.B=null)}function $n(t){t.g=new we(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=je(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),Gn(t,e),t.o&&t.s&&jn(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=We(je(e)),n.s=null,n.S=!0,Ce(n,t)}function ti(t){null!=t.v&&(x.clearTimeout(t.v),t.v=null)}function ei(t,e){var n=null;if(t.g==e){ti(t),Jn(t),t.g=null;var i=2}else{if(!fn(t.i,e))return;n=e.F,dn(t.i,e),i=1}if(0!=t.H)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;Mt(i=re(),new le(i,n)),Kn(t)}else Yn(t);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function(t,e){return!(hn(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.j=e.F.concat(t.j),!0):!(1==t.H||2==t.H||t.C>=(t.cb?0:t.eb))&&(t.m=ce(Z(t.Na,t,e),ni(t,t.C)),t.C++,!0))}(t,e)||2==i&&Xn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:ii(t,5);break;case 4:ii(t,10);break;case 3:ii(t,6);break;default:ii(t,2)}}function ni(t,e){var n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ii(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var i=Z(t.pb,t);n||(n=new Ue("//www.google.com/images/cleardot.gif"),x.location&&"http"==x.location.protocol||Ve(n,"https"),We(n)),function(t,e){var n=new te;if(x.Image){var i=new Image;i.onload=I(kn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=I(kn,n,i,"TestLoadImage: error",!1,e),i.onabort=I(kn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=I(kn,n,i,"TestLoadImage: timeout",!1,e),x.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else ue(2);t.H=0,t.h&&t.h.za(e),ri(t),Wn(t)}function ri(t){if(t.H=0,t.ma=[],t.h){var e=pn(t.i);0==e.length&&0==t.j.length||(P(t.ma,e),P(t.ma,t.j),t.i.i.length=0,D(t.j),t.j.length=0),t.h.ya()}}function oi(t,e,n){var i=n instanceof Ue?je(n):new Ue(n);if(""!=i.g)e&&(i.g=e+"."+i.g),Be(i,i.m);else{var r=x.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Ue(null);i&&Ve(o,i),e&&(o.g=e),r&&Be(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&qe(i,n,e),qe(i,"VER",t.ra),Gn(t,i),i}function ai(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ha&&!t.va?new On(new wn({ob:!0})):new On(t.va)).Oa(t.J),e}function si(){}function ui(){if(H&&!(10<=Number(it)))throw Error("Environmental error: no available transport.")}function li(t,e){At.call(this),this.g=new Bn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!j(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!j(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new fi(this)}function ci(t){ge.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function hi(){be.call(this),this.status=1}function fi(t){this.g=t}function vi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function di(t,e,n){n||(n=0);var i=Array(16);if("string"===typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],a=e+(o^n&(r^o))+i[0]+3614090360&4294967295;a=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=n+(a<<7&4294967295|a>>>25))+((a=o+(r^e&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^o&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^n&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^e&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^o&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^n&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^e&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^o&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^n&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^e&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^o&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(r^o&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^r&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(e^n&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(r^o&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^r&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(e^n&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(r^o&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^r&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(e^n&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(r^o&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^r&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(e^n&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(n^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^r^o)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^e^n)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(r^(n|~o))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(e^(o|~n))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(r^(n|~o))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(e^(o|~n))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(r^(n|~o))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(e^(o|~n))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(e=n+((a=e+(r^(n|~o))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=o+((a=r+(e^(o|~n))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}function pi(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=0|t[r];i&&o==e||(n[r]=o,i=!1)}this.g=n}(i=On.prototype).Oa=function(t){this.M=t},i.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ye.g(),this.C=this.u?de(this.u):de(ye),this.g.onreadystatechange=Z(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(u){return void In(this,u)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));var o,a=(0,l.Z)(i.keys());try{for(a.s();!(o=a.n()).done;){var u=o.value;n.set(u,i.get(u))}}catch(p){a.e(p)}finally{a.f()}}i=Array.from(n.keys()).find((function(t){return"content-type"==t.toLowerCase()})),r=x.FormData&&t instanceof x.FormData,!(0<=R(Zn,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,h=(0,l.Z)(n);try{for(h.s();!(c=h.n()).done;){var f=(0,s.Z)(c.value,2),v=f[0],d=f[1];this.g.setRequestHeader(v,d)}}catch(p){h.e(p)}finally{h.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Dn(this),0<this.B&&((this.L=function(t){return H&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Z(this.ua,this)):this.A=Ht(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){In(this,u)}},i.ua=function(){"undefined"!=typeof E&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mt(this,"timeout"),this.abort(8))},i.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Mt(this,"complete"),Mt(this,"abort"),Rn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rn(this,!0)),On.$.N.call(this)},i.La=function(){this.s||(this.G||this.v||this.l?Nn(this):this.kb())},i.kb=function(){Nn(this)},i.isActive=function(){return!!this.g},i.da=function(){try{return 2<Pn(this)?this.g.status:-1}catch(yn){return-1}},i.ja=function(){try{return this.g?this.g.responseText:""}catch(yn){return""}},i.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cn(e)}},i.Ia=function(){return this.m},i.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(i=Bn.prototype).ra=8,i.H=1,i.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;var e=new we(this,this.l,t),n=this.s;if(this.U&&(n?vt(n=ht(n),this.U):n=this.U),null!==this.o||this.O||(e.I=n,n=null),this.P)t:{for(var i=0,r=0;r<this.j.length;r++){var o=this.j[r];if(void 0===(o="__data__"in o.map&&"string"===typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(i+=o)){i=r;break t}if(4096===i||r===this.j.length-1){i=r+1;break t}}i=1e3}else i=1e3;i=Qn(this,e,i),qe(r=je(this.I),"RID",t),qe(r,"CVER",22),this.F&&qe(r,"X-HTTP-Session-Id",this.F),Gn(this,r),n&&(this.O?i="headers="+encodeURIComponent(String(Un(n)))+"&"+i:this.o&&jn(r,this.o,n)),vn(this.i,e),this.bb&&qe(r,"TYPE","init"),this.P?(qe(r,"$req",i),qe(r,"SID","null"),e.aa=!0,Te(e,r,null)):Te(e,r,i),this.H=2}}else 3==this.H&&(t?Hn(this,t):0==this.j.length||cn(this.i)||Hn(this))},i.Ma=function(){if(this.u=null,$n(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ce(Z(this.jb,this),t)}},i.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ue(10),qn(this),$n(this))},i.ib=function(){null!=this.v&&(this.v=null,qn(this),Xn(this),ue(19))},i.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ue(2)):(this.l.info("Failed to ping google.com"),ue(1))},i.isActive=function(){return!!this.h&&this.h.isActive(this)},(i=si.prototype).Ba=function(){},i.Aa=function(){},i.za=function(){},i.ya=function(){},i.isActive=function(){return!0},i.Va=function(){},ui.prototype.g=function(t,e){return new li(t,e)},L(li,At),li.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ue(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=oi(t,null,t.Y),Kn(t)},li.prototype.close=function(){zn(this.g)},li.prototype.u=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=It(t),t=n);e.j.push(new sn(e.fb++,t)),3==e.H&&Kn(e)},li.prototype.N=function(){this.g.h=null,delete this.j,zn(this.g),delete this.g,li.$.N.call(this)},L(ci,ge),L(hi,be),L(fi,si),fi.prototype.Ba=function(){Mt(this.g,"a")},fi.prototype.Aa=function(t){Mt(this.g,new ci(t))},fi.prototype.za=function(t){Mt(this.g,new hi)},fi.prototype.ya=function(){Mt(this.g,"b")},L(vi,(function(){this.blockSize=-1})),vi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=n;)di(this,t,o),o+=this.blockSize;if("string"===typeof t){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){di(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){di(this,i),r=0;break}}this.h=r,this.i+=e},vi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};var yi={};function mi(t){return-128<=t&&128>t?function(t,e){var n=yi;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new pi([0|t],0>t?-1:0)})):new pi([0|t],0>t?-1:0)}function gi(t){if(isNaN(t)||!isFinite(t))return ki;if(0>t)return Si(gi(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=bi;return new pi(e,0)}var bi=4294967296,ki=mi(0),wi=mi(1),_i=mi(16777216);function Ei(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function xi(t){return-1==t.h}function Si(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new pi(n,~t.h).add(wi)}function Ti(t,e){return t.add(Si(e))}function Ci(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Oi(t,e){this.g=t,this.h=e}function Ai(t,e){if(Ei(e))throw Error("division by zero");if(Ei(t))return new Oi(ki,ki);if(xi(t))return e=Ai(Si(t),e),new Oi(Si(e.g),Si(e.h));if(xi(e))return e=Ai(t,Si(e)),new Oi(Si(e.g),e.h);if(30<t.g.length){if(xi(t)||xi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=wi,i=e;0>=i.X(t);)n=Mi(n),i=Mi(i);var r=Zi(n,1),o=Zi(i,1);for(i=Zi(i,2),n=Zi(n,2);!Ei(i);){var a=o.add(i);0>=a.X(t)&&(r=r.add(n),o=a),i=Zi(i,1),n=Zi(n,1)}return e=Ti(t,r.R(e)),new Oi(r,e)}for(r=ki;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),a=(o=gi(n)).R(e);xi(a)||0<a.X(t);)a=(o=gi(n-=i)).R(e);Ei(o)&&(o=wi),r=r.add(o),t=Ti(t,a)}return new Oi(r,t)}function Mi(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new pi(n,t.h)}function Zi(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new pi(r,t.h)}(i=pi.prototype).ea=function(){if(xi(this))return-Si(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:bi+i)*e,e*=bi}return t},i.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ei(this))return"0";if(xi(this))return"-"+Si(this).toString(t);for(var e=gi(Math.pow(t,6)),n=this,i="";;){var r=Ai(n,e).g,o=((0<(n=Ti(n,r.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ei(n=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},i.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},i.X=function(t){return xi(t=Ti(this,t))?-1:Ei(t)?0:1},i.abs=function(){return xi(this)?Si(this):this},i.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&t.D(r)),a=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=a>>>16,o&=65535,a&=65535,n[r]=a<<16|o}return new pi(n,-2147483648&n[n.length-1]?-1:0)},i.R=function(t){if(Ei(this)||Ei(t))return ki;if(xi(this))return xi(t)?Si(this).R(Si(t)):Si(Si(this).R(t));if(xi(t))return Si(this.R(Si(t)));if(0>this.X(_i)&&0>t.X(_i))return gi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,a=65535&this.D(i),s=t.D(r)>>>16,u=65535&t.D(r);n[2*i+2*r]+=a*u,Ci(n,2*i+2*r),n[2*i+2*r+1]+=o*u,Ci(n,2*i+2*r+1),n[2*i+2*r+1]+=a*s,Ci(n,2*i+2*r+1),n[2*i+2*r+2]+=o*s,Ci(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new pi(n,0)},i.gb=function(t){return Ai(this,t).h},i.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new pi(n,this.h&t.h)},i.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new pi(n,this.h|t.h)},i.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new pi(n,this.h^t.h)},ui.prototype.createWebChannel=ui.prototype.g,li.prototype.send=li.prototype.u,li.prototype.open=li.prototype.m,li.prototype.close=li.prototype.close,he.NO_ERROR=0,he.TIMEOUT=8,he.HTTP_ERROR=6,fe.COMPLETE="complete",pe.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",At.prototype.listen=At.prototype.O,On.prototype.listenOnce=On.prototype.P,On.prototype.getLastError=On.prototype.Sa,On.prototype.getLastErrorCode=On.prototype.Ia,On.prototype.getStatus=On.prototype.da,On.prototype.getResponseJson=On.prototype.Wa,On.prototype.getResponseText=On.prototype.ja,On.prototype.send=On.prototype.ha,On.prototype.setWithCredentials=On.prototype.Oa,vi.prototype.digest=vi.prototype.l,vi.prototype.reset=vi.prototype.reset,vi.prototype.update=vi.prototype.j,pi.prototype.add=pi.prototype.add,pi.prototype.multiply=pi.prototype.R,pi.prototype.modulo=pi.prototype.gb,pi.prototype.compare=pi.prototype.X,pi.prototype.toNumber=pi.prototype.ea,pi.prototype.toString=pi.prototype.toString,pi.prototype.getBits=pi.prototype.D,pi.fromNumber=gi,pi.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return Si(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=gi(Math.pow(n,8)),r=ki,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),s=parseInt(e.substring(o,o+a),n);8>a?(a=gi(Math.pow(n,a)),r=r.R(a).add(gi(s))):r=(r=r.R(i)).add(gi(s))}return r};var Ii=_.createWebChannelTransport=function(){return new ui},Li=_.getStatEventTarget=function(){return re()},Ni=_.ErrorCode=he,Ri=_.EventType=fe,Di=_.Event=ne,Pi=_.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fi=_.FetchXmlHttpFactory=wn,Ui=_.WebChannel=pe,ji=_.XhrIo=On,Vi=_.Md5=vi,Bi=_.Integer=pi,zi="@firebase/firestore",qi=function(){function t(e){(0,p.Z)(this,t),this.uid=e}return(0,y.Z)(t,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(t){return t.uid===this.uid}}]),t}();qi.UNAUTHENTICATED=new qi(null),qi.GOOGLE_CREDENTIALS=new qi("google-credentials-uid"),qi.FIRST_PARTY=new qi("first-party-uid"),qi.MOCK_USER=new qi("mock-user");var Wi="10.5.2",Ki=new b.Yd("@firebase/firestore");function Hi(){return Ki.logLevel}function Gi(t){if(Ki.logLevel<=b.in.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=n.map(Xi);Ki.debug.apply(Ki,["Firestore (".concat(Wi,"): ").concat(t)].concat((0,d.Z)(r)))}}function Qi(t){if(Ki.logLevel<=b.in.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=n.map(Xi);Ki.error.apply(Ki,["Firestore (".concat(Wi,"): ").concat(t)].concat((0,d.Z)(r)))}}function Yi(t){if(Ki.logLevel<=b.in.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=n.map(Xi);Ki.warn.apply(Ki,["Firestore (".concat(Wi,"): ").concat(t)].concat((0,d.Z)(r)))}}function Xi(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function Ji(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",e="FIRESTORE (".concat(Wi,") INTERNAL ASSERTION FAILED: ")+t;throw Qi(e),new Error(e)}function $i(t,e){t||Ji()}function tr(t,e){return t}var er={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},nr=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this,t,i)).code=t,r.message=i,r.toString=function(){return"".concat(r.name,": [code=").concat(r.code,"]: ").concat(r.message)},r}return(0,y.Z)(n)}(k.ZR),ir=(0,y.Z)((function t(){var e=this;(0,p.Z)(this,t),this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))})),rr=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))})),or=function(){function t(){(0,p.Z)(this,t)}return(0,y.Z)(t,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(t,e){t.enqueueRetryable((function(){return e(qi.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),t}(),ar=function(){function t(e){(0,p.Z)(this,t),this.token=e,this.changeListener=null}return(0,y.Z)(t,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),t}(),sr=function(){function t(e){(0,p.Z)(this,t),this.t=e,this.currentUser=qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,y.Z)(t,[{key:"start",value:function(t,e){var n=this,i=this.i,r=function(t){return n.i!==i?(i=n.i,e(t)):Promise.resolve()},o=new ir;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new ir,t.enqueueRetryable((function(){return r(n.currentUser)}))};var a=function(){var e=o;t.enqueueRetryable((0,h.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.promise;case 2:return t.next=4,r(n.currentUser);case 4:case"end":return t.stop()}}),t)}))))},s=function(t){Gi("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=t,n.auth.addAuthTokenListener(n.o),a()};this.t.onInit((function(t){return s(t)})),setTimeout((function(){if(!n.auth){var t=n.t.getImmediate({optional:!0});t?s(t):(Gi("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ir)}}),0),a()}},{key:"getToken",value:function(){var t=this,e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.i!==e?(Gi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?($i("string"==typeof n.accessToken),new rr(n.accessToken,t.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var t=this.auth&&this.auth.getUid();return $i(null===t||"string"==typeof t),new qi(t)}}]),t}(),ur=function(){function t(e,n,i){(0,p.Z)(this,t),this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=qi.FIRST_PARTY,this.I=new Map}return(0,y.Z)(t,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),t}(),lr=function(){function t(e,n,i){(0,p.Z)(this,t),this.l=e,this.h=n,this.P=i}return(0,y.Z)(t,[{key:"getToken",value:function(){return Promise.resolve(new ur(this.l,this.h,this.P))}},{key:"start",value:function(t,e){t.enqueueRetryable((function(){return e(qi.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),t}(),cr=(0,y.Z)((function t(e){(0,p.Z)(this,t),this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),hr=function(){function t(e){(0,p.Z)(this,t),this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}return(0,y.Z)(t,[{key:"start",value:function(t,e){var n=this,i=function(t){null!=t.error&&Gi("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));var i=t.token!==n.R;return n.R=t.token,Gi("FirebaseAppCheckTokenProvider","Received ".concat(i?"new":"existing"," token.")),i?e(t.token):Promise.resolve()};this.o=function(e){t.enqueueRetryable((function(){return i(e)}))};var r=function(t){Gi("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=t,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(t){return r(t)})),setTimeout((function(){if(!n.appCheck){var t=n.A.getImmediate({optional:!0});t?r(t):Gi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var t=this,e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?($i("string"==typeof e.token),t.R=e.token,new cr(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),t}();function fr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var vr=function(){function t(){(0,p.Z)(this,t)}return(0,y.Z)(t,null,[{key:"newId",value:function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62),n="";n.length<20;)for(var i=fr(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%62));return n}}]),t}();function dr(t,e){return t<e?-1:t>e?1:0}function pr(t,e,n){return t.length===e.length&&t.every((function(t,i){return n(t,e[i])}))}var yr=function(){function t(e,n){if((0,p.Z)(this,t),this.seconds=e,this.nanoseconds=n,n<0)throw new nr(er.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new nr(er.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new nr(er.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nr(er.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return(0,y.Z)(t,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(t){return this.seconds===t.seconds?dr(this.nanoseconds,t.nanoseconds):dr(this.seconds,t.seconds)}},{key:"isEqual",value:function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return t.fromMillis(Date.now())}},{key:"fromDate",value:function(e){return t.fromMillis(e.getTime())}},{key:"fromMillis",value:function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))}}]),t}(),mr=function(){function t(e){(0,p.Z)(this,t),this.timestamp=e}return(0,y.Z)(t,[{key:"compareTo",value:function(t){return this.timestamp._compareTo(t.timestamp)}},{key:"isEqual",value:function(t){return this.timestamp.isEqual(t.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(e){return new t(e)}},{key:"min",value:function(){return new t(new yr(0,0))}},{key:"max",value:function(){return new t(new yr(253402300799,999999999))}}]),t}(),gr=function(){function t(e,n,i){(0,p.Z)(this,t),void 0===n?n=0:n>e.length&&Ji(),void 0===i?i=e.length-n:i>e.length-n&&Ji(),this.segments=e,this.offset=n,this.len=i}return(0,y.Z)(t,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(e){return 0===t.comparator(this,e)}},{key:"child",value:function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(t){return this.segments[this.offset+t]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}},{key:"isImmediateParentOf",value:function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}},{key:"forEach",value:function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}]),t}(),br=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(){return(0,p.Z)(this,n),e.apply(this,arguments)}return(0,y.Z)(n,[{key:"construct",value:function(t,e,i){return new n(t,e,i)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var t=[],e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];for(var o=0,a=i;o<a.length;o++){var s=a[o];if(s.indexOf("//")>=0)throw new nr(er.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));t.push.apply(t,(0,d.Z)(s.split("/").filter((function(t){return t.length>0}))))}return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(gr),kr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wr=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(){return(0,p.Z)(this,n),e.apply(this,arguments)}return(0,y.Z)(n,[{key:"construct",value:function(t,e,i){return new n(t,e,i)}},{key:"canonicalString",value:function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(t){return kr.test(t)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(t){for(var e=[],i="",r=0,o=function(){if(0===i.length)throw new nr(er.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(i),i=""},a=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new nr(er.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[r+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new nr(er.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else"`"===s?(a=!a,r++):"."!==s||a?(i+=s,r++):(o(),r++)}if(o(),a)throw new nr(er.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(gr),_r=function(){function t(e){(0,p.Z)(this,t),this.path=e}return(0,y.Z)(t,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(t){return null!==t&&0===br.comparator(this.path,t.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(e){return new t(br.fromString(e))}},{key:"fromName",value:function(e){return new t(br.fromString(e).popFirst(5))}},{key:"empty",value:function(){return new t(br.emptyPath())}},{key:"comparator",value:function(t,e){return br.comparator(t.path,e.path)}},{key:"isDocumentKey",value:function(t){return t.length%2==0}},{key:"fromSegments",value:function(e){return new t(new br(e.slice()))}}]),t}(),Er=(0,y.Z)((function t(e,n,i,r){(0,p.Z)(this,t),this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}));Er.UNKNOWN_ID=-1;function xr(t,e){var n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=mr.fromTimestamp(1e9===i?new yr(n+1,0):new yr(n,i));return new Tr(r,_r.empty(),e)}function Sr(t){return new Tr(t.readTime,t.key,-1)}var Tr=function(){function t(e,n,i){(0,p.Z)(this,t),this.readTime=e,this.documentKey=n,this.largestBatchId=i}return(0,y.Z)(t,null,[{key:"min",value:function(){return new t(mr.min(),_r.empty(),-1)}},{key:"max",value:function(){return new t(mr.max(),_r.empty(),-1)}}]),t}();function Cr(t,e){var n=t.readTime.compareTo(e.readTime);return 0!==n?n:0!==(n=_r.comparator(t.documentKey,e.documentKey))?n:dr(t.largestBatchId,e.largestBatchId)}var Or="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ar=function(){function t(){(0,p.Z)(this,t),this.onCommittedListeners=[]}return(0,y.Z)(t,[{key:"addOnCommittedListener",value:function(t){this.onCommittedListeners.push(t)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(t){return t()}))}}]),t}();function Mr(t){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,h.Z)((0,c.Z)().mark((function t(e){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.code===er.FAILED_PRECONDITION&&e.message===Or){t.next=2;break}throw e;case 2:Gi("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Ir=function(){function t(e){var n=this;(0,p.Z)(this,t),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(t){n.isDone=!0,n.result=t,n.nextCallback&&n.nextCallback(t)}),(function(t){n.isDone=!0,n.error=t,n.catchCallback&&n.catchCallback(t)}))}return(0,y.Z)(t,[{key:"catch",value:function(t){return this.next(void 0,t)}},{key:"next",value:function(e,n){var i=this;return this.callbackAttached&&Ji(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,r){i.nextCallback=function(n){i.wrapSuccess(e,n).next(t,r)},i.catchCallback=function(e){i.wrapFailure(n,e).next(t,r)}}))}},{key:"toPromise",value:function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))}},{key:"wrapUserFunction",value:function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}}},{key:"wrapSuccess",value:function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)}},{key:"wrapFailure",value:function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)}}],[{key:"resolve",value:function(e){return new t((function(t,n){t(e)}))}},{key:"reject",value:function(e){return new t((function(t,n){n(e)}))}},{key:"waitFor",value:function(e){return new t((function(t,n){var i=0,r=0,o=!1;e.forEach((function(e){++i,e.next((function(){++r,o&&r===i&&t()}),(function(t){return n(t)}))})),o=!0,r===i&&t()}))}},{key:"or",value:function(e){var n,i=t.resolve(!1),r=(0,l.Z)(e);try{var o=function(){var e=n.value;i=i.next((function(n){return n?t.resolve(n):e()}))};for(r.s();!(n=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}return i}},{key:"forEach",value:function(t,e){var n=this,i=[];return t.forEach((function(t,r){i.push(e.call(n,t,r))})),this.waitFor(i)}},{key:"mapArray",value:function(e,n){return new t((function(t,i){for(var r=e.length,o=new Array(r),a=0,s=function(){var s=u;n(e[s]).next((function(e){o[s]=e,++a===r&&t(o)}),(function(t){return i(t)}))},u=0;u<r;u++)s()}))}},{key:"doWhile",value:function(e,n){return new t((function(t,i){!function r(){!0===e()?n().next((function(){r()}),i):t()}()}))}}]),t}();function Lr(t){return"IndexedDbTransactionError"===t.name}var Nr=function(){function t(e,n){var i=this;(0,p.Z)(this,t),this.previousValue=e,n&&(n.sequenceNumberHandler=function(t){return i.se(t)},this.oe=function(t){return n.writeSequenceNumber(t)})}return(0,y.Z)(t,[{key:"se",value:function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}},{key:"next",value:function(){var t=++this.previousValue;return this.oe&&this.oe(t),t}}]),t}();function Rr(t){return null==t}function Dr(t){return 0===t&&1/t==-1/0}function Pr(t){return"number"==typeof t&&Number.isInteger(t)&&!Dr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}Nr._e=-1;var Fr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Ur=([].concat((0,d.Z)(Fr),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),jr=Ur;[].concat(jr,["indexConfiguration","indexState","indexEntries"]);function Vr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Br(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var qr=function(){function t(e,n){(0,p.Z)(this,t),this.comparator=e,this.root=n||Kr.EMPTY}return(0,y.Z)(t,[{key:"insert",value:function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kr.BLACK,null,null))}},{key:"remove",value:function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}},{key:"get",value:function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}},{key:"indexOf",value:function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(t){return this.root.inorderTraversal(t)}},{key:"forEach",value:function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))}},{key:"toString",value:function(){var t=[];return this.inorderTraversal((function(e,n){return t.push("".concat(e,":").concat(n)),!1})),"{".concat(t.join(", "),"}")}},{key:"reverseTraversal",value:function(t){return this.root.reverseTraversal(t)}},{key:"getIterator",value:function(){return new Wr(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(t){return new Wr(this.root,t,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Wr(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(t){return new Wr(this.root,t,this.comparator,!0)}}]),t}(),Wr=function(){function t(e,n,i,r){(0,p.Z)(this,t),this.isReverse=r,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return(0,y.Z)(t,[{key:"getNext",value:function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}]),t}(),Kr=function(){function t(e,n,i,r,o){(0,p.Z)(this,t),this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return(0,y.Z)(t,[{key:"copy",value:function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}},{key:"reverseTraversal",value:function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}},{key:"moveRedLeft",value:function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t}},{key:"moveRedRight",value:function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t}},{key:"rotateLeft",value:function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}},{key:"rotateRight",value:function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}},{key:"colorFlip",value:function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}},{key:"checkMaxDepth",value:function(){var t=this.check();return Math.pow(2,t)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ji();if(this.right.isRed())throw Ji();var t=this.left.check();if(t!==this.right.check())throw Ji();return t+(this.isRed()?0:1)}}]),t}();Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new(function(){function t(){(0,p.Z)(this,t),this.size=0}return(0,y.Z)(t,[{key:"key",get:function(){throw Ji()}},{key:"value",get:function(){throw Ji()}},{key:"color",get:function(){throw Ji()}},{key:"left",get:function(){throw Ji()}},{key:"right",get:function(){throw Ji()}},{key:"copy",value:function(t,e,n,i,r){return this}},{key:"insert",value:function(t,e,n){return new Kr(t,e)}},{key:"remove",value:function(t,e){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(t){return!1}},{key:"reverseTraversal",value:function(t){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),t}());var Hr=function(){function t(e){(0,p.Z)(this,t),this.comparator=e,this.data=new qr(this.comparator)}return(0,y.Z)(t,[{key:"has",value:function(t){return null!==this.data.get(t)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(t){return this.data.indexOf(t)}},{key:"forEach",value:function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))}},{key:"forEachInRange",value:function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}},{key:"forEachWhile",value:function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}},{key:"getIterator",value:function(){return new Gr(this.data.getIterator())}},{key:"getIteratorFrom",value:function(t){return new Gr(this.data.getIteratorFrom(t))}},{key:"add",value:function(t){return this.copy(this.data.remove(t).insert(t,!0))}},{key:"delete",value:function(t){return this.has(t)?this.copy(this.data.remove(t)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e}},{key:"isEqual",value:function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}},{key:"toArray",value:function(){var t=[];return this.forEach((function(e){t.push(e)})),t}},{key:"toString",value:function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"}},{key:"copy",value:function(e){var n=new t(this.comparator);return n.data=e,n}}]),t}(),Gr=function(){function t(e){(0,p.Z)(this,t),this.iter=e}return(0,y.Z)(t,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),t}();var Qr=function(){function t(e){(0,p.Z)(this,t),this.fields=e,e.sort(wr.comparator)}return(0,y.Z)(t,[{key:"unionWith",value:function(e){var n,i=new Hr(wr.comparator),r=(0,l.Z)(this.fields);try{for(r.s();!(n=r.n()).done;){var o=n.value;i=i.add(o)}}catch(c){r.e(c)}finally{r.f()}var a,s=(0,l.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;i=i.add(u)}}catch(c){s.e(c)}finally{s.f()}return new t(i.toArray())}},{key:"covers",value:function(t){var e,n=(0,l.Z)(this.fields);try{for(n.s();!(e=n.n()).done;){if(e.value.isPrefixOf(t))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"isEqual",value:function(t){return pr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))}}],[{key:"empty",value:function(){return new t([])}}]),t}(),Yr=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(){var t;return(0,p.Z)(this,n),(t=e.apply(this,arguments)).name="Base64DecodeError",t}return(0,y.Z)(n)}((0,u.Z)(Error));var Xr=function(t){function e(t){(0,p.Z)(this,e),this.binaryString=t}return(0,y.Z)(e,[{key:t,value:function(){var t=this,e=0;return{next:function(){return e<t.binaryString.length?{value:t.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return t=this.binaryString,btoa(t);var t}},{key:"toUint8Array",value:function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(t){return dr(this.binaryString,t.binaryString)}},{key:"isEqual",value:function(t){return this.binaryString===t.binaryString}}],[{key:"fromBase64String",value:function(t){var n=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Yr("Invalid base64 string: "+t):t}}(t);return new e(n)}},{key:"fromUint8Array",value:function(t){var n=function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new e(n)}}]),e}(Symbol.iterator);Xr.EMPTY_BYTE_STRING=new Xr("");var Jr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(t){if($i(!!t),"string"==typeof t){var e=0,n=Jr.exec(t);if($i(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:to(t.seconds),nanos:to(t.nanos)}}function to(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function eo(t){return"string"==typeof t?Xr.fromBase64String(t):Xr.fromUint8Array(t)}function no(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function io(t){var e=t.mapValue.fields.__previous_value__;return no(e)?io(e):e}function ro(t){var e=$r(t.mapValue.fields.__local_write_time__.timestampValue);return new yr(e.seconds,e.nanos)}var oo=(0,y.Z)((function t(e,n,i,r,o,a,s,u,l){(0,p.Z)(this,t),this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=l})),ao=function(){function t(e,n){(0,p.Z)(this,t),this.projectId=e,this.database=n||"(default)"}return(0,y.Z)(t,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}}],[{key:"empty",value:function(){return new t("","")}}]),t}(),so={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?no(t)?4:Eo(t)?9007199254740991:10:Ji()}function lo(t,e){if(t===e)return!0;var n=uo(t);if(n!==uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ro(t).isEqual(ro(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=$r(t.timestampValue),i=$r(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return eo(t.bytesValue).isEqual(eo(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return to(t.geoPointValue.latitude)===to(e.geoPointValue.latitude)&&to(t.geoPointValue.longitude)===to(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return to(t.integerValue)===to(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=to(t.doubleValue),i=to(e.doubleValue);return n===i?Dr(n)===Dr(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return pr(t.arrayValue.values||[],e.arrayValue.values||[],lo);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Vr(n)!==Vr(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!lo(n[r],i[r])))return!1;return!0}(t,e);default:return Ji()}}function co(t,e){return void 0!==(t.values||[]).find((function(t){return lo(t,e)}))}function ho(t,e){if(t===e)return 0;var n=uo(t),i=uo(e);if(n!==i)return dr(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return dr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=to(t.integerValue||t.doubleValue),i=to(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return fo(t.timestampValue,e.timestampValue);case 4:return fo(ro(t),ro(e));case 5:return dr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=eo(t),i=eo(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var o=dr(n[r],i[r]);if(0!==o)return o}return dr(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=dr(to(t.latitude),to(e.latitude));return 0!==n?n:dr(to(t.longitude),to(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var o=ho(n[r],i[r]);if(o)return o}return dr(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===so.mapValue&&e===so.mapValue)return 0;if(t===so.mapValue)return 1;if(e===so.mapValue)return-1;var n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(var a=0;a<i.length&&a<o.length;++a){var s=dr(i[a],o[a]);if(0!==s)return s;var u=ho(n[i[a]],r[o[a]]);if(0!==u)return u}return dr(i.length,o.length)}(t.mapValue,e.mapValue);default:throw Ji()}}function fo(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return dr(t,e);var n=$r(t),i=$r(e),r=dr(n.seconds,i.seconds);return 0!==r?r:dr(n.nanos,i.nanos)}function vo(t){return po(t)}function po(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=$r(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return eo(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return _r.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return"geo(".concat(t.latitude,",").concat(t.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(t){var e,n="[",i=!0,r=(0,l.Z)(t.values||[]);try{for(r.s();!(e=r.n()).done;){var o=e.value;i?i=!1:n+=",",n+=po(o)}}catch(a){r.e(a)}finally{r.f()}return n+"]"}(t.arrayValue):"mapValue"in t?function(t){var e,n=Object.keys(t.fields||{}).sort(),i="{",r=!0,o=(0,l.Z)(n);try{for(o.s();!(e=o.n()).done;){var a=e.value;r?r=!1:i+=",",i+="".concat(a,":").concat(po(t.fields[a]))}}catch(s){o.e(s)}finally{o.f()}return i+"}"}(t.mapValue):Ji()}function yo(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function mo(t){return!!t&&"integerValue"in t}function go(t){return!!t&&"arrayValue"in t}function bo(t){return!!t&&"nullValue"in t}function ko(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wo(t){return!!t&&"mapValue"in t}function _o(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Br(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=_o(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=_o(t.arrayValue.values[i]);return n}return Object.assign({},t)}function Eo(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}var xo=function(){function t(e){(0,p.Z)(this,t),this.value=e}return(0,y.Z)(t,[{key:"field",value:function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!wo(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null}},{key:"set",value:function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=_o(e)}},{key:"setAll",value:function(t){var e=this,n=wr.emptyPath(),i={},r=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,i,r),i={},r=[],n=o.popLast()}t?i[o.lastSegment()]=_o(t):r.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,i,r)}},{key:"delete",value:function(t){var e=this.field(t.popLast());wo(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}},{key:"isEqual",value:function(t){return lo(this.value,t.value)}},{key:"getFieldsMap",value:function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var i=e.mapValue.fields[t.get(n)];wo(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}},{key:"applyChanges",value:function(t,e,n){Br(e,(function(e,n){return t[e]=n}));var i,r=(0,l.Z)(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;delete t[o]}}catch(a){r.e(a)}finally{r.f()}}},{key:"clone",value:function(){return new t(_o(this.value))}}],[{key:"empty",value:function(){return new t({mapValue:{}})}}]),t}();function So(t){var e=[];return Br(t.fields,(function(t,n){var i=new wr([t]);if(wo(n)){var r=So(n.mapValue).fields;if(0===r.length)e.push(i);else{var o,a=(0,l.Z)(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;e.push(i.child(s))}}catch(u){a.e(u)}finally{a.f()}}}else e.push(i)})),new Qr(e)}var To=function(){function t(e,n,i,r,o,a,s){(0,p.Z)(this,t),this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=s}return(0,y.Z)(t,[{key:"convertToFoundDocument",value:function(t,e){return!this.createTime.isEqual(mr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}},{key:"convertToNoDocument",value:function(t){return this.version=t,this.documentType=2,this.data=xo.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(t){return this.version=t,this.documentType=3,this.data=xo.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=mr.min(),this}},{key:"setReadTime",value:function(t){return this.readTime=t,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}},{key:"mutableCopy",value:function(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(e){return new t(e,0,mr.min(),mr.min(),mr.min(),xo.empty(),0)}},{key:"newFoundDocument",value:function(e,n,i,r){return new t(e,1,n,mr.min(),i,r,0)}},{key:"newNoDocument",value:function(e,n){return new t(e,2,n,mr.min(),mr.min(),xo.empty(),0)}},{key:"newUnknownDocument",value:function(e,n){return new t(e,3,n,mr.min(),mr.min(),xo.empty(),2)}}]),t}(),Co=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.position=e,this.inclusive=n}));function Oo(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var o=e[r],a=t.position[r];if(i=o.field.isKeyField()?_r.comparator(_r.fromName(a.referenceValue),n.key):ho(a,n.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Ao(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!lo(t.position[n],e.position[n]))return!1;return!0}var Mo=(0,y.Z)((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,p.Z)(this,t),this.field=e,this.dir=n}));function Zo(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Io=(0,y.Z)((function t(){(0,p.Z)(this,t)})),Lo=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i,r){var o;return(0,p.Z)(this,n),(o=e.call(this)).field=t,o.op=i,o.value=r,o}return(0,y.Z)(n,[{key:"matches",value:function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ho(e,this.value)):null!==e&&uo(this.value)===uo(e)&&this.matchesComparison(ho(e,this.value))}},{key:"matchesComparison",value:function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ji()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Vo(t,e,i):"array-contains"===e?new Wo(t,i):"in"===e?new Ko(t,i):"not-in"===e?new Ho(t,i):"array-contains-any"===e?new Go(t,i):new n(t,e,i)}},{key:"createKeyFieldInFilter",value:function(t,e,n){return"in"===e?new Bo(t,n):new zo(t,n)}}]),n}(Io),No=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this)).filters=t,r.op=i,r.ue=null,r}return(0,y.Z)(n,[{key:"matches",value:function(t){return Ro(this)?void 0===this.filters.find((function(e){return!e.matches(t)})):void 0!==this.filters.find((function(e){return e.matches(t)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(t,e){return t.concat(e.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(t,e){return new n(t,e)}}]),n}(Io);function Ro(t){return"and"===t.op}function Do(t){return Po(t)&&Ro(t)}function Po(t){var e,n=(0,l.Z)(t.filters);try{for(n.s();!(e=n.n()).done;){if(e.value instanceof No)return!1}}catch(i){n.e(i)}finally{n.f()}return!0}function Fo(t){if(t instanceof Lo)return t.field.canonicalString()+t.op.toString()+vo(t.value);if(Do(t))return t.filters.map((function(t){return Fo(t)})).join(",");var e=t.filters.map((function(t){return Fo(t)})).join(",");return"".concat(t.op,"(").concat(e,")")}function Uo(t,e){return t instanceof Lo?function(t,e){return e instanceof Lo&&t.op===e.op&&t.field.isEqual(e.field)&&lo(t.value,e.value)}(t,e):t instanceof No?function(t,e){return e instanceof No&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce((function(t,n,i){return t&&Uo(n,e.filters[i])}),!0)}(t,e):void Ji()}function jo(t){return t instanceof Lo?function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(vo(t.value))}(t):t instanceof No?function(t){return t.op.toString()+" {"+t.getFilters().map(jo).join(" ,")+"}"}(t):"Filter"}var Vo=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i,r){var o;return(0,p.Z)(this,n),(o=e.call(this,t,i,r)).key=_r.fromName(r.referenceValue),o}return(0,y.Z)(n,[{key:"matches",value:function(t){var e=_r.comparator(t.key,this.key);return this.matchesComparison(e)}}]),n}(Lo),Bo=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this,t,"in",i)).keys=qo("in",i),r}return(0,y.Z)(n,[{key:"matches",value:function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))}}]),n}(Lo),zo=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this,t,"not-in",i)).keys=qo("not-in",i),r}return(0,y.Z)(n,[{key:"matches",value:function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))}}]),n}(Lo);function qo(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return _r.fromName(t.referenceValue)}))}var Wo=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i){return(0,p.Z)(this,n),e.call(this,t,"array-contains",i)}return(0,y.Z)(n,[{key:"matches",value:function(t){var e=t.data.field(this.field);return go(e)&&co(e.arrayValue,this.value)}}]),n}(Lo),Ko=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i){return(0,p.Z)(this,n),e.call(this,t,"in",i)}return(0,y.Z)(n,[{key:"matches",value:function(t){var e=t.data.field(this.field);return null!==e&&co(this.value.arrayValue,e)}}]),n}(Lo),Ho=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i){return(0,p.Z)(this,n),e.call(this,t,"not-in",i)}return(0,y.Z)(n,[{key:"matches",value:function(t){if(co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!co(this.value.arrayValue,e)}}]),n}(Lo),Go=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i){return(0,p.Z)(this,n),e.call(this,t,"array-contains-any",i)}return(0,y.Z)(n,[{key:"matches",value:function(t){var e=this,n=t.data.field(this.field);return!(!go(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return co(e.value.arrayValue,t)}))}}]),n}(Lo),Qo=(0,y.Z)((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,p.Z)(this,t),this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=s,this.ce=null}));function Yo(t){return new Qo(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Xo(t){var e=tr(t);if(null===e.ce){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return Fo(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Rr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((function(t){return vo(t)})).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((function(t){return vo(t)})).join(",")),e.ce=n}return e.ce}function Jo(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Zo(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(!Uo(t.filters[i],e.filters[i]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ao(t.startAt,e.startAt)&&Ao(t.endAt,e.endAt)}function $o(t){return _r.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ta=(0,y.Z)((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,p.Z)(this,t),this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function ea(t,e,n,i,r,o,a,s){return new ta(t,e,n,i,r,o,a,s)}function na(t){return new ta(t)}function ia(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ra(t){return null!==t.collectionGroup}function oa(t){var e=tr(t);if(null===e.le){e.le=[];var n,i=new Set,r=(0,l.Z)(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.le.push(o),i.add(o.field.canonicalString())}}catch(u){r.e(u)}finally{r.f()}var a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",s=function(t){var e=new Hr(wr.comparator);return t.filters.forEach((function(t){t.getFlattenedFilters().forEach((function(t){t.isInequality()&&(e=e.add(t.field))}))})),e}(e);s.forEach((function(t){i.has(t.canonicalString())||t.isKeyField()||e.le.push(new Mo(t,a))})),i.has(wr.keyField().canonicalString())||e.le.push(new Mo(wr.keyField(),a))}return e.le}function aa(t){var e=tr(t);return e.he||(e.he=sa(e,oa(t))),e.he}function sa(t,e){if("F"===t.limitType)return Yo(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);e=e.map((function(t){var e="desc"===t.dir?"asc":"desc";return new Mo(t.field,e)}));var n=t.endAt?new Co(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Co(t.startAt.position,t.startAt.inclusive):null;return Yo(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}function ua(t,e){var n=t.filters.concat([e]);return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function la(t,e,n){return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ca(t,e){return Jo(aa(t),aa(e))&&t.limitType===e.limitType}function ha(t){return"".concat(Xo(aa(t)),"|lt:").concat(t.limitType)}function fa(t){return"Query(target=".concat(function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map((function(t){return jo(t)})).join(", "),"]")),Rr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map((function(t){return function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t)})).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((function(t){return vo(t)})).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((function(t){return vo(t)})).join(",")),"Target(".concat(e,")")}(aa(t)),"; limitType=").concat(t.limitType,")")}function va(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):_r.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){var n,i=(0,l.Z)(oa(t));try{for(i.s();!(n=i.n()).done;){var r=n.value;if(!r.field.isKeyField()&&null===e.data.field(r.field))return!1}}catch(o){i.e(o)}finally{i.f()}return!0}(t,e)&&function(t,e){var n,i=(0,l.Z)(t.filters);try{for(i.s();!(n=i.n()).done;){if(!n.value.matches(e))return!1}}catch(r){i.e(r)}finally{i.f()}return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){var i=Oo(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,oa(t),e))&&!(t.endAt&&!function(t,e,n){var i=Oo(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,oa(t),e))}(t,e)}function da(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pa(t){return function(e,n){var i,r=!1,o=(0,l.Z)(oa(t));try{for(o.s();!(i=o.n()).done;){var a=i.value,s=ya(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}}catch(u){o.e(u)}finally{o.f()}return 0}}function ya(t,e,n){var i=t.field.isKeyField()?_r.comparator(e.key,n.key):function(t,e,n){var i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?ho(i,r):Ji()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ji()}}var ma=function(){function t(e,n){(0,p.Z)(this,t),this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,y.Z)(t,[{key:"get",value:function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n){var i,r=(0,l.Z)(n);try{for(r.s();!(i=r.n()).done;){var o=(0,s.Z)(i.value,2),a=o[0],u=o[1];if(this.equalsFn(a,t))return u}}catch(c){r.e(c)}finally{r.f()}}}},{key:"has",value:function(t){return void 0!==this.get(t)}},{key:"set",value:function(t,e){var n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(var r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e]),this.innerSize++}},{key:"delete",value:function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(t){Br(this.inner,(function(e,n){var i,r=(0,l.Z)(n);try{for(r.s();!(i=r.n()).done;){var o=(0,s.Z)(i.value,2),a=o[0],u=o[1];t(a,u)}}catch(c){r.e(c)}finally{r.f()}}))}},{key:"isEmpty",value:function(){return zr(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),t}(),ga=new qr(_r.comparator);function ba(){return ga}var ka=new qr(_r.comparator);function wa(){for(var t=ka,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];t=t.insert(a.key,a)}return t}function _a(t){var e=ka;return t.forEach((function(t,n){return e=e.insert(t,n.overlayedDocument)})),e}function Ea(){return Sa()}function xa(){return Sa()}function Sa(){return new ma((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)}))}var Ta=new qr(_r.comparator),Ca=new Hr(_r.comparator);function Oa(){for(var t=Ca,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];t=t.add(a)}return t}var Aa=new Hr(dr);function Ma(){return Aa}function Za(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dr(e)?"-0":e}}function Ia(t){return{integerValue:""+t}}function La(t,e){return Pr(e)?Ia(e):Za(t,e)}var Na=(0,y.Z)((function t(){(0,p.Z)(this,t),this._=void 0}));function Ra(t,e,n){return t instanceof Fa?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&no(e)&&(e=io(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ua?ja(t,e):t instanceof Va?Ba(t,e):function(t,e){var n=Pa(t,e),i=qa(n)+qa(t.Ie);return mo(n)&&mo(t.Ie)?Ia(i):Za(t.serializer,i)}(t,e)}function Da(t,e,n){return t instanceof Ua?ja(t,e):t instanceof Va?Ba(t,e):n}function Pa(t,e){return t instanceof za?function(t){return mo(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}var Fa=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(){return(0,p.Z)(this,n),e.apply(this,arguments)}return(0,y.Z)(n)}(Na),Ua=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t){var i;return(0,p.Z)(this,n),(i=e.call(this)).elements=t,i}return(0,y.Z)(n)}(Na);function ja(t,e){var n,i=Wa(e),r=(0,l.Z)(t.elements);try{var o=function(){var t=n.value;i.some((function(e){return lo(e,t)}))||i.push(t)};for(r.s();!(n=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}return{arrayValue:{values:i}}}var Va=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t){var i;return(0,p.Z)(this,n),(i=e.call(this)).elements=t,i}return(0,y.Z)(n)}(Na);function Ba(t,e){var n,i=Wa(e),r=(0,l.Z)(t.elements);try{var o=function(){var t=n.value;i=i.filter((function(e){return!lo(e,t)}))};for(r.s();!(n=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}return{arrayValue:{values:i}}}var za=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this)).serializer=t,r.Ie=i,r}return(0,y.Z)(n)}(Na);function qa(t){return to(t.integerValue||t.doubleValue)}function Wa(t){return go(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ka=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.field=e,this.transform=n}));var Ha=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.version=e,this.transformResults=n})),Ga=function(){function t(e,n){(0,p.Z)(this,t),this.updateTime=e,this.exists=n}return(0,y.Z)(t,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}],[{key:"none",value:function(){return new t}},{key:"exists",value:function(e){return new t(void 0,e)}},{key:"updateTime",value:function(e){return new t(e)}}]),t}();function Qa(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ya=(0,y.Z)((function t(){(0,p.Z)(this,t)}));function Xa(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ls(t.key,Ga.none()):new ns(t.key,t.data,Ga.none());var n,i=t.data,r=xo.empty(),o=new Hr(wr.comparator),a=(0,l.Z)(e.fields);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(!o.has(s)){var u=i.field(s);null===u&&s.length>1&&(s=s.popLast(),u=i.field(s)),null===u?r.delete(s):r.set(s,u),o=o.add(s)}}}catch(c){a.e(c)}finally{a.f()}return new is(t.key,r,new Qr(o.toArray()),Ga.none())}function Ja(t,e,n){t instanceof ns?function(t,e,n){var i=t.value.clone(),r=os(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof is?function(t,e,n){if(Qa(t.precondition,e)){var i=os(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(rs(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function $a(t,e,n,i){return t instanceof ns?function(t,e,n,i){if(!Qa(t.precondition,e))return n;var r=t.value.clone(),o=as(t.fieldTransforms,i,e);return r.setAll(o),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof is?function(t,e,n,i){if(!Qa(t.precondition,e))return n;var r=as(t.fieldTransforms,i,e),o=e.data;return o.setAll(rs(t)),o.setAll(r),e.convertToFoundDocument(e.version,o).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((function(t){return t.field})))}(t,e,n,i):function(t,e,n){return Qa(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function ts(t,e){var n,i=null,r=(0,l.Z)(t.fieldTransforms);try{for(r.s();!(n=r.n()).done;){var o=n.value,a=e.data.field(o.field),s=Pa(o.transform,a||null);null!=s&&(null===i&&(i=xo.empty()),i.set(o.field,s))}}catch(u){r.e(u)}finally{r.f()}return i||null}function es(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&pr(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ua&&e instanceof Ua||t instanceof Va&&e instanceof Va?pr(t.elements,e.elements,lo):t instanceof za&&e instanceof za?lo(t.Ie,e.Ie):t instanceof Fa&&e instanceof Fa}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ns=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i,r){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,p.Z)(this,n),(o=e.call(this)).key=t,o.value=i,o.precondition=r,o.fieldTransforms=a,o.type=0,o}return(0,y.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ya),is=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i,r,o){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,p.Z)(this,n),(a=e.call(this)).key=t,a.data=i,a.fieldMask=r,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return(0,y.Z)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Ya);function rs(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}})),e}function os(t,e,n){var i=new Map;$i(t.length===n.length);for(var r=0;r<n.length;r++){var o=t[r],a=o.transform,s=e.data.field(o.field);i.set(o.field,Da(a,s,n[r]))}return i}function as(t,e,n){var i,r=new Map,o=(0,l.Z)(t);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.transform,u=n.data.field(a.field);r.set(a.field,Ra(s,u,e))}}catch(c){o.e(c)}finally{o.f()}return r}var ss,us,ls=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this)).key=t,r.precondition=i,r.type=2,r.fieldTransforms=[],r}return(0,y.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ya),cs=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this)).key=t,r.precondition=i,r.type=3,r.fieldTransforms=[],r}return(0,y.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ya),hs=function(){function t(e,n,i,r){(0,p.Z)(this,t),this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}return(0,y.Z)(t,[{key:"applyToRemoteDocument",value:function(t,e){for(var n=e.mutationResults,i=0;i<this.mutations.length;i++){var r=this.mutations[i];r.key.isEqual(t.key)&&Ja(r,t,n[i])}}},{key:"applyToLocalView",value:function(t,e){var n,i=(0,l.Z)(this.baseMutations);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.key.isEqual(t.key)&&(e=$a(r,t,e,this.localWriteTime))}}catch(u){i.e(u)}finally{i.f()}var o,a=(0,l.Z)(this.mutations);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.key.isEqual(t.key)&&(e=$a(s,t,e,this.localWriteTime))}}catch(u){a.e(u)}finally{a.f()}return e}},{key:"applyToLocalDocumentSet",value:function(t,e){var n=this,i=xa();return this.mutations.forEach((function(r){var o=t.get(r.key),a=o.overlayedDocument,s=n.applyToLocalView(a,o.mutatedFields),u=Xa(a,s=e.has(r.key)?null:s);null!==u&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(mr.min())})),i}},{key:"keys",value:function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Oa())}},{key:"isEqual",value:function(t){return this.batchId===t.batchId&&pr(this.mutations,t.mutations,(function(t,e){return es(t,e)}))&&pr(this.baseMutations,t.baseMutations,(function(t,e){return es(t,e)}))}}]),t}(),fs=function(){function t(e,n,i,r){(0,p.Z)(this,t),this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}return(0,y.Z)(t,null,[{key:"from",value:function(e,n,i){$i(e.mutations.length===i.length);for(var r=Ta,o=e.mutations,a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new t(e,n,i,r)}}]),t}(),vs=function(){function t(e,n){(0,p.Z)(this,t),this.largestBatchId=e,this.mutation=n}return(0,y.Z)(t,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(t){return null!==t&&this.mutation===t.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),t}(),ds=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.count=e,this.unchangedNames=n}));function ps(t){switch(t){default:return Ji();case er.CANCELLED:case er.UNKNOWN:case er.DEADLINE_EXCEEDED:case er.RESOURCE_EXHAUSTED:case er.INTERNAL:case er.UNAVAILABLE:case er.UNAUTHENTICATED:return!1;case er.INVALID_ARGUMENT:case er.NOT_FOUND:case er.ALREADY_EXISTS:case er.PERMISSION_DENIED:case er.FAILED_PRECONDITION:case er.ABORTED:case er.OUT_OF_RANGE:case er.UNIMPLEMENTED:case er.DATA_LOSS:return!0}}function ys(t){if(void 0===t)return Qi("GRPC error has no .code"),er.UNKNOWN;switch(t){case ss.OK:return er.OK;case ss.CANCELLED:return er.CANCELLED;case ss.UNKNOWN:return er.UNKNOWN;case ss.DEADLINE_EXCEEDED:return er.DEADLINE_EXCEEDED;case ss.RESOURCE_EXHAUSTED:return er.RESOURCE_EXHAUSTED;case ss.INTERNAL:return er.INTERNAL;case ss.UNAVAILABLE:return er.UNAVAILABLE;case ss.UNAUTHENTICATED:return er.UNAUTHENTICATED;case ss.INVALID_ARGUMENT:return er.INVALID_ARGUMENT;case ss.NOT_FOUND:return er.NOT_FOUND;case ss.ALREADY_EXISTS:return er.ALREADY_EXISTS;case ss.PERMISSION_DENIED:return er.PERMISSION_DENIED;case ss.FAILED_PRECONDITION:return er.FAILED_PRECONDITION;case ss.ABORTED:return er.ABORTED;case ss.OUT_OF_RANGE:return er.OUT_OF_RANGE;case ss.UNIMPLEMENTED:return er.UNIMPLEMENTED;case ss.DATA_LOSS:return er.DATA_LOSS;default:return Ji()}}(us=ss||(ss={}))[us.OK=0]="OK",us[us.CANCELLED=1]="CANCELLED",us[us.UNKNOWN=2]="UNKNOWN",us[us.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",us[us.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",us[us.NOT_FOUND=5]="NOT_FOUND",us[us.ALREADY_EXISTS=6]="ALREADY_EXISTS",us[us.PERMISSION_DENIED=7]="PERMISSION_DENIED",us[us.UNAUTHENTICATED=16]="UNAUTHENTICATED",us[us.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",us[us.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",us[us.ABORTED=10]="ABORTED",us[us.OUT_OF_RANGE=11]="OUT_OF_RANGE",us[us.UNIMPLEMENTED=12]="UNIMPLEMENTED",us[us.INTERNAL=13]="INTERNAL",us[us.UNAVAILABLE=14]="UNAVAILABLE",us[us.DATA_LOSS=15]="DATA_LOSS";var ms=null;function gs(){return new TextEncoder}var bs=new Bi([4294967295,4294967295],0);function ks(t){var e=gs().encode(t),n=new Vi;return n.update(e),new Uint8Array(n.digest())}function ws(t){var e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Bi([n,i],0),new Bi([r,o],0)]}var _s=function(){function t(e,n,i){if((0,p.Z)(this,t),this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Es("Invalid padding: ".concat(n));if(i<0)throw new Es("Invalid hash count: ".concat(i));if(e.length>0&&0===this.hashCount)throw new Es("Invalid hash count: ".concat(i));if(0===e.length&&0!==n)throw new Es("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*e.length-n,this.Ee=Bi.fromNumber(this.Te)}return(0,y.Z)(t,[{key:"de",value:function(t,e,n){var i=t.add(e.multiply(Bi.fromNumber(n)));return 1===i.compare(bs)&&(i=new Bi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}},{key:"Ae",value:function(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}},{key:"mightContain",value:function(t){if(0===this.Te)return!1;for(var e=ws(ks(t)),n=(0,s.Z)(e,2),i=n[0],r=n[1],o=0;o<this.hashCount;o++){var a=this.de(i,r,o);if(!this.Ae(a))return!1}return!0}},{key:"insert",value:function(t){if(0!==this.Te)for(var e=ws(ks(t)),n=(0,s.Z)(e,2),i=n[0],r=n[1],o=0;o<this.hashCount;o++){var a=this.de(i,r,o);this.Re(a)}}},{key:"Re",value:function(t){var e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}],[{key:"create",value:function(e,n,i){var r=e%8==0?0:8-e%8,o=new t(new Uint8Array(Math.ceil(e/8)),r,n);return i.forEach((function(t){return o.insert(t)})),o}}]),t}(),Es=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(){var t;return(0,p.Z)(this,n),(t=e.apply(this,arguments)).name="BloomFilterError",t}return(0,y.Z)(n)}((0,u.Z)(Error)),xs=function(){function t(e,n,i,r,o){(0,p.Z)(this,t),this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}return(0,y.Z)(t,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(e,n,i){var r=new Map;return r.set(e,Ss.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(mr.min(),r,new qr(dr),ba(),Oa())}}]),t}(),Ss=function(){function t(e,n,i,r,o){(0,p.Z)(this,t),this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}return(0,y.Z)(t,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(e,n,i){return new t(i,n,Oa(),Oa(),Oa())}}]),t}(),Ts=(0,y.Z)((function t(e,n,i,r){(0,p.Z)(this,t),this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r})),Cs=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.targetId=e,this.fe=n})),Os=(0,y.Z)((function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xr.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,p.Z)(this,t),this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r})),As=function(){function t(){(0,p.Z)(this,t),this.ge=0,this.pe=Is(),this.ye=Xr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}return(0,y.Z)(t,[{key:"current",get:function(){return this.we}},{key:"resumeToken",get:function(){return this.ye}},{key:"be",get:function(){return 0!==this.ge}},{key:"De",get:function(){return this.Se}},{key:"Ce",value:function(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}},{key:"ve",value:function(){var t=Oa(),e=Oa(),n=Oa();return this.pe.forEach((function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Ji()}})),new Ss(this.ye,this.we,t,e,n)}},{key:"Fe",value:function(){this.Se=!1,this.pe=Is()}},{key:"Me",value:function(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}},{key:"xe",value:function(t){this.Se=!0,this.pe=this.pe.remove(t)}},{key:"Oe",value:function(){this.ge+=1}},{key:"Ne",value:function(){this.ge-=1}},{key:"Be",value:function(){this.Se=!0,this.we=!0}}]),t}(),Ms=function(){function t(e){(0,p.Z)(this,t),this.Le=e,this.ke=new Map,this.qe=ba(),this.Qe=Zs(),this.Ke=new qr(dr)}return(0,y.Z)(t,[{key:"$e",value:function(t){var e,n=(0,l.Z)(t.Ve);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.me&&t.me.isFoundDocument()?this.Ue(i,t.me):this.We(i,t.key,t.me)}}catch(s){n.e(s)}finally{n.f()}var r,o=(0,l.Z)(t.removedTargetIds);try{for(o.s();!(r=o.n()).done;){var a=r.value;this.We(a,t.key,t.me)}}catch(s){o.e(s)}finally{o.f()}}},{key:"Ge",value:function(t){var e=this;this.forEachTarget(t,(function(n){var i=e.ze(n);switch(t.state){case 0:e.je(n)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||e.removeTarget(n);break;case 3:e.je(n)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:e.je(n)&&(e.He(n),i.Ce(t.resumeToken));break;default:Ji()}}))}},{key:"forEachTarget",value:function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((function(t,i){n.je(i)&&e(i)}))}},{key:"Je",value:function(t){var e=t.targetId,n=t.fe.count,i=this.Ye(e);if(i){var r=i.target;if($o(r))if(0===n){var o=new _r(r.path);this.We(e,o,To.newNoDocument(o,mr.min()))}else $i(1===n);else{var a=this.Ze(e);if(a!==n){var s=this.Xe(t),u=s?this.et(s,t,a):1;if(0!==u){this.He(e);var l=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,l)}null==ms||ms.tt(function(t,e,n,i,r){var o,a,s,u,l,c,h={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},f=e.unchangedNames;return f&&(h.bloomFilter={applied:0===r,hashCount:null!==(o=null==f?void 0:f.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(u=null===(s=null===(a=null==f?void 0:f.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(c=null===(l=null==f?void 0:f.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:function(t){var e;return null!==(e=null==i?void 0:i.mightContain(t))&&void 0!==e&&e}}),h}(a,t.fe,this.Le.nt(),s,u))}}}}},{key:"Xe",value:function(t){var e=t.fe.unchangedNames;if(!e||!e.bits)return null;var n,i,r=e.bits,o=r.bitmap,a=void 0===o?"":o,s=r.padding,u=void 0===s?0:s,l=e.hashCount,c=void 0===l?0:l;try{n=eo(a).toUint8Array()}catch(t){if(t instanceof Yr)return Yi("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{i=new _s(n,u,c)}catch(t){return Yi(t instanceof Es?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===i.Te?null:i}},{key:"et",value:function(t,e,n){return e.fe.count===n-this.rt(t,e.targetId)?0:2}},{key:"rt",value:function(t,e){var n=this,i=this.Le.getRemoteKeysForTarget(e),r=0;return i.forEach((function(i){var o=n.Le.nt(),a="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(i.path.canonicalString());t.mightContain(a)||(n.We(e,i,null),r++)})),r}},{key:"it",value:function(t){var e=this,n=new Map;this.ke.forEach((function(i,r){var o=e.Ye(r);if(o){if(i.current&&$o(o.target)){var a=new _r(o.target.path);null!==e.qe.get(a)||e.st(r,a)||e.We(r,a,To.newNoDocument(a,t))}i.De&&(n.set(r,i.ve()),i.Fe())}}));var i=Oa();this.Qe.forEach((function(t,n){var r=!0;n.forEachWhile((function(t){var n=e.Ye(t);return!n||"TargetPurposeLimboResolution"===n.purpose||(r=!1,!1)})),r&&(i=i.add(t))})),this.qe.forEach((function(e,n){return n.setReadTime(t)}));var r=new xs(t,n,this.Ke,this.qe,i);return this.qe=ba(),this.Qe=Zs(),this.Ke=new qr(dr),r}},{key:"Ue",value:function(t,e){if(this.je(t)){var n=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,n),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}}},{key:"We",value:function(t,e,n){if(this.je(t)){var i=this.ze(t);this.st(t,e)?i.Me(e,1):i.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),n&&(this.qe=this.qe.insert(e,n))}}},{key:"removeTarget",value:function(t){this.ke.delete(t)}},{key:"Ze",value:function(t){var e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}},{key:"Oe",value:function(t){this.ze(t).Oe()}},{key:"ze",value:function(t){var e=this.ke.get(t);return e||(e=new As,this.ke.set(t,e)),e}},{key:"ot",value:function(t){var e=this.Qe.get(t);return e||(e=new Hr(dr),this.Qe=this.Qe.insert(t,e)),e}},{key:"je",value:function(t){var e=null!==this.Ye(t);return e||Gi("WatchChangeAggregator","Detected inactive target",t),e}},{key:"Ye",value:function(t){var e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}},{key:"He",value:function(t){var e=this;this.ke.set(t,new As),this.Le.getRemoteKeysForTarget(t).forEach((function(n){e.We(t,n,null)}))}},{key:"st",value:function(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}]),t}();function Zs(){return new qr(_r.comparator)}function Is(){return new qr(_r.comparator)}var Ls={asc:"ASCENDING",desc:"DESCENDING"},Ns={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rs={and:"AND",or:"OR"},Ds=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.databaseId=e,this.useProto3Json=n}));function Ps(t,e){return t.useProto3Json||Rr(e)?e:{value:e}}function Fs(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function Us(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function js(t,e){return Fs(t,e.toTimestamp())}function Vs(t){return $i(!!t),mr.fromTimestamp(function(t){var e=$r(t);return new yr(e.seconds,e.nanos)}(t))}function Bs(t,e){return function(t){return new br(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function zs(t){var e=br.fromString(t);return $i(lu(e)),e}function qs(t,e){return Bs(t.databaseId,e.path)}function Ws(t,e){var n=zs(e);if(n.get(1)!==t.databaseId.projectId)throw new nr(er.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new nr(er.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _r(Qs(n))}function Ks(t,e){return Bs(t.databaseId,e)}function Hs(t){var e=zs(t);return 4===e.length?br.emptyPath():Qs(e)}function Gs(t){return new br(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qs(t){return $i(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ys(t,e,n){return{name:qs(t,e),fields:n.value.mapValue.fields}}function Xs(t,e){var n;if(e instanceof ns)n={update:Ys(t,e.key,e.value)};else if(e instanceof ls)n={delete:qs(t,e.key)};else if(e instanceof is)n={update:Ys(t,e.key,e.data),updateMask:uu(e.fieldMask)};else{if(!(e instanceof cs))return Ji();n={verify:qs(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Fa)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ua)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Va)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof za)return{fieldPath:e.field.canonicalString(),increment:n.Ie};throw Ji()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:js(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ji()}(t,e.precondition)),n}function Js(t,e){return{documents:[Ks(t,e.path)]}}function $s(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=Ks(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ks(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var r=function(t){if(0!==t.length)return su(No.create(t,"and"))}(e.filters);r&&(n.structuredQuery.where=r);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ou(t.field),direction:nu(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=Ps(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function tu(t){var e=Hs(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){$i(1===i);var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function(t){var e=eu(t);return e instanceof No&&Do(e)?e.getFilters():[e]}(n.where));var s=[];n.orderBy&&(s=function(t){return t.map((function(t){return function(t){return new Mo(au(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}))}(n.orderBy));var u=null;n.limit&&(u=function(t){var e;return Rr(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=function(t){var e=!!t.before,n=t.values||[];return new Co(n,e)}(n.startAt));var c=null;return n.endAt&&(c=function(t){var e=!t.before,n=t.values||[];return new Co(n,e)}(n.endAt)),ea(e,r,s,a,u,"F",l,c)}function eu(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=au(t.unaryFilter.field);return Lo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=au(t.unaryFilter.field);return Lo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=au(t.unaryFilter.field);return Lo.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=au(t.unaryFilter.field);return Lo.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Ji()}}(t):void 0!==t.fieldFilter?function(t){return Lo.create(au(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ji()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return No.create(t.compositeFilter.filters.map((function(t){return eu(t)})),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ji()}}(t.compositeFilter.op))}(t):Ji()}function nu(t){return Ls[t]}function iu(t){return Ns[t]}function ru(t){return Rs[t]}function ou(t){return{fieldPath:t.canonicalString()}}function au(t){return wr.fromServerFormat(t.fieldPath)}function su(t){return t instanceof Lo?function(t){if("=="===t.op){if(ko(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NAN"}};if(bo(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ko(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NOT_NAN"}};if(bo(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ou(t.field),op:iu(t.op),value:t.value}}}(t):t instanceof No?function(t){var e=t.getFilters().map((function(t){return su(t)}));return 1===e.length?e[0]:{compositeFilter:{op:ru(t.op),filters:e}}}(t):Ji()}function uu(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function lu(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var cu=function(){function t(e,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mr.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:mr.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Xr.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,p.Z)(this,t),this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=u}return(0,y.Z)(t,[{key:"withSequenceNumber",value:function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}},{key:"withExpectedCount",value:function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}},{key:"withLastLimboFreeSnapshotVersion",value:function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}]),t}(),hu=(0,y.Z)((function t(e){(0,p.Z)(this,t),this.ut=e}));function fu(t){var e=tu({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?la(e,e.limit,"L"):e}var vu=function(){function t(){(0,p.Z)(this,t)}return(0,y.Z)(t,[{key:"ht",value:function(t,e){this.Pt(t,e),e.It()}},{key:"Pt",value:function(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(to(t.integerValue));else if("doubleValue"in t){var n=to(t.doubleValue);isNaN(n)?this.Tt(e,13):(this.Tt(e,15),Dr(n)?e.Et(0):e.Et(n))}else if("timestampValue"in t){var i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt("".concat(i.seconds||"")),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(eo(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){var r=t.geoPointValue;this.Tt(e,45),e.Et(r.latitude||0),e.Et(r.longitude||0)}else"mapValue"in t?Eo(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):Ji()}},{key:"At",value:function(t,e){this.Tt(e,25),this.wt(t,e)}},{key:"wt",value:function(t,e){e.dt(t)}},{key:"gt",value:function(t,e){var n=t.fields||{};this.Tt(e,55);for(var i=0,r=Object.keys(n);i<r.length;i++){var o=r[i];this.At(o,e),this.Pt(n[o],e)}}},{key:"yt",value:function(t,e){var n=t.values||[];this.Tt(e,50);var i,r=(0,l.Z)(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;this.Pt(o,e)}}catch(a){r.e(a)}finally{r.f()}}},{key:"ft",value:function(t,e){var n=this;this.Tt(e,37),_r.fromName(t).path.forEach((function(t){n.Tt(e,60),n.wt(t,e)}))}},{key:"Tt",value:function(t,e){t.Et(e)}},{key:"Rt",value:function(t){t.Et(2)}}]),t}();vu.St=new vu;var du=function(){function t(){(0,p.Z)(this,t),this.on=new pu}return(0,y.Z)(t,[{key:"addToCollectionParentIndex",value:function(t,e){return this.on.add(e),Ir.resolve()}},{key:"getCollectionParents",value:function(t,e){return Ir.resolve(this.on.getEntries(e))}},{key:"addFieldIndex",value:function(t,e){return Ir.resolve()}},{key:"deleteFieldIndex",value:function(t,e){return Ir.resolve()}},{key:"deleteAllFieldIndexes",value:function(t){return Ir.resolve()}},{key:"createTargetIndexes",value:function(t,e){return Ir.resolve()}},{key:"getDocumentsMatchingTarget",value:function(t,e){return Ir.resolve(null)}},{key:"getIndexType",value:function(t,e){return Ir.resolve(0)}},{key:"getFieldIndexes",value:function(t,e){return Ir.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(t){return Ir.resolve(null)}},{key:"getMinOffset",value:function(t,e){return Ir.resolve(Tr.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(t,e){return Ir.resolve(Tr.min())}},{key:"updateCollectionGroup",value:function(t,e,n){return Ir.resolve()}},{key:"updateIndexEntries",value:function(t,e){return Ir.resolve()}}]),t}(),pu=function(){function t(){(0,p.Z)(this,t),this.index={}}return(0,y.Z)(t,[{key:"add",value:function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Hr(br.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}},{key:"has",value:function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}},{key:"getEntries",value:function(t){return(this.index[t]||new Hr(br.comparator)).toArray()}}]),t}();new Uint8Array(0);var yu=function(){function t(e,n,i){(0,p.Z)(this,t),this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return(0,y.Z)(t,null,[{key:"withCacheSize",value:function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),t}();yu.DEFAULT_COLLECTION_PERCENTILE=10,yu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yu.DEFAULT=new yu(41943040,yu.DEFAULT_COLLECTION_PERCENTILE,yu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yu.DISABLED=new yu(-1,0,0);var mu=function(){function t(e){(0,p.Z)(this,t),this.xn=e}return(0,y.Z)(t,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"On",value:function(){return new t(0)}},{key:"Nn",value:function(){return new t(-1)}}]),t}();var gu=function(){function t(){(0,p.Z)(this,t),this.changes=new ma((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return(0,y.Z)(t,[{key:"addEntry",value:function(t){this.assertNotApplied(),this.changes.set(t.key,t)}},{key:"removeEntry",value:function(t,e){this.assertNotApplied(),this.changes.set(t,To.newInvalidDocument(t).setReadTime(e))}},{key:"getEntry",value:function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ir.resolve(n):this.getFromCache(t,e)}},{key:"getEntries",value:function(t,e){return this.getAllFromCache(t,e)}},{key:"apply",value:function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}},{key:"assertNotApplied",value:function(){}}]),t}();var bu=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.overlayedDocument=e,this.mutatedFields=n})),ku=function(){function t(e,n,i,r){(0,p.Z)(this,t),this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}return(0,y.Z)(t,[{key:"getDocument",value:function(t,e){var n=this,i=null;return this.documentOverlayCache.getOverlay(t,e).next((function(r){return i=r,n.remoteDocumentCache.getEntry(t,e)})).next((function(t){return null!==i&&$a(i.mutation,t,Qr.empty(),yr.now()),t}))}},{key:"getDocuments",value:function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next((function(e){return n.getLocalViewOfDocuments(t,e,Oa()).next((function(){return e}))}))}},{key:"getLocalViewOfDocuments",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oa(),r=Ea();return this.populateOverlays(t,r,e).next((function(){return n.computeViews(t,e,r,i).next((function(t){var e=wa();return t.forEach((function(t,n){e=e.insert(t,n.overlayedDocument)})),e}))}))}},{key:"getOverlayedDocuments",value:function(t,e){var n=this,i=Ea();return this.populateOverlays(t,i,e).next((function(){return n.computeViews(t,e,i,Oa())}))}},{key:"populateOverlays",value:function(t,e,n){var i=[];return n.forEach((function(t){e.has(t)||i.push(t)})),this.documentOverlayCache.getOverlays(t,i).next((function(t){t.forEach((function(t,n){e.set(t,n)}))}))}},{key:"computeViews",value:function(t,e,n,i){var r=ba(),o=Sa(),a=Sa();return e.forEach((function(t,e){var a=n.get(e.key);i.has(e.key)&&(void 0===a||a.mutation instanceof is)?r=r.insert(e.key,e):void 0!==a?(o.set(e.key,a.mutation.getFieldMask()),$a(a.mutation,e,a.mutation.getFieldMask(),yr.now())):o.set(e.key,Qr.empty())})),this.recalculateAndSaveOverlays(t,r).next((function(t){return t.forEach((function(t,e){return o.set(t,e)})),e.forEach((function(t,e){var n;return a.set(t,new bu(e,null!==(n=o.get(t))&&void 0!==n?n:null))})),a}))}},{key:"recalculateAndSaveOverlays",value:function(t,e){var n=this,i=Sa(),r=new qr((function(t,e){return t-e})),o=Oa();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){var n,o=(0,l.Z)(t);try{var a=function(){var t=n.value;t.keys().forEach((function(n){var o=e.get(n);if(null!==o){var a=i.get(n)||Qr.empty();a=t.applyToLocalView(o,a),i.set(n,a);var s=(r.get(t.batchId)||Oa()).add(n);r=r.insert(t.batchId,s)}}))};for(o.s();!(n=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}})).next((function(){for(var a=[],s=r.getReverseIterator(),u=function(){var r=s.getNext(),u=r.key,l=r.value,c=xa();l.forEach((function(t){if(!o.has(t)){var n=Xa(e.get(t),i.get(t));null!==n&&c.set(t,n),o=o.add(t)}})),a.push(n.documentOverlayCache.saveOverlays(t,u,c))};s.hasNext();)u();return Ir.waitFor(a)})).next((function(){return i}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next((function(e){return n.recalculateAndSaveOverlays(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(t,e,n,i){return function(t){return _r.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):ra(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,i):this.getDocumentsMatchingCollectionQuery(t,e,n,i)}},{key:"getNextDocuments",value:function(t,e,n,i){var r=this;return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next((function(o){var a=i-o.size>0?r.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-o.size):Ir.resolve(Ea()),s=-1,u=o;return a.next((function(e){return Ir.forEach(e,(function(e,n){return s<n.largestBatchId&&(s=n.largestBatchId),o.get(e)?Ir.resolve():r.remoteDocumentCache.getEntry(t,e).next((function(t){u=u.insert(e,t)}))})).next((function(){return r.populateOverlays(t,e,o)})).next((function(){return r.computeViews(t,u,e,Oa())})).next((function(t){return{batchId:s,changes:_a(t)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(t,e){return this.getDocument(t,new _r(e)).next((function(t){var e=wa();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(t,e,n,i){var r=this,o=e.collectionGroup,a=wa();return this.indexManager.getCollectionParents(t,o).next((function(s){return Ir.forEach(s,(function(s){var u=function(t,e){return new ta(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(o));return r.getDocumentsMatchingCollectionQuery(t,u,n,i).next((function(t){t.forEach((function(t,e){a=a.insert(t,e)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(t,e,n,i){var r,o=this;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((function(a){return r=a,o.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,r,i)})).next((function(t){r.forEach((function(e,n){var i=n.getKey();null===t.get(i)&&(t=t.insert(i,To.newInvalidDocument(i)))}));var n=wa();return t.forEach((function(t,i){var o=r.get(t);void 0!==o&&$a(o.mutation,i,Qr.empty(),yr.now()),va(e,i)&&(n=n.insert(t,i))})),n}))}}]),t}(),wu=function(){function t(e){(0,p.Z)(this,t),this.serializer=e,this.ur=new Map,this.cr=new Map}return(0,y.Z)(t,[{key:"getBundleMetadata",value:function(t,e){return Ir.resolve(this.ur.get(e))}},{key:"saveBundleMetadata",value:function(t,e){return this.ur.set(e.id,function(t){return{id:t.id,version:t.version,createTime:Vs(t.createTime)}}(e)),Ir.resolve()}},{key:"getNamedQuery",value:function(t,e){return Ir.resolve(this.cr.get(e))}},{key:"saveNamedQuery",value:function(t,e){return this.cr.set(e.name,function(t){return{name:t.name,query:fu(t.bundledQuery),readTime:Vs(t.readTime)}}(e)),Ir.resolve()}}]),t}(),_u=function(){function t(){(0,p.Z)(this,t),this.overlays=new qr(_r.comparator),this.lr=new Map}return(0,y.Z)(t,[{key:"getOverlay",value:function(t,e){return Ir.resolve(this.overlays.get(e))}},{key:"getOverlays",value:function(t,e){var n=this,i=Ea();return Ir.forEach(e,(function(e){return n.getOverlay(t,e).next((function(t){null!==t&&i.set(e,t)}))})).next((function(){return i}))}},{key:"saveOverlays",value:function(t,e,n){var i=this;return n.forEach((function(n,r){i.lt(t,e,r)})),Ir.resolve()}},{key:"removeOverlaysForBatchId",value:function(t,e,n){var i=this,r=this.lr.get(n);return void 0!==r&&(r.forEach((function(t){return i.overlays=i.overlays.remove(t)})),this.lr.delete(n)),Ir.resolve()}},{key:"getOverlaysForCollection",value:function(t,e,n){for(var i=Ea(),r=e.length+1,o=new _r(e.child("")),a=this.overlays.getIteratorFrom(o);a.hasNext();){var s=a.getNext().value,u=s.getKey();if(!e.isPrefixOf(u.path))break;u.path.length===r&&s.largestBatchId>n&&i.set(s.getKey(),s)}return Ir.resolve(i)}},{key:"getOverlaysForCollectionGroup",value:function(t,e,n,i){for(var r=new qr((function(t,e){return t-e})),o=this.overlays.getIterator();o.hasNext();){var a=o.getNext().value;if(a.getKey().getCollectionGroup()===e&&a.largestBatchId>n){var s=r.get(a.largestBatchId);null===s&&(s=Ea(),r=r.insert(a.largestBatchId,s)),s.set(a.getKey(),a)}}for(var u=Ea(),l=r.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(t,e){return u.set(t,e)})),!(u.size()>=i)););return Ir.resolve(u)}},{key:"lt",value:function(t,e,n){var i=this.overlays.get(n.key);if(null!==i){var r=this.lr.get(i.largestBatchId).delete(n.key);this.lr.set(i.largestBatchId,r)}this.overlays=this.overlays.insert(n.key,new vs(e,n));var o=this.lr.get(e);void 0===o&&(o=Oa(),this.lr.set(e,o)),this.lr.set(e,o.add(n.key))}}]),t}(),Eu=function(){function t(){(0,p.Z)(this,t),this.hr=new Hr(xu.Pr),this.Ir=new Hr(xu.Tr)}return(0,y.Z)(t,[{key:"isEmpty",value:function(){return this.hr.isEmpty()}},{key:"addReference",value:function(t,e){var n=new xu(t,e);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}},{key:"Er",value:function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))}},{key:"removeReference",value:function(t,e){this.dr(new xu(t,e))}},{key:"Ar",value:function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))}},{key:"Rr",value:function(t){var e=this,n=new _r(new br([])),i=new xu(n,t),r=new xu(n,t+1),o=[];return this.Ir.forEachInRange([i,r],(function(t){e.dr(t),o.push(t.key)})),o}},{key:"Vr",value:function(){var t=this;this.hr.forEach((function(e){return t.dr(e)}))}},{key:"dr",value:function(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}},{key:"mr",value:function(t){var e=new _r(new br([])),n=new xu(e,t),i=new xu(e,t+1),r=Oa();return this.Ir.forEachInRange([n,i],(function(t){r=r.add(t.key)})),r}},{key:"containsKey",value:function(t){var e=new xu(t,0),n=this.hr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}]),t}(),xu=function(){function t(e,n){(0,p.Z)(this,t),this.key=e,this.gr=n}return(0,y.Z)(t,null,[{key:"Pr",value:function(t,e){return _r.comparator(t.key,e.key)||dr(t.gr,e.gr)}},{key:"Tr",value:function(t,e){return dr(t.gr,e.gr)||_r.comparator(t.key,e.key)}}]),t}(),Su=function(){function t(e,n){(0,p.Z)(this,t),this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Hr(xu.Pr)}return(0,y.Z)(t,[{key:"checkEmpty",value:function(t){return Ir.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(t,e,n,i){var r=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var o=new hs(r,e,n,i);this.mutationQueue.push(o);var a,s=(0,l.Z)(i);try{for(s.s();!(a=s.n()).done;){var u=a.value;this.yr=this.yr.add(new xu(u.key,r)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Ir.resolve(o)}},{key:"lookupMutationBatch",value:function(t,e){return Ir.resolve(this.wr(e))}},{key:"getNextMutationBatchAfterBatchId",value:function(t,e){var n=e+1,i=this.Sr(n),r=i<0?0:i;return Ir.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ir.resolve(0===this.mutationQueue.length?-1:this.pr-1)}},{key:"getAllMutationBatches",value:function(t){return Ir.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(t,e){var n=this,i=new xu(e,0),r=new xu(e,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],(function(t){var e=n.wr(t.gr);o.push(e)})),Ir.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(t,e){var n=this,i=new Hr(dr);return e.forEach((function(t){var e=new xu(t,0),r=new xu(t,Number.POSITIVE_INFINITY);n.yr.forEachInRange([e,r],(function(t){i=i.add(t.gr)}))})),Ir.resolve(this.br(i))}},{key:"getAllMutationBatchesAffectingQuery",value:function(t,e){var n=e.path,i=n.length+1,r=n;_r.isDocumentKey(r)||(r=r.child(""));var o=new xu(new _r(r),0),a=new Hr(dr);return this.yr.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(a=a.add(t.gr)),!0)}),o),Ir.resolve(this.br(a))}},{key:"br",value:function(t){var e=this,n=[];return t.forEach((function(t){var i=e.wr(t);null!==i&&n.push(i)})),n}},{key:"removeMutationBatch",value:function(t,e){var n=this;$i(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();var i=this.yr;return Ir.forEach(e.mutations,(function(r){var o=new xu(r.key,e.batchId);return i=i.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((function(){n.yr=i}))}},{key:"Fn",value:function(t){}},{key:"containsKey",value:function(t,e){var n=new xu(e,0),i=this.yr.firstAfterOrEqual(n);return Ir.resolve(e.isEqual(i&&i.key))}},{key:"performConsistencyCheck",value:function(t){return this.mutationQueue.length,Ir.resolve()}},{key:"Dr",value:function(t,e){return this.Sr(t)}},{key:"Sr",value:function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}},{key:"wr",value:function(t){var e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}]),t}(),Tu=function(){function t(e){(0,p.Z)(this,t),this.Cr=e,this.docs=new qr(_r.comparator),this.size=0}return(0,y.Z)(t,[{key:"setIndexManager",value:function(t){this.indexManager=t}},{key:"addEntry",value:function(t,e){var n=e.key,i=this.docs.get(n),r=i?i.size:0,o=this.Cr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}},{key:"removeEntry",value:function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}},{key:"getEntry",value:function(t,e){var n=this.docs.get(e);return Ir.resolve(n?n.document.mutableCopy():To.newInvalidDocument(e))}},{key:"getEntries",value:function(t,e){var n=this,i=ba();return e.forEach((function(t){var e=n.docs.get(t);i=i.insert(t,e?e.document.mutableCopy():To.newInvalidDocument(t))})),Ir.resolve(i)}},{key:"getDocumentsMatchingQuery",value:function(t,e,n,i){for(var r=ba(),o=e.path,a=new _r(o.child("")),s=this.docs.getIteratorFrom(a);s.hasNext();){var u=s.getNext(),l=u.key,c=u.value.document;if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Cr(Sr(c),n)<=0||(i.has(c.key)||va(e,c))&&(r=r.insert(c.key,c.mutableCopy()))}return Ir.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(t,e,n,i){Ji()}},{key:"vr",value:function(t,e){return Ir.forEach(this.docs,(function(t){return e(t)}))}},{key:"newChangeBuffer",value:function(t){return new Cu(this)}},{key:"getSize",value:function(t){return Ir.resolve(this.size)}}]),t}(),Cu=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t){var i;return(0,p.Z)(this,n),(i=e.call(this))._r=t,i}return(0,y.Z)(n,[{key:"applyChanges",value:function(t){var e=this,n=[];return this.changes.forEach((function(i,r){r.isValidDocument()?n.push(e._r.addEntry(t,r)):e._r.removeEntry(i)})),Ir.waitFor(n)}},{key:"getFromCache",value:function(t,e){return this._r.getEntry(t,e)}},{key:"getAllFromCache",value:function(t,e){return this._r.getEntries(t,e)}}]),n}(gu),Ou=function(){function t(e){(0,p.Z)(this,t),this.persistence=e,this.Fr=new ma((function(t){return Xo(t)}),Jo),this.lastRemoteSnapshotVersion=mr.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Eu,this.targetCount=0,this.Nr=mu.On()}return(0,y.Z)(t,[{key:"forEachTarget",value:function(t,e){return this.Fr.forEach((function(t,n){return e(n)})),Ir.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(t){return Ir.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(t){return Ir.resolve(this.Mr)}},{key:"allocateTargetId",value:function(t){return this.highestTargetId=this.Nr.next(),Ir.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Mr&&(this.Mr=e),Ir.resolve()}},{key:"kn",value:function(t){this.Fr.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Nr=new mu(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}},{key:"addTargetData",value:function(t,e){return this.kn(e),this.targetCount+=1,Ir.resolve()}},{key:"updateTargetData",value:function(t,e){return this.kn(e),Ir.resolve()}},{key:"removeTargetData",value:function(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,Ir.resolve()}},{key:"removeTargets",value:function(t,e,n){var i=this,r=0,o=[];return this.Fr.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(i.Fr.delete(a),o.push(i.removeMatchingKeysForTargetId(t,s.targetId)),r++)})),Ir.waitFor(o).next((function(){return r}))}},{key:"getTargetCount",value:function(t){return Ir.resolve(this.targetCount)}},{key:"getTargetData",value:function(t,e){var n=this.Fr.get(e)||null;return Ir.resolve(n)}},{key:"addMatchingKeys",value:function(t,e,n){return this.Or.Er(e,n),Ir.resolve()}},{key:"removeMatchingKeys",value:function(t,e,n){this.Or.Ar(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((function(e){r.push(i.markPotentiallyOrphaned(t,e))})),Ir.waitFor(r)}},{key:"removeMatchingKeysForTargetId",value:function(t,e){return this.Or.Rr(e),Ir.resolve()}},{key:"getMatchingKeysForTargetId",value:function(t,e){var n=this.Or.mr(e);return Ir.resolve(n)}},{key:"containsKey",value:function(t,e){return Ir.resolve(this.Or.containsKey(e))}}]),t}(),Au=function(){function t(e,n){var i=this;(0,p.Z)(this,t),this.Br={},this.overlays={},this.Lr=new Nr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Ou(this),this.indexManager=new du,this.remoteDocumentCache=function(t){return new Tu(t)}((function(t){return i.referenceDelegate.Qr(t)})),this.serializer=new hu(n),this.Kr=new wu(this.serializer)}return(0,y.Z)(t,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.kr=!1,Promise.resolve()}},{key:"started",get:function(){return this.kr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(t){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(t){var e=this.overlays[t.toKey()];return e||(e=new _u,this.overlays[t.toKey()]=e),e}},{key:"getMutationQueue",value:function(t,e){var n=this.Br[t.toKey()];return n||(n=new Su(e,this.referenceDelegate),this.Br[t.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(t,e,n){var i=this;Gi("MemoryPersistence","Starting transaction:",t);var r=new Mu(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((function(t){return i.referenceDelegate.Ur(r).next((function(){return t}))})).toPromise().then((function(t){return r.raiseOnCommittedEvent(),t}))}},{key:"Wr",value:function(t,e){return Ir.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(t,e)}})))}}]),t}(),Mu=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t){var i;return(0,p.Z)(this,n),(i=e.call(this)).currentSequenceNumber=t,i}return(0,y.Z)(n)}(Ar),Zu=function(){function t(e){(0,p.Z)(this,t),this.persistence=e,this.Gr=new Eu,this.zr=null}return(0,y.Z)(t,[{key:"Hr",get:function(){if(this.zr)return this.zr;throw Ji()}},{key:"addReference",value:function(t,e,n){return this.Gr.addReference(n,e),this.Hr.delete(n.toString()),Ir.resolve()}},{key:"removeReference",value:function(t,e,n){return this.Gr.removeReference(n,e),this.Hr.add(n.toString()),Ir.resolve()}},{key:"markPotentiallyOrphaned",value:function(t,e){return this.Hr.add(e.toString()),Ir.resolve()}},{key:"removeTarget",value:function(t,e){var n=this;this.Gr.Rr(e.targetId).forEach((function(t){return n.Hr.add(t.toString())}));var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.Hr.add(t.toString())}))})).next((function(){return i.removeTargetData(t,e)}))}},{key:"$r",value:function(){this.zr=new Set}},{key:"Ur",value:function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ir.forEach(this.Hr,(function(i){var r=_r.fromPath(i);return e.Jr(t,r).next((function(t){t||n.removeEntry(r,mr.min())}))})).next((function(){return e.zr=null,n.apply(t)}))}},{key:"updateLimboDocument",value:function(t,e){var n=this;return this.Jr(t,e).next((function(t){t?n.Hr.delete(e.toString()):n.Hr.add(e.toString())}))}},{key:"Qr",value:function(t){return 0}},{key:"Jr",value:function(t,e){var n=this;return Ir.or([function(){return Ir.resolve(n.Gr.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Wr(t,e)}])}}],[{key:"jr",value:function(e){return new t(e)}}]),t}();var Iu=function(){function t(e,n,i,r){(0,p.Z)(this,t),this.targetId=e,this.fromCache=n,this.ki=i,this.qi=r}return(0,y.Z)(t,null,[{key:"Qi",value:function(e,n){var i,r=Oa(),o=Oa(),a=(0,l.Z)(n.docChanges);try{for(a.s();!(i=a.n()).done;){var s=i.value;switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}}}catch(u){a.e(u)}finally{a.f()}return new t(e,n.fromCache,r,o)}}]),t}(),Lu=function(){function t(){(0,p.Z)(this,t),this._documentReadCount=0}return(0,y.Z)(t,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(t){this._documentReadCount+=t}}]),t}(),Nu=function(){function t(){(0,p.Z)(this,t),this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}return(0,y.Z)(t,[{key:"initialize",value:function(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}},{key:"getDocumentsMatchingQuery",value:function(t,e,n,i){var r=this,o={result:null};return this.zi(t,e).next((function(t){o.result=t})).next((function(){if(!o.result)return r.ji(t,e,i,n).next((function(t){o.result=t}))})).next((function(){if(!o.result){var n=new Lu;return r.Hi(t,e,n).next((function(i){if(o.result=i,r.$i)return r.Ji(t,e,n,i.size)}))}})).next((function(){return o.result}))}},{key:"Ji",value:function(t,e,n,i){return n.documentReadCount<this.Ui?(Hi()<=b.in.DEBUG&&Gi("QueryEngine","SDK will not create cache indexes for query:",fa(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Ir.resolve()):(Hi()<=b.in.DEBUG&&Gi("QueryEngine","Query:",fa(e),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Wi*i?(Hi()<=b.in.DEBUG&&Gi("QueryEngine","The SDK decides to create cache indexes for query:",fa(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,aa(e))):Ir.resolve())}},{key:"zi",value:function(t,e){var n=this;if(ia(e))return Ir.resolve(null);var i=aa(e);return this.indexManager.getIndexType(t,i).next((function(r){return 0===r?null:(null!==e.limit&&1===r&&(e=la(e,null,"F"),i=aa(e)),n.indexManager.getDocumentsMatchingTarget(t,i).next((function(r){var o=Oa.apply(void 0,(0,d.Z)(r));return n.Gi.getDocuments(t,o).next((function(r){return n.indexManager.getMinOffset(t,i).next((function(i){var a=n.Yi(e,r);return n.Zi(e,a,o,i.readTime)?n.zi(t,la(e,null,"F")):n.Xi(t,a,e,i)}))}))})))}))}},{key:"ji",value:function(t,e,n,i){var r=this;return ia(e)||i.isEqual(mr.min())?Ir.resolve(null):this.Gi.getDocuments(t,n).next((function(o){var a=r.Yi(e,o);return r.Zi(e,a,n,i)?Ir.resolve(null):(Hi()<=b.in.DEBUG&&Gi("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fa(e)),r.Xi(t,a,e,xr(i,-1)).next((function(t){return t})))}))}},{key:"Yi",value:function(t,e){var n=new Hr(pa(t));return e.forEach((function(e,i){va(t,i)&&(n=n.add(i))})),n}},{key:"Zi",value:function(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;var r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}},{key:"Hi",value:function(t,e,n){return Hi()<=b.in.DEBUG&&Gi("QueryEngine","Using full collection scan to execute query:",fa(e)),this.Gi.getDocumentsMatchingQuery(t,e,Tr.min(),n)}},{key:"Xi",value:function(t,e,n,i){return this.Gi.getDocumentsMatchingQuery(t,n,i).next((function(t){return e.forEach((function(e){t=t.insert(e.key,e)})),t}))}}]),t}(),Ru=function(){function t(e,n,i,r){(0,p.Z)(this,t),this.persistence=e,this.es=n,this.serializer=r,this.ts=new qr(dr),this.ns=new ma((function(t){return Xo(t)}),Jo),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}return(0,y.Z)(t,[{key:"os",value:function(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ku(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.ts)}))}}]),t}();function Du(t,e,n,i){return new Ru(t,e,n,i)}function Pu(t,e){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=tr(e),t.next=3,i.persistence.runTransaction("Handle user change","readonly",(function(t){var e;return i.mutationQueue.getAllMutationBatches(t).next((function(r){return e=r,i.os(n),i.mutationQueue.getAllMutationBatches(t)})).next((function(n){var r,o=[],a=[],s=Oa(),u=(0,l.Z)(e);try{for(u.s();!(r=u.n()).done;){var c=r.value;o.push(c.batchId);var h,f=(0,l.Z)(c.mutations);try{for(f.s();!(h=f.n()).done;){var v=h.value;s=s.add(v.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=(0,l.Z)(n);try{for(p.s();!(d=p.n()).done;){var y=d.value;a.push(y.batchId);var m,g=(0,l.Z)(y.mutations);try{for(g.s();!(m=g.n()).done;){var b=m.value;s=s.add(b.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return i.localDocuments.getDocuments(t,s).next((function(t){return{_s:t,removedBatchIds:o,addedBatchIds:a}}))}))}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),Fu.apply(this,arguments)}function Uu(t,e){var n=tr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var i=e.batch.keys(),r=n.ss.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){var r=n.batch,o=r.keys(),a=Ir.resolve();return o.forEach((function(t){a=a.next((function(){return i.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);$i(null!==o),e.version.compareTo(o)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))}))})),a.next((function(){return t.mutationQueue.removeMutationBatch(e,r)}))}(n,t,e,r).next((function(){return r.apply(t)})).next((function(){return n.mutationQueue.performConsistencyCheck(t)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){for(var e=Oa(),n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e))})).next((function(){return n.localDocuments.getDocuments(t,i)}))}))}function ju(t){var e=tr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qr.getLastRemoteSnapshotVersion(t)}))}function Vu(t,e){var n=tr(t),i=e.snapshotVersion,r=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.ss.newChangeBuffer({trackRemovals:!0});r=n.ts;var a=[];e.targetChanges.forEach((function(o,s){var u=r.get(s);if(u){a.push(n.qr.removeMatchingKeys(t,o.removedDocuments,s).next((function(){return n.qr.addMatchingKeys(t,o.addedDocuments,s)})));var l=u.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(s)?l=l.withResumeToken(Xr.EMPTY_BYTE_STRING,mr.min()).withLastLimboFreeSnapshotVersion(mr.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,i)),r=r.insert(s,l),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,o)&&a.push(n.qr.updateTargetData(t,l))}}));var s=ba(),u=Oa();if(e.documentUpdates.forEach((function(i){e.resolvedLimboDocuments.has(i)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),a.push(Bu(t,o,e.documentUpdates).next((function(t){s=t.us,u=t.cs}))),!i.isEqual(mr.min())){var l=n.qr.getLastRemoteSnapshotVersion(t).next((function(e){return n.qr.setTargetsMetadata(t,t.currentSequenceNumber,i)}));a.push(l)}return Ir.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(t,s,u)})).next((function(){return s}))})).then((function(t){return n.ts=r,t}))}function Bu(t,e,n){var i=Oa(),r=Oa();return n.forEach((function(t){return i=i.add(t)})),e.getEntries(t,i).next((function(t){var i=ba();return n.forEach((function(n,o){var a=t.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(r=r.add(n)),o.isNoDocument()&&o.version.isEqual(mr.min())?(e.removeEntry(n,o.readTime),i=i.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o),i=i.insert(n,o)):Gi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{us:i,cs:r}}))}function zu(t,e){var n=tr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e)}))}function qu(t,e){var n=tr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var i;return n.qr.getTargetData(t,e).next((function(r){return r?(i=r,Ir.resolve(i)):n.qr.allocateTargetId(t).next((function(r){return i=new cu(e,r,"TargetPurposeListen",t.currentSequenceNumber),n.qr.addTargetData(t,i).next((function(){return i}))}))}))})).then((function(t){var i=n.ts.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(t.targetId,t),n.ns.set(e,t.targetId)),t}))}function Wu(t,e,n){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){var r,o,a;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=tr(e),o=r.ts.get(n),a=i?"readwrite":"readwrite-primary",t.prev=1,t.t0=i,t.t0){t.next=6;break}return t.next=6,r.persistence.runTransaction("Release target",a,(function(t){return r.persistence.referenceDelegate.removeTarget(t,o)}));case 6:t.next=13;break;case 8:if(t.prev=8,t.t1=t.catch(1),Lr(t.t1)){t.next=12;break}throw t.t1;case 12:Gi("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(t.t1));case 13:r.ts=r.ts.remove(n),r.ns.delete(o.target);case 14:case"end":return t.stop()}}),t,null,[[1,8]])}))),Ku.apply(this,arguments)}function Hu(t,e,n){var i=tr(t),r=mr.min(),o=Oa();return i.persistence.runTransaction("Execute query","readwrite",(function(t){return function(t,e,n){var i=tr(t),r=i.ns.get(n);return void 0!==r?Ir.resolve(i.ts.get(r)):i.qr.getTargetData(e,n)}(i,t,aa(e)).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return i.es.getDocumentsMatchingQuery(t,e,n?r:mr.min(),n?o:Oa())})).next((function(t){return Gu(i,da(e),t),{documents:t,ls:o}}))}))}function Gu(t,e,n){var i=t.rs.get(e)||mr.min();n.forEach((function(t,e){e.readTime.compareTo(i)>0&&(i=e.readTime)})),t.rs.set(e,i)}var Qu=function(){function t(){(0,p.Z)(this,t),this.activeTargetIds=Ma()}return(0,y.Z)(t,[{key:"ds",value:function(t){this.activeTargetIds=this.activeTargetIds.add(t)}},{key:"As",value:function(t){this.activeTargetIds=this.activeTargetIds.delete(t)}},{key:"Es",value:function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}]),t}(),Yu=function(){function t(){(0,p.Z)(this,t),this.eo=new Qu,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,y.Z)(t,[{key:"addPendingMutation",value:function(t){}},{key:"updateMutationState",value:function(t,e,n){}},{key:"addLocalQueryTarget",value:function(t){return this.eo.ds(t),this.no[t]||"not-current"}},{key:"updateQueryState",value:function(t,e,n){this.no[t]=e}},{key:"removeLocalQueryTarget",value:function(t){this.eo.As(t)}},{key:"isLocalQueryTarget",value:function(t){return this.eo.activeTargetIds.has(t)}},{key:"clearQueryState",value:function(t){delete this.no[t]}},{key:"getAllActiveQueryTargets",value:function(){return this.eo.activeTargetIds}},{key:"isActiveQueryTarget",value:function(t){return this.eo.activeTargetIds.has(t)}},{key:"start",value:function(){return this.eo=new Qu,Promise.resolve()}},{key:"handleUserChange",value:function(t,e,n){}},{key:"setOnlineState",value:function(t){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(t){}},{key:"notifyBundleLoaded",value:function(t){}}]),t}(),Xu=function(){function t(){(0,p.Z)(this,t)}return(0,y.Z)(t,[{key:"ro",value:function(t){}},{key:"shutdown",value:function(){}}]),t}(),Ju=function(){function t(){var e=this;(0,p.Z)(this,t),this.io=function(){return e.so()},this.oo=function(){return e._o()},this.ao=[],this.uo()}return(0,y.Z)(t,[{key:"ro",value:function(t){this.ao.push(t)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}},{key:"uo",value:function(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}},{key:"so",value:function(){Gi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var t,e=(0,l.Z)(this.ao);try{for(e.s();!(t=e.n()).done;){(0,t.value)(0)}}catch(n){e.e(n)}finally{e.f()}}},{key:"_o",value:function(){Gi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var t,e=(0,l.Z)(this.ao);try{for(e.s();!(t=e.n()).done;){(0,t.value)(1)}}catch(n){e.e(n)}finally{e.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),t}(),$u=null;function tl(){return null===$u?$u=268435456+Math.round(2147483648*Math.random()):$u++,"0x"+$u.toString(16)}var el={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},nl=function(){function t(e){(0,p.Z)(this,t),this.co=e.co,this.lo=e.lo}return(0,y.Z)(t,[{key:"ho",value:function(t){this.Po=t}},{key:"Io",value:function(t){this.To=t}},{key:"onMessage",value:function(t){this.Eo=t}},{key:"close",value:function(){this.lo()}},{key:"send",value:function(t){this.co(t)}},{key:"Ao",value:function(){this.Po()}},{key:"Ro",value:function(t){this.To(t)}},{key:"Vo",value:function(t){this.Eo(t)}}]),t}(),il="WebChannelConnection",rl=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t){var i;return(0,p.Z)(this,n),(i=e.call(this,t)).forceLongPolling=t.forceLongPolling,i.autoDetectLongPolling=t.autoDetectLongPolling,i.useFetchStreams=t.useFetchStreams,i.longPollingOptions=t.longPollingOptions,i}return(0,y.Z)(n,[{key:"Do",value:function(t,e,n,i){var r=tl();return new Promise((function(o,a){var s=new ji;s.setWithCredentials(!0),s.listenOnce(Ri.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Ni.NO_ERROR:var e=s.getResponseJson();Gi(il,"XHR for RPC '".concat(t,"' ").concat(r," received:"),JSON.stringify(e)),o(e);break;case Ni.TIMEOUT:Gi(il,"RPC '".concat(t,"' ").concat(r," timed out")),a(new nr(er.DEADLINE_EXCEEDED,"Request time out"));break;case Ni.HTTP_ERROR:var n=s.getStatus();if(Gi(il,"RPC '".concat(t,"' ").concat(r," failed with status:"),n,"response text:",s.getResponseText()),n>0){var i=s.getResponseJson();Array.isArray(i)&&(i=i[0]);var u=null==i?void 0:i.error;if(u&&u.status&&u.message){var l=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(er).indexOf(e)>=0?e:er.UNKNOWN}(u.status);a(new nr(l,u.message))}else a(new nr(er.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new nr(er.UNAVAILABLE,"Connection failed."));break;default:Ji()}}finally{Gi(il,"RPC '".concat(t,"' ").concat(r," completed."))}}));var u=JSON.stringify(i);Gi(il,"RPC '".concat(t,"' ").concat(r," sending request:"),i),s.send(e,"POST",u,n,15)}))}},{key:"vo",value:function(t,e,n){var i=tl(),r=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Ii(),a=Li(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new Fi({})),this.bo(s.initMessageHeaders,e,n),s.encodeInitMessageHeaders=!0;var l=r.join("");Gi(il,"Creating RPC '".concat(t,"' stream ").concat(i,": ").concat(l),s);var c=o.createWebChannel(l,s),h=!1,f=!1,v=new nl({co:function(e){f?Gi(il,"Not sending because RPC '".concat(t,"' stream ").concat(i," is closed:"),e):(h||(Gi(il,"Opening RPC '".concat(t,"' stream ").concat(i," transport.")),c.open(),h=!0),Gi(il,"RPC '".concat(t,"' stream ").concat(i," sending:"),e),c.send(e))},lo:function(){return c.close()}}),d=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(c,Ui.EventType.OPEN,(function(){f||Gi(il,"RPC '".concat(t,"' stream ").concat(i," transport opened."))})),d(c,Ui.EventType.CLOSE,(function(){f||(f=!0,Gi(il,"RPC '".concat(t,"' stream ").concat(i," transport closed")),v.Ro())})),d(c,Ui.EventType.ERROR,(function(e){f||(f=!0,Yi(il,"RPC '".concat(t,"' stream ").concat(i," transport errored:"),e),v.Ro(new nr(er.UNAVAILABLE,"The operation could not be completed")))})),d(c,Ui.EventType.MESSAGE,(function(e){var n;if(!f){var r=e.data[0];$i(!!r);var o=r,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Gi(il,"RPC '".concat(t,"' stream ").concat(i," received error:"),a);var s=a.status,u=function(t){var e=ss[t];if(void 0!==e)return ys(e)}(s),l=a.message;void 0===u&&(u=er.INTERNAL,l="Unknown error status: "+s+" with message "+a.message),f=!0,v.Ro(new nr(u,l)),c.close()}else Gi(il,"RPC '".concat(t,"' stream ").concat(i," received:"),r),v.Vo(r)}})),d(a,Di.STAT_EVENT,(function(e){e.stat===Pi.PROXY?Gi(il,"RPC '".concat(t,"' stream ").concat(i," detected buffering proxy")):e.stat===Pi.NOPROXY&&Gi(il,"RPC '".concat(t,"' stream ").concat(i," detected no buffering proxy"))})),setTimeout((function(){v.Ao()}),0),v}}]),n}(function(){function t(e){(0,p.Z)(this,t),this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=n+"://"+e.host,this.fo="projects/".concat(i,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(i):"project_id=".concat(i,"&database_id=").concat(r)}return(0,y.Z)(t,[{key:"yo",get:function(){return!1}},{key:"wo",value:function(t,e,n,i,r){var o=tl(),a=this.So(t,e);Gi("RestConnection","Sending RPC '".concat(t,"' ").concat(o,":"),a,n);var s={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(s,i,r),this.Do(t,a,s,n).then((function(e){return Gi("RestConnection","Received RPC '".concat(t,"' ").concat(o,": "),e),e}),(function(e){throw Yi("RestConnection","RPC '".concat(t,"' ").concat(o," failed with error: "),e,"url: ",a,"request:",n),e}))}},{key:"Co",value:function(t,e,n,i,r,o){return this.wo(t,e,n,i,r)}},{key:"bo",value:function(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Wi,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((function(e,n){return t[n]=e})),n&&n.headers.forEach((function(e,n){return t[n]=e}))}},{key:"So",value:function(t,e){var n=el[t];return"".concat(this.mo,"/v1/").concat(e,":").concat(n)}}]),t}());function ol(){return"undefined"!=typeof document?document:null}function al(t){return new Ds(t,!0)}var sl=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,p.Z)(this,t),this.si=e,this.timerId=n,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}return(0,y.Z)(t,[{key:"reset",value:function(){this.Oo=0}},{key:"Lo",value:function(){this.Oo=this.xo}},{key:"ko",value:function(t){var e=this;this.cancel();var n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&Gi("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(i," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(function(){return e.Bo=Date.now(),t()})),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}},{key:"Qo",value:function(){null!==this.No&&(this.No.skipDelay(),this.No=null)}},{key:"cancel",value:function(){null!==this.No&&(this.No.cancel(),this.No=null)}},{key:"qo",value:function(){return(Math.random()-.5)*this.Oo}}]),t}(),ul=function(){function t(e,n,i,r,o,a,s,u){(0,p.Z)(this,t),this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new sl(e,n)}return(0,y.Z)(t,[{key:"jo",value:function(){return 1===this.state||5===this.state||this.Ho()}},{key:"Ho",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Jo()}},{key:"stop",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.jo(),!t.t0){t.next=4;break}return t.next=4,this.close(0);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"Yo",value:function(){this.state=0,this.zo.reset()}},{key:"Zo",value:function(){var t=this;this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(function(){return t.Xo()})))}},{key:"e_",value:function(t){this.t_(),this.stream.send(t)}},{key:"Xo",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Ho()){t.next=2;break}return t.abrupt("return",this.close(0));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"t_",value:function(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"close",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e,n){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():n&&n.code===er.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===er.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,t.next=9,this.listener.Io(n);case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"r_",value:function(){}},{key:"auth",value:function(){var t=this;this.state=1;var e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(e){var i=(0,s.Z)(e,2),r=i[0],o=i[1];t.Uo===n&&t.s_(r,o)}),(function(n){e((function(){var e=new nr(er.UNKNOWN,"Fetching auth token failed: "+n.message);return t.o_(e)}))}))}},{key:"s_",value:function(t,e){var n=this,i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho((function(){i((function(){return n.state=2,n.Go=n.si.enqueueAfterDelay(n.$o,1e4,(function(){return n.Ho()&&(n.state=3),Promise.resolve()})),n.listener.ho()}))})),this.stream.Io((function(t){i((function(){return n.o_(t)}))})),this.stream.onMessage((function(t){i((function(){return n.onMessage(t)}))}))}},{key:"Jo",value:function(){var t=this;this.state=5,this.zo.ko((0,h.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state=0,t.start();case 1:case"end":return e.stop()}}),e)}))))}},{key:"o_",value:function(t){return Gi("PersistentStream","close with error: ".concat(t)),this.stream=null,this.close(4,t)}},{key:"i_",value:function(t){var e=this;return function(n){e.si.enqueueAndForget((function(){return e.Uo===t?n():(Gi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),t}(),ll=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i,r,o,a,s){var u;return(0,p.Z)(this,n),(u=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,s)).serializer=a,u}return(0,y.Z)(n,[{key:"__",value:function(t,e){return this.connection.vo("Listen",t,e)}},{key:"onMessage",value:function(t){this.zo.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ji()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(t,e){return t.useProto3Json?($i(void 0===e||"string"==typeof e),Xr.fromBase64String(e||"")):($i(void 0===e||e instanceof Uint8Array),Xr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?er.UNKNOWN:ys(t.code);return new nr(e,t.message||"")}(a);n=new Os(i,r,o,s||null)}else if("documentChange"in e){e.documentChange;var u=e.documentChange;u.document,u.document.name,u.document.updateTime;var l=Ws(t,u.document.name),c=Vs(u.document.updateTime),h=u.document.createTime?Vs(u.document.createTime):mr.min(),f=new xo({mapValue:{fields:u.document.fields}}),v=To.newFoundDocument(l,c,h,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Ts(d,p,v.key,v)}else if("documentDelete"in e){e.documentDelete;var y=e.documentDelete;y.document;var m=Ws(t,y.document),g=y.readTime?Vs(y.readTime):mr.min(),b=To.newNoDocument(m,g),k=y.removedTargetIds||[];n=new Ts([],k,b.key,b)}else if("documentRemove"in e){e.documentRemove;var w=e.documentRemove;w.document;var _=Ws(t,w.document),E=w.removedTargetIds||[];n=new Ts([],E,_,null)}else{if(!("filter"in e))return Ji();e.filter;var x=e.filter;x.targetId;var S=x.count,T=void 0===S?0:S,C=x.unchangedNames,O=new ds(T,C),A=x.targetId;n=new Cs(A,O)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return mr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?mr.min():e.readTime?Vs(e.readTime):mr.min()}(t);return this.listener.a_(e,n)}},{key:"u_",value:function(t){var e={};e.database=Gs(this.serializer),e.addTarget=function(t,e){var n,i=e.target;if((n=$o(i)?{documents:Js(t,i)}:{query:$s(t,i)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Us(t,e.resumeToken);var r=Ps(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(mr.min())>0){n.readTime=Fs(t,e.snapshotVersion.toTimestamp());var o=Ps(t,e.expectedCount);null!==o&&(n.expectedCount=o)}return n}(this.serializer,t);var n=function(t,e){var n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ji()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.e_(e)}},{key:"c_",value:function(t){var e={};e.database=Gs(this.serializer),e.removeTarget=t,this.e_(e)}}]),n}(ul),cl=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i,r,o,a,s){var u;return(0,p.Z)(this,n),(u=e.call(this,t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,s)).serializer=a,u.l_=!1,u}return(0,y.Z)(n,[{key:"h_",get:function(){return this.l_}},{key:"start",value:function(){this.l_=!1,this.lastStreamToken=void 0,(0,o.Z)((0,a.Z)(n.prototype),"start",this).call(this)}},{key:"r_",value:function(){this.l_&&this.P_([])}},{key:"__",value:function(t,e){return this.connection.vo("Write",t,e)}},{key:"onMessage",value:function(t){if($i(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();var e=function(t,e){return t&&t.length>0?($i(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Vs(t.updateTime):Vs(e);return n.isEqual(mr.min())&&(n=Vs(e)),new Ha(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Vs(t.commitTime);return this.listener.I_(n,e)}return $i(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}},{key:"E_",value:function(){var t={};t.database=Gs(this.serializer),this.e_(t)}},{key:"P_",value:function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Xs(e.serializer,t)}))};this.e_(n)}}]),n}(ul),hl=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i,r,o){var a;return(0,p.Z)(this,n),(a=e.call(this)).authCredentials=t,a.appCheckCredentials=i,a.connection=r,a.serializer=o,a.d_=!1,a}return(0,y.Z)(n,[{key:"A_",value:function(){if(this.d_)throw new nr(er.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"wo",value:function(t,e,n){var i=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(r){var o=(0,s.Z)(r,2),a=o[0],u=o[1];return i.connection.wo(t,e,n,a,u)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===er.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),t):new nr(er.UNKNOWN,t.toString())}))}},{key:"Co",value:function(t,e,n,i){var r=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var a=(0,s.Z)(o,2),u=a[0],l=a[1];return r.connection.Co(t,e,n,u,l,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===er.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),t):new nr(er.UNKNOWN,t.toString())}))}},{key:"terminate",value:function(){this.d_=!0}}]),n}((0,y.Z)((function t(){(0,p.Z)(this,t)})));var fl=function(){function t(e,n){(0,p.Z)(this,t),this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}return(0,y.Z)(t,[{key:"g_",value:function(){var t=this;0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.m_=null,t.y_("Backend didn't respond within 10 seconds."),t.p_("Offline"),Promise.resolve()})))}},{key:"w_",value:function(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.p_("Offline")))}},{key:"set",value:function(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}},{key:"p_",value:function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}},{key:"y_",value:function(t){var e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Qi(e),this.f_=!1):Gi("OnlineStateTracker",e)}},{key:"S_",value:function(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}]),t}(),vl=(0,y.Z)((function t(e,n,i,r,o){var a=this;(0,p.Z)(this,t),this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro((function(t){i.enqueueAndForget((0,h.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=xl(a),!t.t0){t.next=5;break}return Gi("RemoteStore","Restarting streams for network reachability change."),t.next=5,function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e){var n;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=tr(e)).C_.add(4),t.next=4,yl(n);case 4:return n.M_.set("Unknown"),n.C_.delete(4),t.next=8,dl(n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()(a);case 5:case"end":return t.stop()}}),t)}))))})),this.M_=new fl(i,r)}));function dl(t){return pl.apply(this,arguments)}function pl(){return(pl=(0,h.Z)((0,c.Z)().mark((function t(e){var n,i,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!xl(e)){t.next=18;break}n=(0,l.Z)(e.v_),t.prev=2,n.s();case 4:if((i=n.n()).done){t.next=10;break}return r=i.value,t.next=8,r(!0);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})))).apply(this,arguments)}function yl(t){return ml.apply(this,arguments)}function ml(){return(ml=(0,h.Z)((0,c.Z)().mark((function t(e){var n,i,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=(0,l.Z)(e.v_),t.prev=1,n.s();case 3:if((i=n.n()).done){t.next=9;break}return r=i.value,t.next=7,r(!1);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.e(t.t0);case 14:return t.prev=14,n.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))).apply(this,arguments)}function gl(t,e){var n=tr(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),El(n)?_l(n):$l(n).Ho()&&kl(n,e))}function bl(t,e){var n=tr(t),i=$l(n);n.D_.delete(e),i.Ho()&&wl(n,e),0===n.D_.size&&(i.Ho()?i.Zo():xl(n)&&n.M_.set("Unknown"))}function kl(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mr.min())>0){var n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$l(t).u_(e)}function wl(t,e){t.x_.Oe(e),$l(t).c_(e)}function _l(t){t.x_=new Ms({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},_t:function(e){return t.D_.get(e)||null},nt:function(){return t.datastore.serializer.databaseId}}),$l(t).start(),t.M_.g_()}function El(t){return xl(t)&&!$l(t).jo()&&t.D_.size>0}function xl(t){return 0===tr(t).C_.size}function Sl(t){t.x_=void 0}function Tl(t){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,h.Z)((0,c.Z)().mark((function t(e){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.D_.forEach((function(t,n){kl(e,t)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ol(t,e){return Al.apply(this,arguments)}function Al(){return(Al=(0,h.Z)((0,c.Z)().mark((function t(e,n){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Sl(e),El(e)?(e.M_.w_(n),_l(e)):e.M_.set("Unknown");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ml(t,e,n){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){var r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.M_.set("Online"),!(n instanceof Os&&2===n.state&&n.cause)){t.next=13;break}return t.prev=1,t.next=4,function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r,o,a;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.cause,r=(0,l.Z)(n.targetIds),t.prev=2,r.s();case 4:if((o=r.n()).done){t.next=14;break}if(a=o.value,t.t0=e.D_.has(a),!t.t0){t.next=12;break}return t.next=10,e.remoteSyncer.rejectListen(a,i);case 10:e.D_.delete(a),e.x_.removeTarget(a);case 12:t.next=4;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(2),r.e(t.t1);case 19:return t.prev=19,r.f(),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[2,16,19,22]])})));return function(e,n){return t.apply(this,arguments)}}()(e,n);case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(1),Gi("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),t.t0),t.next=11,Il(e,t.t0);case 11:case 22:t.next=29;break;case 13:if(n instanceof Ts?e.x_.$e(n):n instanceof Cs?e.x_.Je(n):e.x_.Ge(n),i.isEqual(mr.min())){t.next=29;break}return t.prev=14,t.next=17,ju(e.localStore);case 17:if(r=t.sent,t.t1=i.compareTo(r)>=0,!t.t1){t.next=22;break}return t.next=22,function(t,e){var n=t.x_.it(e);return n.targetChanges.forEach((function(n,i){if(n.resumeToken.approximateByteSize()>0){var r=t.D_.get(i);r&&t.D_.set(i,r.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e,n){var i=t.D_.get(e);if(i){t.D_.set(e,i.withResumeToken(Xr.EMPTY_BYTE_STRING,i.snapshotVersion)),wl(t,e);var r=new cu(i.target,e,n,i.sequenceNumber);kl(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(e,i);case 24:return t.prev=24,t.t2=t.catch(14),Gi("RemoteStore","Failed to raise snapshot:",t.t2),t.next=29,Il(e,t.t2);case 29:case"end":return t.stop()}}),t,null,[[1,6],[14,24]])}))),Zl.apply(this,arguments)}function Il(t,e,n){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Lr(n)){t.next=2;break}throw n;case 2:return e.C_.add(1),t.next=5,yl(e);case 5:e.M_.set("Offline"),i||(i=function(){return ju(e.localStore)}),e.asyncQueue.enqueueRetryable((0,h.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Gi("RemoteStore","Retrying IndexedDB access"),t.next=3,i();case 3:return e.C_.delete(1),t.next=6,dl(e);case 6:case"end":return t.stop()}}),t)}))));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Nl(t,e){return e().catch((function(n){return Il(t,n,e)}))}function Rl(t){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,h.Z)((0,c.Z)().mark((function t(e){var n,i,r,o;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=tr(e),i=tc(n),r=n.b_.length>0?n.b_[n.b_.length-1].batchId:-1;case 2:if(!Pl(n)){t.next=19;break}return t.prev=3,t.next=6,zu(n.localStore,r);case 6:if(null!==(o=t.sent)){t.next=10;break}return 0===n.b_.length&&i.Zo(),t.abrupt("break",19);case 10:r=o.batchId,Fl(n,o),t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(3),t.next=17,Il(n,t.t0);case 17:t.next=2;break;case 19:Ul(n)&&jl(n);case 20:case"end":return t.stop()}}),t,null,[[3,13]])}))),Dl.apply(this,arguments)}function Pl(t){return xl(t)&&t.b_.length<10}function Fl(t,e){t.b_.push(e);var n=tc(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function Ul(t){return xl(t)&&!tc(t).jo()&&t.b_.length>0}function jl(t){tc(t).start()}function Vl(t){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,h.Z)((0,c.Z)().mark((function t(e){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:tc(e).E_();case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function zl(t){return ql.apply(this,arguments)}function ql(){return(ql=(0,h.Z)((0,c.Z)().mark((function t(e){var n,i,r,o;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=tc(e),i=(0,l.Z)(e.b_);try{for(i.s();!(r=i.n()).done;)o=r.value,n.P_(o.mutations)}catch(a){i.e(a)}finally{i.f()}case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Wl(t,e,n){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){var r,o;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.b_.shift(),o=fs.from(r,n,i),t.next=3,Nl(e,(function(){return e.remoteSyncer.applySuccessfulWrite(o)}));case 3:return t.next=5,Rl(e);case 5:case"end":return t.stop()}}),t)}))),Kl.apply(this,arguments)}function Hl(t,e){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,h.Z)((0,c.Z)().mark((function t(e,n){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n&&tc(e).h_,!t.t0){t.next=4;break}return t.next=4,function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!function(t){return ps(t)&&t!==er.ABORTED}(n.code)){t.next=7;break}return i=e.b_.shift(),tc(e).Yo(),t.next=5,Nl(e,(function(){return e.remoteSyncer.rejectFailedWrite(i.batchId,n)}));case 5:return t.next=7,Rl(e);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()(e,n);case 4:Ul(e)&&jl(e);case 5:case"end":return t.stop()}}),t)}))),Gl.apply(this,arguments)}function Ql(t,e){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=tr(e)).asyncQueue.verifyOperationInProgress(),Gi("RemoteStore","RemoteStore received new credentials"),r=xl(i),i.C_.add(3),t.next=6,yl(i);case 6:return r&&i.M_.set("Unknown"),t.next=9,i.remoteSyncer.handleCredentialChange(n);case 9:return i.C_.delete(3),t.next=12,dl(i);case 12:case"end":return t.stop()}}),t)}))),Yl.apply(this,arguments)}function Xl(t,e){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=tr(e),!n){t.next=7;break}return i.C_.delete(2),t.next=5,dl(i);case 5:t.next=13;break;case 7:if(t.t0=n,t.t0){t.next=13;break}return i.C_.add(2),t.next=12,yl(i);case 12:i.M_.set("Unknown");case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $l(t){return t.O_||(t.O_=function(t,e,n){var i=tr(t);return i.A_(),new ll(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{ho:Tl.bind(null,t),Io:Ol.bind(null,t),a_:Ml.bind(null,t)}),t.v_.push(function(){var e=(0,h.Z)((0,c.Z)().mark((function e(n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}t.O_.Yo(),El(t)?_l(t):t.M_.set("Unknown"),e.next=7;break;case 4:return e.next=6,t.O_.stop();case 6:Sl(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.O_}function tc(t){return t.N_||(t.N_=function(t,e,n){var i=tr(t);return i.A_(),new cl(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{ho:Vl.bind(null,t),Io:Hl.bind(null,t),T_:zl.bind(null,t),I_:Wl.bind(null,t)}),t.v_.push(function(){var e=(0,h.Z)((0,c.Z)().mark((function e(n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return t.N_.Yo(),e.next=4,Rl(t);case 4:e.next=9;break;case 6:return e.next=8,t.N_.stop();case 8:t.b_.length>0&&(Gi("RemoteStore","Stopping write stream with ".concat(t.b_.length," pending writes")),t.b_=[]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.N_}var ec=function(){function t(e,n,i,r,o){(0,p.Z)(this,t),this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return(0,y.Z)(t,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nr(er.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}},{key:"handleDelayElapsed",value:function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(e,n,i,r,o){var a=new t(e,n,Date.now()+i,r,o);return a.start(i),a}}]),t}();function nc(t,e){if(Qi("AsyncQueue","".concat(e,": ").concat(t)),Lr(t))return new nr(er.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}var ic=function(){function t(e){(0,p.Z)(this,t),this.comparator=e?function(t,n){return e(t,n)||_r.comparator(t.key,n.key)}:function(t,e){return _r.comparator(t.key,e.key)},this.keyedMap=wa(),this.sortedSet=new qr(this.comparator)}return(0,y.Z)(t,[{key:"has",value:function(t){return null!=this.keyedMap.get(t)}},{key:"get",value:function(t){return this.keyedMap.get(t)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))}},{key:"add",value:function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}},{key:"delete",value:function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}},{key:"isEqual",value:function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}},{key:"toString",value:function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}},{key:"copy",value:function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}],[{key:"emptySet",value:function(e){return new t(e.comparator)}}]),t}(),rc=function(){function t(){(0,p.Z)(this,t),this.B_=new qr(_r.comparator)}return(0,y.Z)(t,[{key:"track",value:function(t){var e=t.doc.key,n=this.B_.get(e);n?0!==t.type&&3===n.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==n.type?this.B_=this.B_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.B_=this.B_.remove(e):1===t.type&&2===n.type?this.B_=this.B_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):Ji():this.B_=this.B_.insert(e,t)}},{key:"L_",value:function(){var t=[];return this.B_.inorderTraversal((function(e,n){t.push(n)})),t}}]),t}(),oc=function(){function t(e,n,i,r,o,a,s,u,l){(0,p.Z)(this,t),this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}return(0,y.Z)(t,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ca(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(e,n,i,r,o){var a=[];return n.forEach((function(t){a.push({type:0,doc:t})})),new t(e,n,ic.emptySet(n),a,i,r,!0,!1,o)}}]),t}(),ac=(0,y.Z)((function t(){(0,p.Z)(this,t),this.k_=void 0,this.listeners=[]})),sc=(0,y.Z)((function t(){(0,p.Z)(this,t),this.queries=new ma((function(t){return ha(t)}),ca),this.onlineState="Unknown",this.q_=new Set}));function uc(t,e){return lc.apply(this,arguments)}function lc(){return lc=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r,o,a,s;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=tr(e),r=n.query,o=!1,(a=i.queries.get(r))||(o=!0,a=new ac),!o){t.next=13;break}return t.prev=3,t.next=6,i.onListen(r);case 6:a.k_=t.sent,t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(3),s=nc(t.t0,"Initialization of query '".concat(fa(n.query),"' failed")),t.abrupt("return",void n.onError(s));case 13:i.queries.set(r,a),a.listeners.push(n),n.Q_(i.onlineState),a.k_&&n.K_(a.k_)&&dc(i);case 14:case"end":return t.stop()}}),t,null,[[3,9]])}))),lc.apply(this,arguments)}function cc(t,e){return hc.apply(this,arguments)}function hc(){return hc=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r,o,a,s;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=tr(e),r=n.query,o=!1,(a=i.queries.get(r))&&(s=a.listeners.indexOf(n))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),!o){t.next=6;break}return t.abrupt("return",(i.queries.delete(r),i.onUnlisten(r)));case 6:case"end":return t.stop()}}),t)}))),hc.apply(this,arguments)}function fc(t,e){var n,i=tr(t),r=!1,o=(0,l.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.query,u=i.queries.get(s);if(u){var c,h=(0,l.Z)(u.listeners);try{for(h.s();!(c=h.n()).done;){c.value.K_(a)&&(r=!0)}}catch(f){h.e(f)}finally{h.f()}u.k_=a}}}catch(f){o.e(f)}finally{o.f()}r&&dc(i)}function vc(t,e,n){var i=tr(t),r=i.queries.get(e);if(r){var o,a=(0,l.Z)(r.listeners);try{for(a.s();!(o=a.n()).done;){o.value.onError(n)}}catch(s){a.e(s)}finally{a.f()}}i.queries.delete(e)}function dc(t){t.q_.forEach((function(t){t.next()}))}var pc=function(){function t(e,n,i){(0,p.Z)(this,t),this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}return(0,y.Z)(t,[{key:"K_",value:function(t){if(!this.options.includeMetadataChanges){var e,n=[],i=(0,l.Z)(t.docChanges);try{for(i.s();!(e=i.n()).done;){var r=e.value;3!==r.type&&n.push(r)}}catch(a){i.e(a)}finally{i.f()}t=new oc(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}var o=!1;return this.W_?this.z_(t)&&(this.U_.next(t),o=!0):this.j_(t,this.onlineState)&&(this.H_(t),o=!0),this.G_=t,o}},{key:"onError",value:function(t){this.U_.error(t)}},{key:"Q_",value:function(t){this.onlineState=t;var e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}},{key:"j_",value:function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return(!this.options.J_||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}},{key:"z_",value:function(t){if(t.docChanges.length>0)return!0;var e=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}},{key:"H_",value:function(t){t=oc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}]),t}();var yc=(0,y.Z)((function t(e){(0,p.Z)(this,t),this.key=e})),mc=(0,y.Z)((function t(e){(0,p.Z)(this,t),this.key=e})),gc=function(){function t(e,n){(0,p.Z)(this,t),this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Oa(),this.mutatedKeys=Oa(),this._a=pa(e),this.aa=new ic(this._a)}return(0,y.Z)(t,[{key:"ua",get:function(){return this.ia}},{key:"ca",value:function(t,e){var n=this,i=e?e.la:new rc,r=e?e.aa:this.aa,o=e?e.mutatedKeys:this.mutatedKeys,a=r,s=!1,u="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((function(t,e){var c=r.get(t),h=va(n.query,e)?e:null,f=!!c&&n.mutatedKeys.has(c.key),v=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),d=!1;c&&h?c.data.isEqual(h.data)?f!==v&&(i.track({type:3,doc:h}),d=!0):n.ha(c,h)||(i.track({type:2,doc:h}),d=!0,(u&&n._a(h,u)>0||l&&n._a(h,l)<0)&&(s=!0)):!c&&h?(i.track({type:0,doc:h}),d=!0):c&&!h&&(i.track({type:1,doc:c}),d=!0,(u||l)&&(s=!0)),d&&(h?(a=a.add(h),o=v?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),null!==this.query.limit)for(;a.size>this.query.limit;){var c="F"===this.query.limitType?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),i.track({type:1,doc:c})}return{aa:a,la:i,Zi:s,mutatedKeys:o}}},{key:"ha",value:function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}},{key:"applyChanges",value:function(t,e,n){var i=this,r=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;var o=t.la.L_();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ji()}};return n(t)-n(e)}(t.type,e.type)||i._a(t.doc,e.doc)})),this.Pa(n);var a=e?this.Ia():[],s=0===this.oa.size&&this.current?1:0,u=s!==this.sa;return this.sa=s,0!==o.length||u?{snapshot:new oc(this.query,t.aa,r,o,t.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}},{key:"Q_",value:function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new rc,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}},{key:"Ea",value:function(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}},{key:"Pa",value:function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.ia=e.ia.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.ia=e.ia.delete(t)})),this.current=t.current)}},{key:"Ia",value:function(){var t=this;if(!this.current)return[];var e=this.oa;this.oa=Oa(),this.aa.forEach((function(e){t.Ea(e.key)&&(t.oa=t.oa.add(e.key))}));var n=[];return e.forEach((function(e){t.oa.has(e)||n.push(new mc(e))})),this.oa.forEach((function(t){e.has(t)||n.push(new yc(t))})),n}},{key:"da",value:function(t){this.ia=t.ls,this.oa=Oa();var e=this.ca(t.documents);return this.applyChanges(e,!0)}},{key:"Aa",value:function(){return oc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}]),t}(),bc=(0,y.Z)((function t(e,n,i){(0,p.Z)(this,t),this.query=e,this.targetId=n,this.view=i})),kc=(0,y.Z)((function t(e){(0,p.Z)(this,t),this.key=e,this.Ra=!1})),wc=function(){function t(e,n,i,r,o,a){(0,p.Z)(this,t),this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Va={},this.ma=new ma((function(t){return ha(t)}),ca),this.fa=new Map,this.ga=new Set,this.pa=new qr(_r.comparator),this.ya=new Map,this.wa=new Eu,this.Sa={},this.ba=new Map,this.Da=mu.Nn(),this.onlineState="Unknown",this.Ca=void 0}return(0,y.Z)(t,[{key:"isPrimaryClient",get:function(){return!0===this.Ca}}]),t}();function _c(t,e){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r,o,a,s,u;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Xc(e),!(a=i.ma.get(n))){t.next=6;break}r=a.targetId,i.sharedClientState.addLocalQueryTarget(r),o=a.view.Aa(),t.next=15;break;case 6:return t.next=8,qu(i.localStore,aa(n));case 8:return s=t.sent,u=i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,t.next=13,xc(i,n,r,"current"===u,s.resumeToken);case 13:o=t.sent,i.isPrimaryClient&&gl(i.remoteStore,s);case 15:return t.abrupt("return",o);case 16:case"end":return t.stop()}}),t)}))),Ec.apply(this,arguments)}function xc(t,e,n,i,r){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,h.Z)((0,c.Z)().mark((function t(e,n,i,r,o){var a,s,u,l,f,v;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.va=function(t,n,i){return function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e,n,i,r){var o,a,s;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.view.ca(i),t.t0=o.Zi,!t.t0){t.next=6;break}return t.next=5,Hu(e.localStore,n.query,!1).then((function(t){var e=t.documents;return n.view.ca(e,o)}));case 5:o=t.sent;case 6:return a=r&&r.targetChanges.get(n.targetId),s=n.view.applyChanges(o,e.isPrimaryClient,a),t.abrupt("return",(zc(e,n.targetId,s.Ta),s.snapshot));case 8:case"end":return t.stop()}}),t)})));return function(e,n,i,r){return t.apply(this,arguments)}}()(e,t,n,i)},t.next=3,Hu(e.localStore,n,!0);case 3:return a=t.sent,s=new gc(n,a.ls),u=s.ca(a.documents),l=Ss.createSynthesizedTargetChangeForCurrentChange(i,r&&"Offline"!==e.onlineState,o),f=s.applyChanges(u,e.isPrimaryClient,l),zc(e,i,f.Ta),v=new bc(n,i,s),t.abrupt("return",(e.ma.set(n,v),e.fa.has(i)?e.fa.get(i).push(n):e.fa.set(i,[n]),f.snapshot));case 11:case"end":return t.stop()}}),t)}))),Sc.apply(this,arguments)}function Tc(t,e){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r,o;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=tr(e),r=i.ma.get(n),!((o=i.fa.get(r.targetId)).length>1)){t.next=3;break}return t.abrupt("return",(i.fa.set(r.targetId,o.filter((function(t){return!ca(t,n)}))),void i.ma.delete(n)));case 3:if(!i.isPrimaryClient){t.next=11;break}if(i.sharedClientState.removeLocalQueryTarget(r.targetId),t.t0=i.sharedClientState.isActiveQueryTarget(r.targetId),t.t0){t.next=9;break}return t.next=9,Wu(i.localStore,r.targetId,!1).then((function(){i.sharedClientState.clearQueryState(r.targetId),bl(i.remoteStore,r.targetId),Vc(i,r.targetId)})).catch(Mr);case 9:t.next=14;break;case 11:return Vc(i,r.targetId),t.next=14,Wu(i.localStore,r.targetId,!0);case 14:case"end":return t.stop()}}),t)}))),Cc.apply(this,arguments)}function Oc(t,e,n){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){var r,o,a;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Jc(e),t.prev=1,t.next=4,function(t,e){var n,i,r=tr(t),o=yr.now(),a=e.reduce((function(t,e){return t.add(e.key)}),Oa());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){var s=ba(),u=Oa();return r.ss.getEntries(t,a).next((function(t){(s=t).forEach((function(t,e){e.isValidDocument()||(u=u.add(t))}))})).next((function(){return r.localDocuments.getOverlayedDocuments(t,s)})).next((function(i){n=i;var a,s=[],u=(0,l.Z)(e);try{for(u.s();!(a=u.n()).done;){var c=a.value,h=ts(c,n.get(c.key).overlayedDocument);null!=h&&s.push(new is(c.key,h,So(h.value.mapValue),Ga.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.mutationQueue.addMutationBatch(t,o,s,e)})).next((function(e){i=e;var o=e.applyToLocalDocumentSet(n,u);return r.documentOverlayCache.saveOverlays(t,e.batchId,o)}))})).then((function(){return{batchId:i.batchId,changes:_a(n)}}))}(r.localStore,n);case 4:return o=t.sent,r.sharedClientState.addPendingMutation(o.batchId),function(t,e,n){var i=t.Sa[t.currentUser.toKey()];i||(i=new qr(dr)),i=i.insert(e,n),t.Sa[t.currentUser.toKey()]=i}(r,o.batchId,i),t.next=9,Kc(r,o.changes);case 9:return t.next=11,Rl(r.remoteStore);case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),a=nc(t.t0,"Failed to persist write"),i.reject(a);case 17:case"end":return t.stop()}}),t,null,[[1,13]])}))),Ac.apply(this,arguments)}function Mc(t,e){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=tr(e),t.prev=1,t.next=4,Vu(i.localStore,n);case 4:return r=t.sent,n.targetChanges.forEach((function(t,e){var n=i.ya.get(e);n&&($i(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?n.Ra=!0:t.modifiedDocuments.size>0?$i(n.Ra):t.removedDocuments.size>0&&($i(n.Ra),n.Ra=!1))})),t.next=8,Kc(i,r,n);case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(1),t.next=14,Mr(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])}))),Zc.apply(this,arguments)}function Ic(t,e,n){var i=tr(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){var r=[];i.ma.forEach((function(t,n){var i=n.view.Q_(e);i.snapshot&&r.push(i.snapshot)})),function(t,e){var n=tr(t);n.onlineState=e;var i=!1;n.queries.forEach((function(t,n){var r,o=(0,l.Z)(n.listeners);try{for(o.s();!(r=o.n()).done;){r.value.Q_(e)&&(i=!0)}}catch(a){o.e(a)}finally{o.f()}})),i&&dc(n)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Lc(t,e,n){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){var r,o,a,s,u,l;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=tr(e)).sharedClientState.updateQueryState(n,"rejected",i),o=r.ya.get(n),!(a=o&&o.key)){t.next=14;break}return s=(s=new qr(_r.comparator)).insert(a,To.newNoDocument(a,mr.min())),u=Oa().add(a),l=new xs(mr.min(),new Map,new qr(dr),s,u),t.next=9,Mc(r,l);case 9:r.pa=r.pa.remove(a),r.ya.delete(n),Wc(r),t.next=16;break;case 14:return t.next=16,Wu(r.localStore,n,!1).then((function(){return Vc(r,n,i)})).catch(Mr);case 16:case"end":return t.stop()}}),t)}))),Nc.apply(this,arguments)}function Rc(t,e){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r,o;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=tr(e),r=n.batch.batchId,t.prev=1,t.next=4,Uu(i.localStore,n);case 4:return o=t.sent,jc(i,r,null),Uc(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),t.next=10,Kc(i,o);case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(1),t.next=16,Mr(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),Dc.apply(this,arguments)}function Pc(t,e,n){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){var r,o;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=tr(e),t.prev=1,t.next=4,function(t,e){var n=tr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var i;return n.mutationQueue.lookupMutationBatch(t,e).next((function(e){return $i(null!==e),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e)})).next((function(){return n.mutationQueue.performConsistencyCheck(t)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(t,i,e)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i)})).next((function(){return n.localDocuments.getDocuments(t,i)}))}))}(r.localStore,n);case 4:return o=t.sent,jc(r,n,i),Uc(r,n),r.sharedClientState.updateMutationState(n,"rejected",i),t.next=10,Kc(r,o);case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(1),t.next=16,Mr(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),Fc.apply(this,arguments)}function Uc(t,e){(t.ba.get(e)||[]).forEach((function(t){t.resolve()})),t.ba.delete(e)}function jc(t,e,n){var i=tr(t),r=i.Sa[i.currentUser.toKey()];if(r){var o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Vc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);var i,r=(0,l.Z)(t.fa.get(e));try{for(r.s();!(i=r.n()).done;){var o=i.value;t.ma.delete(o),n&&t.Va.Fa(o,n)}}catch(a){r.e(a)}finally{r.f()}t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach((function(e){t.wa.containsKey(e)||Bc(t,e)}))}function Bc(t,e){t.ga.delete(e.path.canonicalString());var n=t.pa.get(e);null!==n&&(bl(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Wc(t))}function zc(t,e,n){var i,r=(0,l.Z)(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;o instanceof yc?(t.wa.addReference(o.key,e),qc(t,o)):o instanceof mc?(Gi("SyncEngine","Document no longer in limbo: "+o.key),t.wa.removeReference(o.key,e),t.wa.containsKey(o.key)||Bc(t,o.key)):Ji()}}catch(a){r.e(a)}finally{r.f()}}function qc(t,e){var n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(Gi("SyncEngine","New document in limbo: "+n),t.ga.add(i),Wc(t))}function Wc(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){var e=t.ga.values().next().value;t.ga.delete(e);var n=new _r(br.fromString(e)),i=t.Da.next();t.ya.set(i,new kc(n)),t.pa=t.pa.insert(n,i),gl(t.remoteStore,new cu(aa(na(n.path)),i,"TargetPurposeLimboResolution",Nr._e))}}function Kc(t,e,n){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){var r,o,a,s;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=tr(e),o=[],a=[],s=[],t.t0=r.ma.isEmpty(),t.t0){t.next=9;break}return r.ma.forEach((function(t,e){s.push(r.va(e,n,i).then((function(t){if((t||i)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(e.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){o.push(t);var n=Iu.Qi(e.targetId,t);a.push(n)}})))})),t.next=6,Promise.all(s);case 6:return r.Va.a_(o),t.next=9,function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r,o,a,s,u,h,f;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=tr(e),t.prev=1,t.next=4,i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Ir.forEach(n,(function(e){return Ir.forEach(e.ki,(function(n){return i.persistence.referenceDelegate.addReference(t,e.targetId,n)})).next((function(){return Ir.forEach(e.qi,(function(n){return i.persistence.referenceDelegate.removeReference(t,e.targetId,n)}))}))}))}));case 4:t.next=11;break;case 6:if(t.prev=6,t.t0=t.catch(1),Lr(t.t0)){t.next=10;break}throw t.t0;case 10:Gi("LocalStore","Failed to update sequence numbers: "+t.t0);case 11:r=(0,l.Z)(n);try{for(r.s();!(o=r.n()).done;)a=o.value,s=a.targetId,a.fromCache||(u=i.ts.get(s),h=u.snapshotVersion,f=u.withLastLimboFreeSnapshotVersion(h),i.ts=i.ts.insert(s,f))}catch(c){r.e(c)}finally{r.f()}case 13:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()(r.localStore,a);case 9:case"end":return t.stop()}}),t)}))),Hc.apply(this,arguments)}function Gc(t,e){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=tr(e)).currentUser.isEqual(n)){t.next=11;break}return Gi("SyncEngine","User change. New user:",n.toKey()),t.next=5,Pu(i.localStore,n);case 5:return r=t.sent,i.currentUser=n,function(t,e){t.ba.forEach((function(t){t.forEach((function(t){t.reject(new nr(er.CANCELLED,e))}))})),t.ba.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(n,r.removedBatchIds,r.addedBatchIds),t.next=11,Kc(i,r._s);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Yc(t,e){var n=tr(t),i=n.ya.get(e);if(i&&i.Ra)return Oa().add(i.key);var r=Oa(),o=n.fa.get(e);if(!o)return r;var a,s=(0,l.Z)(o);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=n.ma.get(u);r=r.unionWith(c.view.ua)}}catch(h){s.e(h)}finally{s.f()}return r}function Xc(t){var e=tr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yc.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lc.bind(null,e),e.Va.a_=fc.bind(null,e.eventManager),e.Va.Fa=vc.bind(null,e.eventManager),e}function Jc(t){var e=tr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rc.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pc.bind(null,e),e}var $c=function(){function t(){(0,p.Z)(this,t),this.synchronizeTabs=!1}return(0,y.Z)(t,[{key:"initialize",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.serializer=al(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),t.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(t,e){return null}},{key:"createIndexBackfillerScheduler",value:function(t,e){return null}},{key:"createLocalStore",value:function(t){return Du(this.persistence,new Nu,t.initialUser,this.serializer)}},{key:"createPersistence",value:function(t){return new Au(Zu.jr,this.serializer)}},{key:"createSharedClientState",value:function(t){return new Yu}},{key:"terminate",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),t.next=3,this.sharedClientState.shutdown();case 3:return t.next=5,this.persistence.shutdown();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),th=function(){function t(){(0,p.Z)(this,t)}return(0,y.Z)(t,[{key:"initialize",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i=this;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.localStore,t.t0){t.next=12;break}return this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Ic(i.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Gc.bind(null,this.syncEngine),t.next=12,Xl(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"createEventManager",value:function(t){return new sc}},{key:"createDatastore",value:function(t){var e=al(t.databaseInfo.databaseId),n=function(t){return new rl(t)}(t.databaseInfo);return function(t,e,n,i){return new hl(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}},{key:"createRemoteStore",value:function(t){var e=this;return function(t,e,n,i,r){return new vl(t,e,n,i,r)}(this.localStore,this.datastore,t.asyncQueue,(function(t){return Ic(e.syncEngine,t,0)}),Ju.D()?new Ju:new Xu)}},{key:"createSyncEngine",value:function(t,e){return function(t,e,n,i,r,o,a){var s=new wc(t,e,n,i,r,o);return a&&(s.Ca=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}},{key:"terminate",value:function(){return function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e){var n;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=tr(e),Gi("RemoteStore","RemoteStore shutting down."),n.C_.add(5),t.next=5,yl(n);case 5:n.F_.shutdown(),n.M_.set("Unknown");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()(this.remoteStore)}}]),t}();var eh=function(){function t(e){(0,p.Z)(this,t),this.observer=e,this.muted=!1}return(0,y.Z)(t,[{key:"next",value:function(t){this.observer.next&&this.Oa(this.observer.next,t)}},{key:"error",value:function(t){this.observer.error?this.Oa(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString())}},{key:"Na",value:function(){this.muted=!0}},{key:"Oa",value:function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)}}]),t}(),nh=function(){function t(e,n,i,r){var o=this;(0,p.Z)(this,t),this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=qi.UNAUTHENTICATED,this.clientId=vr.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(i,function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Gi("FirestoreClient","Received user=",e.uid),t.next=3,o.authCredentialListener(e);case 3:o.user=e;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.appCheckCredentials.start(i,(function(t){return Gi("FirestoreClient","Received new app check token=",t),o.appCheckCredentialListener(t,o.user)}))}return(0,y.Z)(t,[{key:"getConfiguration",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(t){this.authCredentialListener=t}},{key:"setAppCheckTokenChangeListener",value:function(t){this.appCheckCredentialListener=t}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new nr(er.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,h.Z)((0,c.Z)().mark((function n(){var i;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=t._onlineComponents,!n.t0){n.next=5;break}return n.next=5,t._onlineComponents.terminate();case 5:if(n.t1=t._offlineComponents,!n.t1){n.next=9;break}return n.next=9,t._offlineComponents.terminate();case 9:t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),i=nc(n.t2,"Failed to shutdown persistence"),e.reject(i);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),e.promise}}]),t}();function ih(t,e){return rh.apply(this,arguments)}function rh(){return rh=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.asyncQueue.verifyOperationInProgress(),Gi("FirestoreClient","Initializing OfflineComponentProvider"),t.next=3,e.getConfiguration();case 3:return i=t.sent,t.next=6,n.initialize(i);case 6:r=i.initialUser,e.setCredentialChangeListener(function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=r.isEqual(e),t.t0){t.next=5;break}return t.next=4,Pu(n.localStore,e);case 4:r=e;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e._offlineComponents=n;case 8:case"end":return t.stop()}}),t)}))),rh.apply(this,arguments)}function oh(t,e){return ah.apply(this,arguments)}function ah(){return ah=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.asyncQueue.verifyOperationInProgress(),t.next=3,uh(e);case 3:return i=t.sent,Gi("FirestoreClient","Initializing OnlineComponentProvider"),t.next=7,e.getConfiguration();case 7:return r=t.sent,t.next=10,n.initialize(i,r);case 10:e.setCredentialChangeListener((function(t){return Ql(n.remoteStore,t)})),e.setAppCheckTokenChangeListener((function(t,e){return Ql(n.remoteStore,e)})),e._onlineComponents=n;case 13:case"end":return t.stop()}}),t)}))),ah.apply(this,arguments)}function sh(t){return"FirebaseError"===t.name?t.code===er.FAILED_PRECONDITION||t.code===er.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function uh(t){return lh.apply(this,arguments)}function lh(){return(lh=(0,h.Z)((0,c.Z)().mark((function t(e){var n;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._offlineComponents){t.next=21;break}if(!e._uninitializedComponentsProvider){t.next=18;break}return Gi("FirestoreClient","Using user provided OfflineComponentProvider"),t.prev=3,t.next=6,ih(e,e._uninitializedComponentsProvider._offline);case 6:t.next=16;break;case 8:if(t.prev=8,t.t0=t.catch(3),sh(n=t.t0)){t.next=13;break}throw n;case 13:return Yi("Error using user provided cache. Falling back to memory cache: "+n),t.next=16,ih(e,new $c);case 16:t.next=21;break;case 18:return Gi("FirestoreClient","Using default OfflineComponentProvider"),t.next=21,ih(e,new $c);case 21:return t.abrupt("return",e._offlineComponents);case 22:case"end":return t.stop()}}),t,null,[[3,8]])})))).apply(this,arguments)}function ch(t){return hh.apply(this,arguments)}function hh(){return(hh=(0,h.Z)((0,c.Z)().mark((function t(e){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e._onlineComponents,t.t0){t.next=11;break}if(!e._uninitializedComponentsProvider){t.next=8;break}return Gi("FirestoreClient","Using user provided OnlineComponentProvider"),t.next=6,oh(e,e._uninitializedComponentsProvider._online);case 6:t.next=11;break;case 8:return Gi("FirestoreClient","Using default OnlineComponentProvider"),t.next=11,oh(e,new th);case 11:return t.abrupt("return",e._onlineComponents);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function fh(t){return ch(t).then((function(t){return t.syncEngine}))}function vh(t){return dh.apply(this,arguments)}function dh(){return(dh=(0,h.Z)((0,c.Z)().mark((function t(e){var n,i;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ch(e);case 2:return n=t.sent,i=n.eventManager,t.abrupt("return",(i.onListen=_c.bind(null,n.syncEngine),i.onUnlisten=Tc.bind(null,n.syncEngine),i));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ph(t){var e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}var yh=new Map;function mh(t,e,n){if(!n)throw new nr(er.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function gh(t){if(!_r.isDocumentKey(t))throw new nr(er.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function bh(t){if(_r.isDocumentKey(t))throw new nr(er.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function kh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}return"function"==typeof t?"a function":Ji()}function wh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new nr(er.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=kh(t);throw new nr(er.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}return t}function _h(t,e){if(e<=0)throw new nr(er.INVALID_ARGUMENT,"Function ".concat(t,"() requires a positive number, but it was: ").concat(e,"."))}var Eh=function(){function t(e){var n,i;if((0,p.Z)(this,t),void 0===e.host){if(void 0!==e.ssl)throw new nr(er.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new nr(er.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(t,e,n,i){if(!0===e&&!0===i)throw new nr(er.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ph(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new nr(er.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new nr(er.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new nr(er.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}return(0,y.Z)(t,[{key:"isEqual",value:function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}]),t}(),xh=function(){function t(e,n,i,r){(0,p.Z)(this,t),this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eh({}),this._settingsFrozen=!1}return(0,y.Z)(t,[{key:"app",get:function(){if(!this._app)throw new nr(er.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(t){if(this._settingsFrozen)throw new nr(er.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eh(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new or;switch(t.type){case"firstParty":return new lr(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new nr(er.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(t){var e=yh.get(t);e&&(Gi("ComponentProvider","Removing Datastore"),yh.delete(t),e.terminate())}(this),Promise.resolve()}}]),t}();function Sh(t,e,n){var i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(t=wh(t,xh))._getSettings(),a="".concat(e,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&Yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){var s,u;if("string"==typeof r.mockUserToken)s=r.mockUserToken,u=qi.MOCK_USER;else{s=(0,k.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new nr(er.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new qi(l)}t._authCredentials=new ar(new rr(s,u))}}var Th=function(){function t(e,n,i){(0,p.Z)(this,t),this.converter=n,this._query=i,this.type="query",this.firestore=e}return(0,y.Z)(t,[{key:"withConverter",value:function(e){return new t(this.firestore,e,this._query)}}]),t}(),Ch=function(){function t(e,n,i){(0,p.Z)(this,t),this.converter=n,this._key=i,this.type="document",this.firestore=e}return(0,y.Z)(t,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Oh(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(e){return new t(this.firestore,e,this._key)}}]),t}(),Oh=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i,r){var o;return(0,p.Z)(this,n),(o=e.call(this,t,i,na(r)))._path=r,o.type="collection",o}return(0,y.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Ch(this.firestore,null,new _r(t))}},{key:"withConverter",value:function(t){return new n(this.firestore,t,this._path)}}]),n}(Th);function Ah(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=(0,k.m9)(t),mh("collection","path",e),t instanceof xh){var o=br.fromString.apply(br,[e].concat(i));return bh(o),new Oh(t,null,o)}if(!(t instanceof Ch||t instanceof Oh))throw new nr(er.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=t._path.child(br.fromString.apply(br,[e].concat(i)));return bh(a),new Oh(t.firestore,null,a)}var Mh=function(){function t(){var e=this;(0,p.Z)(this,t),this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new sl(this,"async_queue_retry"),this.iu=function(){var t=ol();t&&Gi("AsyncQueue","Visibility state changed to "+t.visibilityState),e.zo.Qo()};var n=ol();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.iu)}return(0,y.Z)(t,[{key:"isShuttingDown",get:function(){return this.Za}},{key:"enqueueAndForget",value:function(t){this.enqueue(t)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(t){this.su(),this.ou(t)}},{key:"enterRestrictedMode",value:function(t){if(!this.Za){this.Za=!0,this.nu=t||!1;var e=ol();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}},{key:"enqueue",value:function(t){var e=this;if(this.su(),this.Za)return new Promise((function(){}));var n=new ir;return this.ou((function(){return e.Za&&e.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(t){var e=this;this.enqueueAndForget((function(){return e.Ya.push(t),e._u()}))}},{key:"_u",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(){var e=this;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this.Ya.length){t.next=14;break}return t.prev=1,t.next=4,this.Ya[0]();case 4:this.Ya.shift(),this.zo.reset(),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(1),Lr(t.t0)){t.next=12;break}throw t.t0;case 12:Gi("AsyncQueue","Operation failed with retryable error: "+t.t0);case 13:this.Ya.length>0&&this.zo.ko((function(){return e._u()}));case 14:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"ou",value:function(t){var e=this,n=this.Ja.then((function(){return e.tu=!0,t().catch((function(t){e.eu=t,e.tu=!1;var n=function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw Qi("INTERNAL UNHANDLED ERROR: ",n),t})).then((function(t){return e.tu=!1,t}))}));return this.Ja=n,n}},{key:"enqueueAfterDelay",value:function(t,e,n){var i=this;this.su(),this.ru.indexOf(t)>-1&&(e=0);var r=ec.createAndSchedule(this,t,e,n,(function(t){return i.au(t)}));return this.Xa.push(r),r}},{key:"su",value:function(){this.eu&&Ji()}},{key:"verifyOperationInProgress",value:function(){}},{key:"uu",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(){var e;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.Ja,t.next=3,e;case 3:if(e!==this.Ja){t.next=0;break}case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"cu",value:function(t){var e,n=(0,l.Z)(this.Xa);try{for(n.s();!(e=n.n()).done;){if(e.value.timerId===t)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"lu",value:function(t){var e=this;return this.uu().then((function(){e.Xa.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));var n,i=(0,l.Z)(e.Xa);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.skipDelay(),"all"!==t&&r.timerId===t)break}}catch(o){i.e(o)}finally{i.f()}return e.uu()}))}},{key:"hu",value:function(t){this.ru.push(t)}},{key:"au",value:function(t){var e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}]),t}();function Zh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;var n,i=t,r=(0,l.Z)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o in i&&"function"==typeof i[o])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(t,["next","error","complete"])}var Ih=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i,r,o){var a;return(0,p.Z)(this,n),(a=e.call(this,t,i,r,o)).type="firestore",a._queue=new Mh,a._persistenceKey=(null==o?void 0:o.name)||"[DEFAULT]",a}return(0,y.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||Rh(this),this._firestoreClient.terminate()}}]),n}(xh);function Lh(t,e){var n="object"==typeof t?t:(0,m.Mq)(),i="string"==typeof t?t:e||"(default)",r=(0,m.qX)(n,"firestore").getImmediate({identifier:i});if(!r._initialized){var o=(0,k.P0)("firestore");o&&Sh.apply(void 0,[r].concat((0,d.Z)(o)))}return r}function Nh(t){return t._firestoreClient||Rh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Rh(t){var e,n,i,r=t._freezeSettings(),o=function(t,e,n,i){return new oo(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,ph(i.experimentalLongPollingOptions),i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new nh(t._authCredentials,t._appCheckCredentials,t._queue,o),(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Dh=function(){function t(e){(0,p.Z)(this,t),this._byteString=e}return(0,y.Z)(t,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(t){return this._byteString.isEqual(t._byteString)}}],[{key:"fromBase64String",value:function(e){try{return new t(Xr.fromBase64String(e))}catch(e){throw new nr(er.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}},{key:"fromUint8Array",value:function(e){return new t(Xr.fromUint8Array(e))}}]),t}(),Ph=function(){function t(){(0,p.Z)(this,t);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0;r<n.length;++r)if(0===n[r].length)throw new nr(er.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(n)}return(0,y.Z)(t,[{key:"isEqual",value:function(t){return this._internalPath.isEqual(t._internalPath)}}]),t}();var Fh=(0,y.Z)((function t(e){(0,p.Z)(this,t),this._methodName=e})),Uh=function(){function t(e,n){if((0,p.Z)(this,t),!isFinite(e)||e<-90||e>90)throw new nr(er.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new nr(er.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return(0,y.Z)(t,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(t){return this._lat===t._lat&&this._long===t._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(t){return dr(this._lat,t._lat)||dr(this._long,t._long)}}]),t}(),jh=/^__.*__$/,Vh=function(){function t(e,n,i){(0,p.Z)(this,t),this.data=e,this.fieldMask=n,this.fieldTransforms=i}return(0,y.Z)(t,[{key:"toMutation",value:function(t,e){return null!==this.fieldMask?new is(t,this.data,this.fieldMask,e,this.fieldTransforms):new ns(t,this.data,e,this.fieldTransforms)}}]),t}();function Bh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ji()}}var zh=function(){function t(e,n,i,r,o,a){(0,p.Z)(this,t),this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return(0,y.Z)(t,[{key:"path",get:function(){return this.settings.path}},{key:"Iu",get:function(){return this.settings.Iu}},{key:"Tu",value:function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Eu",value:function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Tu({path:n,du:!1});return i.Au(t),i}},{key:"Ru",value:function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Tu({path:n,du:!1});return i.Pu(),i}},{key:"Vu",value:function(t){return this.Tu({path:void 0,du:!0})}},{key:"mu",value:function(t){return nf(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}},{key:"contains",value:function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))}},{key:"Pu",value:function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Au(this.path.get(t))}},{key:"Au",value:function(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(Bh(this.Iu)&&jh.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}]),t}(),qh=function(){function t(e,n,i){(0,p.Z)(this,t),this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||al(e)}return(0,y.Z)(t,[{key:"pu",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new zh({Iu:t,methodName:e,gu:n,path:wr.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),t}();function Wh(t){var e=t._freezeSettings(),n=al(t._databaseId);return new qh(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kh(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=t.pu(o.merge||o.mergeFields?2:0,e,n,r);Jh("Data must be an object, but it was:",a,i);var s,u,c=Yh(i,a);if(o.merge)s=new Qr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){var h,f=[],v=(0,l.Z)(o.mergeFields);try{for(v.s();!(h=v.n()).done;){var d=$h(e,h.value,n);if(!a.contains(d))throw new nr(er.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));rf(f,d)||f.push(d)}}catch(p){v.e(p)}finally{v.f()}s=new Qr(f),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new Vh(new xo(c),s,u)}var Hh=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(){return(0,p.Z)(this,n),e.apply(this,arguments)}return(0,y.Z)(n,[{key:"_toFieldTransform",value:function(t){return new Ka(t.path,new Fa)}},{key:"isEqual",value:function(t){return t instanceof n}}]),n}(Fh);function Gh(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Qh(n,t.pu(i?4:3,e))}function Qh(t,e){if(Xh(t=(0,k.m9)(t)))return Jh("Unsupported field value:",e,t),Yh(t,e);if(t instanceof Fh)return function(t,e){if(!Bh(e.Iu))throw e.mu("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e.mu("".concat(t._methodName,"() is not currently supported inside arrays"));var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(t,e){var n,i=[],r=0,o=(0,l.Z)(t);try{for(o.s();!(n=o.n()).done;){var a=Qh(n.value,e.Vu(r));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),r++}}catch(s){o.e(s)}finally{o.f()}return{arrayValue:{values:i}}}(t,e)}return function(t,e){if(null===(t=(0,k.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return La(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=yr.fromDate(t);return{timestampValue:Fs(e.serializer,n)}}if(t instanceof yr){var i=new yr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Fs(e.serializer,i)}}if(t instanceof Uh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Dh)return{bytesValue:Us(e.serializer,t._byteString)};if(t instanceof Ch){var r=e.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw e.mu("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(r.projectId,"/").concat(r.database));return{referenceValue:Bs(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.mu("Unsupported field value: ".concat(kh(t)))}(t,e)}function Yh(t,e){var n={};return zr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Br(t,(function(t,i){var r=Qh(i,e.Eu(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function Xh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof yr||t instanceof Uh||t instanceof Dh||t instanceof Ch||t instanceof Fh)}function Jh(t,e,n){if(!Xh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var i=kh(n);throw"an object"===i?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function $h(t,e,n){if((e=(0,k.m9)(e))instanceof Ph)return e._internalPath;if("string"==typeof e)return ef(t,e);throw nf("Field path arguments must be of type string or ",t,!1,void 0,n)}var tf=new RegExp("[~\\*/\\[\\]]");function ef(t,e,n){if(e.search(tf)>=0)throw nf("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return(0,r.Z)(Ph,(0,d.Z)(e.split(".")))._internalPath}catch(L){throw nf("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function nf(t,e,n,i,r){var o=i&&!i.isEmpty(),a=void 0!==r,s="Function ".concat(e,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field ".concat(i)),a&&(u+=" in document ".concat(r)),u+=")"),new nr(er.INVALID_ARGUMENT,s+t+u)}function rf(t,e){return t.some((function(t){return t.isEqual(e)}))}var of=function(){function t(e,n,i,r,o){(0,p.Z)(this,t),this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}return(0,y.Z)(t,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Ch(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var t=new af(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(t){if(this._document){var e=this._document.data.field(sf("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}]),t}(),af=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(){return(0,p.Z)(this,n),e.apply(this,arguments)}return(0,y.Z)(n,[{key:"data",value:function(){return(0,o.Z)((0,a.Z)(n.prototype),"data",this).call(this)}}]),n}(of);function sf(t,e){return"string"==typeof e?ef(t,e):e instanceof Ph?e._internalPath:e._delegate._internalPath}function uf(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new nr(er.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lf=(0,y.Z)((function t(){(0,p.Z)(this,t)})),cf=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(){return(0,p.Z)(this,n),e.apply(this,arguments)}return(0,y.Z)(n)}(lf);function hf(t,e){for(var n=[],i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e instanceof lf&&n.push(e),function(t){var e=t.filter((function(t){return t instanceof vf})).length,n=t.filter((function(t){return t instanceof ff})).length;if(e>1||e>0&&n>0)throw new nr(er.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(r));var a,s=(0,l.Z)(n);try{for(s.s();!(a=s.n()).done;){t=a.value._apply(t)}}catch(u){s.e(u)}finally{s.f()}return t}var ff=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i,r){var o;return(0,p.Z)(this,n),(o=e.call(this))._field=t,o._op=i,o._value=r,o.type="where",o}return(0,y.Z)(n,[{key:"_apply",value:function(t){var e=this._parse(t);return Ef(t._query,e),new Th(t.firestore,t.converter,ua(t._query,e))}},{key:"_parse",value:function(t){var e=Wh(t.firestore),n=function(t,e,n,i,r,o,a){var s;if(r.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new nr(er.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){_f(a,o);var u,c=[],h=(0,l.Z)(a);try{for(h.s();!(u=h.n()).done;){var f=u.value;c.push(wf(i,t,f))}}catch(v){h.e(v)}finally{h.f()}s={arrayValue:{values:c}}}else s=wf(i,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||_f(a,o),s=Gh(n,e,a,"in"===o||"not-in"===o);return Lo.create(r,o,s)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(t,e,i){return new n(t,e,i)}}]),n}(cf);var vf=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this)).type=t,r._queryConstraints=i,r}return(0,y.Z)(n,[{key:"_parse",value:function(t){var e=this._queryConstraints.map((function(e){return e._parse(t)})).filter((function(t){return t.getFilters().length>0}));return 1===e.length?e[0]:No.create(e,this._getOperator())}},{key:"_apply",value:function(t){var e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){var n,i=t,r=e.getFlattenedFilters(),o=(0,l.Z)(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;Ef(i,a),i=ua(i,a)}}catch(s){o.e(s)}finally{o.f()}}(t._query,e),new Th(t.firestore,t.converter,ua(t._query,e)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(t,e){return new n(t,e)}}]),n}(lf);var df=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this))._field=t,r._direction=i,r.type="orderBy",r}return(0,y.Z)(n,[{key:"_apply",value:function(t){var e=function(t,e,n){if(null!==t.startAt)throw new nr(er.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new nr(er.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mo(e,n)}(t._query,this._field,this._direction);return new Th(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new ta(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}],[{key:"_create",value:function(t,e){return new n(t,e)}}]),n}(cf);function pf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=sf("orderBy",t);return df._create(n,e)}var yf=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i,r){var o;return(0,p.Z)(this,n),(o=e.call(this)).type=t,o._limit=i,o._limitType=r,o}return(0,y.Z)(n,[{key:"_apply",value:function(t){return new Th(t.firestore,t.converter,la(t._query,this._limit,this._limitType))}}],[{key:"_create",value:function(t,e,i){return new n(t,e,i)}}]),n}(cf);function mf(t){return _h("limit",t),yf._create("limit",t,"F")}var gf=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i,r){var o;return(0,p.Z)(this,n),(o=e.call(this)).type=t,o._docOrFields=i,o._inclusive=r,o}return(0,y.Z)(n,[{key:"_apply",value:function(t){var e=kf(t,this.type,this._docOrFields,this._inclusive);return new Th(t.firestore,t.converter,function(t,e){return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))}}],[{key:"_create",value:function(t,e,i){return new n(t,e,i)}}]),n}(cf);function bf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return gf._create("startAfter",e,!1)}function kf(t,e,n,i){if(n[0]=(0,k.m9)(n[0]),n[0]instanceof of)return function(t,e,n,i,r){if(!i)throw new nr(er.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var o,a=[],s=(0,l.Z)(oa(t));try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u.field.isKeyField())a.push(yo(e,i.key));else{var c=i.data.field(u.field);if(no(c))throw new nr(er.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.canonicalString();throw new nr(er.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(h,"' (used as the orderBy) does not exist."))}a.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Co(a,r)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var r=Wh(t.firestore);return function(t,e,n,i,r,o){var a=t.explicitOrderBy;if(r.length>a.length)throw new nr(er.INVALID_ARGUMENT,"Too many arguments provided to ".concat(i,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<r.length;u++){var l=r[u];if(a[u].field.isKeyField()){if("string"!=typeof l)throw new nr(er.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(i,"(), but got a ").concat(typeof l));if(!ra(t)&&-1!==l.indexOf("/"))throw new nr(er.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(i,"() must be a plain document ID, but '").concat(l,"' contains a slash."));var c=t.path.child(br.fromString(l));if(!_r.isDocumentKey(c))throw new nr(er.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(i,"() must result in a valid document path, but '").concat(c,"' is not because it contains an odd number of segments."));var h=new _r(c);s.push(yo(e,h))}else{var f=Gh(n,i,l);s.push(f)}}return new Co(s,o)}(t._query,t.firestore._databaseId,r,e,n,i)}function wf(t,e,n){if("string"==typeof(n=(0,k.m9)(n))){if(""===n)throw new nr(er.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ra(e)&&-1!==n.indexOf("/"))throw new nr(er.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var i=e.path.child(br.fromString(n));if(!_r.isDocumentKey(i))throw new nr(er.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return yo(t,new _r(i))}if(n instanceof Ch)return yo(t,n._key);throw new nr(er.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(kh(n),"."))}function _f(t,e){if(!Array.isArray(t)||0===t.length)throw new nr(er.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function Ef(t,e){var n=function(t,e){var n,i=(0,l.Z)(t);try{for(i.s();!(n=i.n()).done;){var r,o=n.value,a=(0,l.Z)(o.getFlattenedFilters());try{for(a.s();!(r=a.n()).done;){var s=r.value;if(e.indexOf(s.op)>=0)return s.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){i.e(u)}finally{i.f()}return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new nr(er.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new nr(er.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var xf=function(){function t(){(0,p.Z)(this,t)}return(0,y.Z)(t,[{key:"convertValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(uo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return to(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(eo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ji()}}},{key:"convertObject",value:function(t,e){return this.convertObjectMap(t.fields,e)}},{key:"convertObjectMap",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",i={};return Br(t,(function(t,r){i[t]=e.convertValue(r,n)})),i}},{key:"convertGeoPoint",value:function(t){return new Uh(to(t.latitude),to(t.longitude))}},{key:"convertArray",value:function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))}},{key:"convertServerTimestamp",value:function(t,e){switch(e){case"previous":var n=io(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ro(t));default:return null}}},{key:"convertTimestamp",value:function(t){var e=$r(t);return new yr(e.seconds,e.nanos)}},{key:"convertDocumentKey",value:function(t,e){var n=br.fromString(t);$i(lu(n));var i=new ao(n.get(1),n.get(3)),r=new _r(n.popFirst(5));return i.isEqual(e)||Qi("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),r}}]),t}();function Sf(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Tf=function(){function t(e,n){(0,p.Z)(this,t),this.hasPendingWrites=e,this.fromCache=n}return(0,y.Z)(t,[{key:"isEqual",value:function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}]),t}(),Cf=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t,i,r,o,a,s){var u;return(0,p.Z)(this,n),(u=e.call(this,t,i,r,o,s))._firestore=t,u._firestoreImpl=t,u.metadata=a,u}return(0,y.Z)(n,[{key:"exists",value:function(){return(0,o.Z)((0,a.Z)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var e=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(sf("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}]),n}(of),Of=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(){return(0,p.Z)(this,n),e.apply(this,arguments)}return(0,y.Z)(n,[{key:"data",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.Z)((0,a.Z)(n.prototype),"data",this).call(this,t)}}]),n}(Cf),Af=function(){function t(e,n,i,r){(0,p.Z)(this,t),this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Tf(r.hasPendingWrites,r.fromCache),this.query=i}return(0,y.Z)(t,[{key:"docs",get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(t,e){var n=this;this._snapshot.docs.forEach((function(i){t.call(e,new Of(n._firestore,n._userDataWriter,i.key,i,new Tf(n._snapshot.mutatedKeys.has(i.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nr(er.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var i=new Of(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Tf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:n++}}))}var i=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Of(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Tf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),r=-1,o=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:Mf(e.type),doc:n,oldIndex:r,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),t}();function Mf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ji()}}var Zf=function(t){(0,f.Z)(n,t);var e=(0,v.Z)(n);function n(t){var i;return(0,p.Z)(this,n),(i=e.call(this)).firestore=t,i}return(0,y.Z)(n,[{key:"convertBytes",value:function(t){return new Dh(t)}},{key:"convertReference",value:function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ch(this.firestore,null,e)}}]),n}(xf);function If(t,e){var n=wh(t.firestore,Ih),i=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=(0,k.m9)(t),1===arguments.length&&(e=vr.newId()),mh("doc","path",e),t instanceof xh){var o=br.fromString.apply(br,[e].concat(i));return gh(o),new Ch(t,null,new _r(o))}if(!(t instanceof Ch||t instanceof Oh))throw new nr(er.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=t._path.child(br.fromString.apply(br,[e].concat(i)));return gh(a),new Ch(t.firestore,t instanceof Oh?t.converter:null,new _r(a))}(t),r=Sf(t.converter,e);return Nf(n,[Kh(Wh(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,Ga.exists(!1))]).then((function(){return i}))}function Lf(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r,o,a;t=(0,k.m9)(t);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Zh(n[u])||(s=n[u],u++);var l,f,v,d={includeMetadataChanges:s.includeMetadataChanges};if(Zh(n[u])){var p=n[u];n[u]=null===(r=p.next)||void 0===r?void 0:r.bind(p),n[u+1]=null===(o=p.error)||void 0===o?void 0:o.bind(p),n[u+2]=null===(a=p.complete)||void 0===a?void 0:a.bind(p)}if(t instanceof Ch)f=wh(t.firestore,Ih),v=na(t._key.path),l={next:function(e){n[u]&&n[u](Rf(f,t,e))},error:n[u+1],complete:n[u+2]};else{var y=wh(t,Th);f=wh(y.firestore,Ih),v=y._query;var m=new Zf(f);l={next:function(t){n[u]&&n[u](new Af(f,m,y,t))},error:n[u+1],complete:n[u+2]},uf(t._query)}return function(t,e,n,i){var r=new eh(i),o=new pc(e,r,n);return t.asyncQueue.enqueueAndForget((0,h.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=uc,e.next=3,vh(t);case 3:return e.t1=e.sent,e.t2=o,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))),function(){r.Na(),t.asyncQueue.enqueueAndForget((0,h.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=cc,e.next=3,vh(t);case 3:return e.t1=e.sent,e.t2=o,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)}))))}}(Nh(f),v,d,l)}function Nf(t,e){return function(t,e){var n=new ir;return t.asyncQueue.enqueueAndForget((0,h.Z)((0,c.Z)().mark((function i(){return(0,c.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=Oc,i.next=3,fh(t);case 3:return i.t1=i.sent,i.t2=e,i.t3=n,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3));case 7:case"end":return i.stop()}}),i)})))),n.promise}(Nh(t),e)}function Rf(t,e,n){var i=n.docs.get(e._key),r=new Zf(t);return new Cf(t,r,e._key,i,new Tf(n.hasPendingWrites,n.fromCache),e.converter)}function Df(){return new Hh("serverTimestamp")}new WeakMap;!function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){Wi=t}(m.Jn),(0,m.Xd)(new g.wA("firestore",(function(t,n){var i=n.instanceIdentifier,r=n.options,o=t.getProvider("app").getImmediate(),a=new Ih(new sr(t.getProvider("auth-internal")),new hr(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new nr(er.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(t.options.projectId,e)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a}),"PUBLIC").setMultipleInstances(!0)),(0,m.KN)(zi,"4.3.2",t),(0,m.KN)(zi,"4.3.2","esm2017")}()},63:function(t,e,n){"use strict";n.d(e,{Mr:function(){return Wn},rM:function(){return bt},C2:function(){return Dr}});var i=n(9439),r=n(1752),o=n(1120),a=n(7762),s=n(7326),u=n(136),l=n(7277),c=n(3433),h=n(5671),f=n(3144);function v(t){var e=t.width,n=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:n}}function d(t,e){return t.width===e.width&&t.height===e.height}var p=function(){function t(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){var e=this,n={next:t};return this._observers.push(n),{unsubscribe:function(){e._observers=e._observers.filter((function(t){return t!==n}))}}},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach((function(e){return e.next(t._window.devicePixelRatio)})),this._reinstallResolutionListener()},t}();var y=function(){function t(t,e,n){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=v({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!==e&&void 0!==e?e:function(t){return t},this._allowResizeObserver=null===(i=null===n||void 0===n?void 0:n.allowResizeObserver)||void 0===i||i,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var t,e;if(null===this._canvasElement)throw new Error("Object is disposed");null===(t=this._canvasElementResizeObserver)||void 0===t||t.disconnect(),this._canvasElementResizeObserver=null,null===(e=this._devicePixelRatioObservable)||void 0===e||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return v({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=v(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter((function(e){return e!==t}))},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter((function(e){return e!==t}))},t.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(t){var e=this.bitmapSize;d(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},t.prototype._emitBitmapSizeChanged=function(t,e){var n=this;this._bitmapSizeChangedListeners.forEach((function(i){return i.call(n,t,e)}))},t.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,n=v(this._transformBitmapSize(t,this._canvasElementClientSize)),i=d(this.bitmapSize,n)?null:n;null===e&&null===i||null!==e&&null!==i&&d(e,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(e,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var n=this;this._suggestedBitmapSizeChangedListeners.forEach((function(i){return i.call(n,t,e)}))},t.prototype._chooseAndInitObserver=function(){var t=this;this._allowResizeObserver?new Promise((function(t){var e=new ResizeObserver((function(n){t(n.every((function(t){return"devicePixelContentBoxSize"in t}))),e.disconnect()}));e.observe(document.body,{box:"device-pixel-content-box"})})).catch((function(){return!1})).then((function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})):this._initDevicePixelRatioObservable()},t.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var e=m(this._canvasElement);if(null===e)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(t){return new p(t)}(e),this._devicePixelRatioObservable.subscribe((function(){return t._invalidateBitmapSize()})),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var t,e;if(null!==this._canvasElement){var n=m(this._canvasElement);if(null!==n){var i=null!==(e=null===(t=this._devicePixelRatioObservable)||void 0===t?void 0:t.value)&&void 0!==e?e:n.devicePixelRatio,r=this._canvasElement.getClientRects(),o=void 0!==r[0]?function(t,e){return v({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}(r[0],i):v({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver((function(e){var n=e.find((function(e){return e.target===t._canvasElement}));if(n&&n.devicePixelContentBoxSize&&n.devicePixelContentBoxSize[0]){var i=n.devicePixelContentBoxSize[0],r=v({width:i.inlineSize,height:i.blockSize});t._suggestNewBitmapSize(r)}})),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function m(t){return t.ownerDocument.defaultView}var g=function(){function t(t,e,n){if(0===e.width||0===e.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,0===n.width||0===n.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=t}return t.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function b(t,e){var n=t.canvasElementClientSize;if(0===n.width||0===n.height)return null;var i=t.bitmapSize;if(0===i.width||0===i.height)return null;var r=t.canvasElement.getContext("2d",e);return null===r?null:new g(r,n,i)}var k,w,_,E={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},x={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},S={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},T={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},C={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},O={color:"#26a69a",base:0},A={color:"#2196f3"},M={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};function Z(t,e){var n={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(n)}function I(t,e,n,i){t.beginPath();var r=t.lineWidth%2?.5:0;t.moveTo(n,e+r),t.lineTo(i,e+r),t.stroke()}function L(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function N(t){if(void 0===t)throw new Error("Value is undefined");return t}function R(t){if(null===t)throw new Error("Value is null");return t}function D(t){return R(N(t))}(_=k||(k={}))[_.Simple=0]="Simple",_[_.WithSteps=1]="WithSteps",_[_.Curved=2]="Curved",function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(w||(w={}));var P={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function F(t){return t<0?0:t>255?255:Math.round(t)||0}function U(t){return t<=0||t>0?t<0?0:t>1?1:Math.round(1e4*t)/1e4:0}var j=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,V=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,B=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,z=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function q(t){(t=t.toLowerCase())in P&&(t=P[t]);var e=z.exec(t)||B.exec(t);if(e)return[F(parseInt(e[1],10)),F(parseInt(e[2],10)),F(parseInt(e[3],10)),U(e.length<5?1:parseFloat(e[4]))];var n=V.exec(t);if(n)return[F(parseInt(n[1],16)),F(parseInt(n[2],16)),F(parseInt(n[3],16)),1];var i=j.exec(t);if(i)return[F(17*parseInt(i[1],16)),F(17*parseInt(i[2],16)),F(17*parseInt(i[3],16)),1];throw new Error("Cannot parse color: ".concat(t))}function W(t){var e,n=q(t);return{t:"rgb(".concat(n[0],", ").concat(n[1],", ").concat(n[2],")"),i:(e=n,.199*e[0]+.687*e[1]+.114*e[2]>160?"black":"white")}}var K=function(){function t(){(0,h.Z)(this,t),this.h=[]}return(0,f.Z)(t,[{key:"l",value:function(t,e,n){var i={o:t,_:e,u:!0===n};this.h.push(i)}},{key:"v",value:function(t){var e=this.h.findIndex((function(e){return t===e.o}));e>-1&&this.h.splice(e,1)}},{key:"p",value:function(t){this.h=this.h.filter((function(e){return e._!==t}))}},{key:"m",value:function(t,e,n){var i=(0,c.Z)(this.h);this.h=this.h.filter((function(t){return!t.u})),i.forEach((function(i){return i.o(t,e,n)}))}},{key:"M",value:function(){return this.h.length>0}},{key:"S",value:function(){this.h=[]}}]),t}();function H(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];for(var s in a)void 0!==a[s]&&("object"!=typeof a[s]||void 0===t[s]||Array.isArray(a[s])?t[s]=a[s]:H(t[s],a[s]))}return t}function G(t){return"number"==typeof t&&isFinite(t)}function Q(t){return"number"==typeof t&&t%1==0}function Y(t){return"string"==typeof t}function X(t){return"boolean"==typeof t}function J(t){var e,n,i,r=t;if(!r||"object"!=typeof r)return r;for(n in e=Array.isArray(r)?[]:{},r)r.hasOwnProperty(n)&&(i=r[n],e[n]=i&&"object"==typeof i?J(i):i);return e}function $(t){return null!==t}function tt(t){return null===t?void 0:t}var et="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function nt(t,e,n){return void 0===e&&(e=et),"".concat(n=void 0!==n?"".concat(n," "):"").concat(t,"px ").concat(e)}var it=function(){function t(e){(0,h.Z)(this,t),this.k={C:1,T:5,P:NaN,R:"",D:"",O:"",A:"",V:0,B:0,I:0,L:0,N:0},this.F=e}return(0,f.Z)(t,[{key:"W",value:function(){var t=this.k,e=this.j(),n=this.H();return t.P===e&&t.D===n||(t.P=e,t.D=n,t.R=nt(e,n),t.L=2.5/12*e,t.V=t.L,t.B=e/12*t.T,t.I=e/12*t.T,t.N=0),t.O=this.$(),t.A=this.U(),this.k}},{key:"$",value:function(){return this.F.W().layout.textColor}},{key:"U",value:function(){return this.F.q()}},{key:"j",value:function(){return this.F.W().layout.fontSize}},{key:"H",value:function(){return this.F.W().layout.fontFamily}}]),t}(),rt=function(){function t(){(0,h.Z)(this,t),this.Y=[]}return(0,f.Z)(t,[{key:"X",value:function(t){this.Y=t}},{key:"K",value:function(t,e,n){this.Y.forEach((function(i){i.K(t,e,n)}))}}]),t}(),ot=function(){function t(){(0,h.Z)(this,t)}return(0,f.Z)(t,[{key:"K",value:function(t,e,n){var i=this;t.useMediaCoordinateSpace((function(t){return i.Z(t,e,n)}))}},{key:"G",value:function(t,e,n){var i=this;t.useMediaCoordinateSpace((function(t){return i.J(t,e,n)}))}},{key:"J",value:function(t,e,n){}}]),t}(),at=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).tt=null,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.tt=t}},{key:"Z",value:function(t){var e=t.context;if(null!==this.tt&&null!==this.tt.nt){var n=this.tt.nt,i=this.tt,r=function(t){e.beginPath();for(var r=n.to-1;r>=n.from;--r){var o=i.st[r];e.moveTo(o.et,o.rt),e.arc(o.et,o.rt,t,0,2*Math.PI)}e.fill()};i.ht>0&&(e.fillStyle=i.lt,r(i.ot+i.ht)),e.fillStyle=i._t,r(i.ot)}}}]),n}(ot);function st(){return{st:[{et:0,rt:0,ut:0,ct:0}],_t:"",lt:"",ot:0,ht:0,nt:null}}var ut={from:0,to:1},lt=function(){function t(e,n){(0,h.Z)(this,t),this.dt=new rt,this.ft=[],this.vt=[],this.bt=!0,this.F=e,this.wt=n,this.dt.X(this.ft)}return(0,f.Z)(t,[{key:"gt",value:function(t){var e=this.F.Mt();e.length!==this.ft.length&&(this.vt=e.map(st),this.ft=this.vt.map((function(t){var e=new at;return e.it(t),e})),this.dt.X(this.ft)),this.bt=!0}},{key:"xt",value:function(){return this.bt&&(this.St(),this.bt=!1),this.dt}},{key:"St",value:function(){var t=this,e=2===this.wt.W().mode,n=this.F.Mt(),i=this.wt.kt(),r=this.F.yt();n.forEach((function(n,o){var a,s=t.vt[o],u=n.Ct(i);if(!e&&null!==u&&n.Tt()){var l=R(n.Pt());s._t=u.Rt,s.ot=u.ot,s.ht=u.Dt,s.st[0].ct=u.ct,s.st[0].rt=n.At().Ot(u.ct,l.Vt),s.lt=null!==(a=u.Bt)&&void 0!==a?a:t.F.It(s.st[0].rt/n.At().zt()),s.st[0].ut=i,s.st[0].et=r.Et(i),s.nt=ut}else s.nt=null}))}}]),t}(),ct=function(){function t(){(0,h.Z)(this,t)}return(0,f.Z)(t,[{key:"K",value:function(t,e,n){var i=this;t.useBitmapCoordinateSpace((function(t){return i.Z(t,e,n)}))}}]),t}(),ht=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var i;return(0,h.Z)(this,n),(i=e.call(this)).Lt=t,i}return(0,f.Z)(n,[{key:"Z",value:function(t){var e=t.context,n=t.bitmapSize,i=t.horizontalPixelRatio,r=t.verticalPixelRatio;if(null!==this.Lt){var o=this.Lt.Nt.Tt,a=this.Lt.Ft.Tt;if(o||a){var s=Math.round(this.Lt.et*i),u=Math.round(this.Lt.rt*r);e.lineCap="butt",o&&s>=0&&(e.lineWidth=Math.floor(this.Lt.Nt.ht*i),e.strokeStyle=this.Lt.Nt.O,e.fillStyle=this.Lt.Nt.O,Z(e,this.Lt.Nt.Wt),function(t,e,n,i){t.beginPath();var r=t.lineWidth%2?.5:0;t.moveTo(e+r,0),t.lineTo(e+r,i),t.stroke()}(e,s,0,n.height)),a&&u>=0&&(e.lineWidth=Math.floor(this.Lt.Ft.ht*r),e.strokeStyle=this.Lt.Ft.O,e.fillStyle=this.Lt.Ft.O,Z(e,this.Lt.Ft.Wt),I(e,u,0,n.width))}}}}]),n}(ct),ft=function(){function t(e){(0,h.Z)(this,t),this.bt=!0,this.jt={Nt:{ht:1,Wt:0,O:"",Tt:!1},Ft:{ht:1,Wt:0,O:"",Tt:!1},et:0,rt:0},this.Ht=new ht(this.jt),this.$t=e}return(0,f.Z)(t,[{key:"gt",value:function(){this.bt=!0}},{key:"xt",value:function(){return this.bt&&(this.St(),this.bt=!1),this.Ht}},{key:"St",value:function(){var t=this.$t.Tt(),e=R(this.$t.Ut()),n=e.qt().W().crosshair,i=this.jt;if(2===n.mode)return i.Ft.Tt=!1,void(i.Nt.Tt=!1);i.Ft.Tt=t&&this.$t.Yt(e),i.Nt.Tt=t&&this.$t.Xt(),i.Ft.ht=n.horzLine.width,i.Ft.Wt=n.horzLine.style,i.Ft.O=n.horzLine.color,i.Nt.ht=n.vertLine.width,i.Nt.Wt=n.vertLine.style,i.Nt.O=n.vertLine.color,i.et=this.$t.Kt(),i.rt=this.$t.Zt()}}]),t}();function vt(t,e,n,i,r,o){t.fillRect(e+o,n,i-2*o,o),t.fillRect(e+o,n+r-o,i-2*o,o),t.fillRect(e,n,o,r),t.fillRect(e+i-o,n,o,r)}function dt(t,e,n,i,r,o){t.save(),t.globalCompositeOperation="copy",t.fillStyle=o,t.fillRect(e,n,i,r),t.restore()}function pt(t,e){return t.map((function(t){return 0===t?t:t+e}))}function yt(t,e,n,i,r,o){t.beginPath(),t.lineTo(e+i-o[1],n),0!==o[1]&&t.arcTo(e+i,n,e+i,n+o[1],o[1]),t.lineTo(e+i,n+r-o[2]),0!==o[2]&&t.arcTo(e+i,n+r,e+i-o[2],n+r,o[2]),t.lineTo(e+o[3],n+r),0!==o[3]&&t.arcTo(e,n+r,e,n+r-o[3],o[3]),t.lineTo(e,n+o[0]),0!==o[0]&&t.arcTo(e,n,e+o[0],n,o[0])}function mt(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[0,0,0,0],u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"";if(t.save(),!a||!u||u===o)return yt(t,e,n,i,r,s),t.fillStyle=o,t.fill(),void t.restore();var l=a/2;"transparent"!==o&&(yt(t,e+a,n+a,i-2*a,r-2*a,pt(s,-a)),t.fillStyle=o,t.fill()),"transparent"!==u&&(yt(t,e+l,n+l,i-a,r-a,pt(s,-l)),t.lineWidth=a,t.strokeStyle=u,t.closePath(),t.stroke()),t.restore()}function gt(t,e,n,i,r,o,a){t.save(),t.globalCompositeOperation="copy";var s=t.createLinearGradient(0,0,0,r);s.addColorStop(0,o),s.addColorStop(1,a),t.fillStyle=s,t.fillRect(e,n,i,r),t.restore()}var bt,kt=function(){function t(e,n){(0,h.Z)(this,t),this.it(e,n)}return(0,f.Z)(t,[{key:"it",value:function(t,e){this.Lt=t,this.Gt=e}},{key:"zt",value:function(t,e){return this.Lt.Tt?t.P+t.L+t.V:0}},{key:"K",value:function(t,e,n,i){var r=this;if(this.Lt.Tt&&0!==this.Lt.Jt.length){var o=this.Lt.O,a=this.Gt.t,s=t.useBitmapCoordinateSpace((function(t){var s=t.context;s.font=e.R;var u=r.Qt(t,e,n,i),l=u.ti,c=function(t,e){u.ii?mt(s,l.ni,l.si,l.ei,l.ri,t,l.hi,[l.ot,0,0,l.ot],e):mt(s,l.li,l.si,l.ei,l.ri,t,l.hi,[0,l.ot,l.ot,0],e)};return c(a,"transparent"),r.Lt.ai&&(s.fillStyle=o,s.fillRect(l.li,l.oi,l._i-l.li,l.ui)),c("transparent",a),r.Lt.ci&&(s.fillStyle=e.A,s.fillRect(u.ii?l.di-l.hi:0,l.si,l.hi,l.fi-l.si)),u}));t.useMediaCoordinateSpace((function(t){var n=t.context,i=s.vi;n.font=e.R,n.textAlign=s.ii?"right":"left",n.textBaseline="middle",n.fillStyle=o,n.fillText(r.Lt.Jt,i.pi,(i.si+i.fi)/2+i.mi)}))}}},{key:"Qt",value:function(t,e,n,i){var r,o=t.context,a=t.bitmapSize,s=t.mediaSize,u=t.horizontalPixelRatio,l=t.verticalPixelRatio,c=this.Lt.ai||!this.Lt.bi?e.T:0,h=this.Lt.wi?e.C:0,f=e.L+this.Gt.gi,v=e.V+this.Gt.Mi,d=e.B,p=e.I,y=this.Lt.Jt,m=e.P,g=n.xi(o,y),b=Math.ceil(n.Si(o,y)),k=m+f+v,w=e.C+d+p+b+c,_=Math.max(1,Math.floor(l)),E=Math.round(k*l);E%2!=_%2&&(E+=1);var x,S,T,C=h>0?Math.max(1,Math.floor(h*u)):0,O=Math.round(w*u),A=Math.round(c*u),M=null!==(r=this.Gt.ki)&&void 0!==r?r:this.Gt.yi,Z=Math.round(M*l)-Math.floor(.5*l),I=Math.floor(Z+_/2-E/2),L=I+E,N="right"===i,R=N?s.width-h:h,D=N?a.width-C:C;return N?(x=D-O,S=D-A,T=R-c-d-h):(x=D+O,S=D+A,T=R+c+d),{ii:N,ti:{si:I,oi:Z,fi:L,ei:O,ri:E,ot:2*u,hi:C,ni:x,li:D,_i:S,ui:_,di:a.width},vi:{si:I/l,fi:L/l,pi:T,mi:g}}}}]),t}(),wt=function(){function t(e){(0,h.Z)(this,t),this.Ci={yi:0,t:"#000",Mi:0,gi:0},this.Ti={Jt:"",Tt:!1,ai:!0,bi:!1,Bt:"",O:"#FFF",ci:!1,wi:!1},this.Pi={Jt:"",Tt:!1,ai:!1,bi:!0,Bt:"",O:"#FFF",ci:!0,wi:!0},this.bt=!0,this.Ri=new(e||kt)(this.Ti,this.Ci),this.Di=new(e||kt)(this.Pi,this.Ci)}return(0,f.Z)(t,[{key:"Jt",value:function(){return this.Oi(),this.Ti.Jt}},{key:"yi",value:function(){return this.Oi(),this.Ci.yi}},{key:"gt",value:function(){this.bt=!0}},{key:"zt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.max(this.Ri.zt(t,e),this.Di.zt(t,e))}},{key:"Ai",value:function(){return this.Ci.ki||0}},{key:"Vi",value:function(t){this.Ci.ki=t}},{key:"Bi",value:function(){return this.Oi(),this.Ti.Tt||this.Pi.Tt}},{key:"Ii",value:function(){return this.Oi(),this.Ti.Tt}},{key:"xt",value:function(t){return this.Oi(),this.Ti.ai=this.Ti.ai&&t.W().ticksVisible,this.Pi.ai=this.Pi.ai&&t.W().ticksVisible,this.Ri.it(this.Ti,this.Ci),this.Di.it(this.Pi,this.Ci),this.Ri}},{key:"zi",value:function(){return this.Oi(),this.Ri.it(this.Ti,this.Ci),this.Di.it(this.Pi,this.Ci),this.Di}},{key:"Oi",value:function(){this.bt&&(this.Ti.ai=!0,this.Pi.ai=!1,this.Ei(this.Ti,this.Pi,this.Ci))}}]),t}(),_t=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i,r){var o;return(0,h.Z)(this,n),(o=e.call(this)).$t=t,o.Li=i,o.Ni=r,o}return(0,f.Z)(n,[{key:"Ei",value:function(t,e,n){if(t.Tt=!1,2!==this.$t.W().mode){var i=this.$t.W().horzLine;if(i.labelVisible){var r=this.Li.Pt();if(this.$t.Tt()&&!this.Li.Fi()&&null!==r){var o=W(i.labelBackgroundColor);n.t=o.t,t.O=o.i;var a=2/12*this.Li.P();n.gi=a,n.Mi=a;var s=this.Ni(this.Li);n.yi=s.yi,t.Jt=this.Li.Wi(s.ct,r),t.Tt=!0}}}}}]),n}(wt),Et=/[1-9]/g,xt=function(){function t(){(0,h.Z)(this,t),this.Lt=null}return(0,f.Z)(t,[{key:"it",value:function(t){this.Lt=t}},{key:"K",value:function(t,e){var n=this;if(null!==this.Lt&&!1!==this.Lt.Tt&&0!==this.Lt.Jt.length){var i=t.useMediaCoordinateSpace((function(t){var i=t.context;return i.font=e.R,Math.round(e.ji.Si(i,R(n.Lt).Jt,Et))}));if(!(i<=0)){var r=e.Hi,o=i+2*r,a=o/2,s=this.Lt.$i,u=this.Lt.yi,l=Math.floor(u-a)+.5;l<0?(u+=Math.abs(0-l),l=Math.floor(u-a)+.5):l+o>s&&(u-=Math.abs(s-(l+o)),l=Math.floor(u-a)+.5);var c=l+o,h=Math.ceil(0+e.C+e.T+e.L+e.P+e.V);t.useBitmapCoordinateSpace((function(t){var i=t.context,r=t.horizontalPixelRatio,o=t.verticalPixelRatio,a=R(n.Lt);i.fillStyle=a.t;var s=Math.round(l*r),u=Math.round(0*o),f=Math.round(c*r),v=Math.round(h*o),d=Math.round(2*r);if(i.beginPath(),i.moveTo(s,u),i.lineTo(s,v-d),i.arcTo(s,v,s+d,v,d),i.lineTo(f-d,v),i.arcTo(f,v,f,v-d,d),i.lineTo(f,u),i.fill(),a.ai){var p=Math.round(a.yi*r),y=u,m=Math.round((y+e.T)*o);i.fillStyle=a.O;var g=Math.max(1,Math.floor(r)),b=Math.floor(.5*r);i.fillRect(p-b,y,g,m-y)}})),t.useMediaCoordinateSpace((function(t){var i=t.context,o=R(n.Lt),a=0+e.C+e.T+e.L+e.P/2;i.font=e.R,i.textAlign="left",i.textBaseline="middle",i.fillStyle=o.O;var s=e.ji.xi(i,"Apr0");i.translate(l+r,a+s),i.fillText(o.Jt,0,0)}))}}}}]),t}(),St=function(){function t(e,n,i){(0,h.Z)(this,t),this.bt=!0,this.Ht=new xt,this.jt={Tt:!1,t:"#4c525e",O:"white",Jt:"",$i:0,yi:NaN,ai:!0},this.wt=e,this.Ui=n,this.Ni=i}return(0,f.Z)(t,[{key:"gt",value:function(){this.bt=!0}},{key:"xt",value:function(){return this.bt&&(this.St(),this.bt=!1),this.Ht.it(this.jt),this.Ht}},{key:"St",value:function(){var t=this.jt;if(t.Tt=!1,2!==this.wt.W().mode){var e=this.wt.W().vertLine;if(e.labelVisible){var n=this.Ui.yt();if(!n.Fi()){t.$i=n.$i();var i=this.Ni();if(null!==i){t.yi=i.yi;var r=n.qi(this.wt.kt());t.Jt=n.Yi(R(r)),t.Tt=!0;var o=W(e.labelBackgroundColor);t.t=o.t,t.O=o.i,t.ai=n.W().ticksVisible}}}}}}]),t}(),Tt=function(){function t(){(0,h.Z)(this,t),this.Xi=null,this.Ki=0}return(0,f.Z)(t,[{key:"Zi",value:function(){return this.Ki}},{key:"Gi",value:function(t){this.Ki=t}},{key:"At",value:function(){return this.Xi}},{key:"Ji",value:function(t){this.Xi=t}},{key:"Qi",value:function(t){return[]}},{key:"tn",value:function(){return[]}},{key:"Tt",value:function(){return!0}}]),t}();!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"}(bt||(bt={}));var Ct=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){var r;(0,h.Z)(this,n),(r=e.call(this)).nn=null,r.sn=NaN,r.en=0,r.rn=!0,r.hn=new Map,r.ln=!1,r.an=NaN,r.on=NaN,r._n=NaN,r.un=NaN,r.Ui=t,r.cn=i,r.dn=new lt(t,(0,s.Z)(r)),r.fn=function(t){var e=r.on,n=r.sn;if(t===R(r.nn).vn())return{ct:n,yi:e};var i=R(t.Pt());return{ct:t.pn(e,i),yi:e}};var o=function(){var t=r.Ui.yt().mn(r.en),e=r.Kt();return t&&Number.isFinite(e)?{ut:t,yi:e}:null};return r.bn=new St((0,s.Z)(r),t,o),r.wn=new ft((0,s.Z)(r)),r}return(0,f.Z)(n,[{key:"W",value:function(){return this.cn}},{key:"gn",value:function(t,e){this._n=t,this.un=e}},{key:"Mn",value:function(){this._n=NaN,this.un=NaN}},{key:"xn",value:function(){return this._n}},{key:"Sn",value:function(){return this.un}},{key:"kn",value:function(t,e,n){this.ln||(this.ln=!0),this.rn=!0,this.yn(t,e,n)}},{key:"kt",value:function(){return this.en}},{key:"Kt",value:function(){return this.an}},{key:"Zt",value:function(){return this.on}},{key:"Tt",value:function(){return this.rn}},{key:"Cn",value:function(){this.rn=!1,this.Tn(),this.sn=NaN,this.an=NaN,this.on=NaN,this.nn=null,this.Mn()}},{key:"Pn",value:function(t){return null!==this.nn?[this.wn,this.dn]:[]}},{key:"Yt",value:function(t){return t===this.nn&&this.cn.horzLine.visible}},{key:"Xt",value:function(){return this.cn.vertLine.visible}},{key:"Rn",value:function(t,e){this.rn&&this.nn===t||this.hn.clear();var n=[];return this.nn===t&&n.push(this.Dn(this.hn,e,this.fn)),n}},{key:"tn",value:function(){return this.rn?[this.bn]:[]}},{key:"Ut",value:function(){return this.nn}},{key:"On",value:function(){this.wn.gt(),this.hn.forEach((function(t){return t.gt()})),this.bn.gt(),this.dn.gt()}},{key:"An",value:function(t){return t&&!t.vn().Fi()?t.vn():null}},{key:"yn",value:function(t,e,n){this.Vn(t,e,n)&&this.On()}},{key:"Vn",value:function(t,e,n){var i=this.an,r=this.on,o=this.sn,a=this.en,s=this.nn,u=this.An(n);this.en=t,this.an=isNaN(t)?NaN:this.Ui.yt().Et(t),this.nn=n;var l=null!==u?u.Pt():null;return null!==u&&null!==l?(this.sn=e,this.on=u.Ot(e,l)):(this.sn=NaN,this.on=NaN),i!==this.an||r!==this.on||a!==this.en||o!==this.sn||s!==this.nn}},{key:"Tn",value:function(){var t=this.Ui.Mt().map((function(t){return t.In().Bn()})).filter($),e=0===t.length?null:Math.max.apply(Math,(0,c.Z)(t));this.en=null!==e?e:NaN}},{key:"Dn",value:function(t,e,n){var i=t.get(e);return void 0===i&&(i=new _t(this,e,n),t.set(e,i)),i}}]),n}(Tt);function Ot(t){return"left"===t||"right"===t}var At=function(){function t(e){(0,h.Z)(this,t),this.zn=new Map,this.En=[],this.Ln=e}return(0,f.Z)(t,[{key:"Nn",value:function(t,e){var n=function(t,e){return void 0===t?e:{Fn:Math.max(t.Fn,e.Fn),Wn:t.Wn||e.Wn}}(this.zn.get(t),e);this.zn.set(t,n)}},{key:"jn",value:function(){return this.Ln}},{key:"Hn",value:function(t){var e=this.zn.get(t);return void 0===e?{Fn:this.Ln}:{Fn:Math.max(this.Ln,e.Fn),Wn:e.Wn}}},{key:"$n",value:function(){this.Un(),this.En=[{qn:0}]}},{key:"Yn",value:function(t){this.Un(),this.En=[{qn:1,Vt:t}]}},{key:"Xn",value:function(t){this.Kn(),this.En.push({qn:5,Vt:t})}},{key:"Un",value:function(){this.Kn(),this.En.push({qn:6})}},{key:"Zn",value:function(){this.Un(),this.En=[{qn:4}]}},{key:"Gn",value:function(t){this.Un(),this.En.push({qn:2,Vt:t})}},{key:"Jn",value:function(t){this.Un(),this.En.push({qn:3,Vt:t})}},{key:"Qn",value:function(){return this.En}},{key:"ts",value:function(t){var e,n=this,i=(0,a.Z)(t.En);try{for(i.s();!(e=i.n()).done;){var r=e.value;this.ns(r)}}catch(o){i.e(o)}finally{i.f()}this.Ln=Math.max(this.Ln,t.Ln),t.zn.forEach((function(t,e){n.Nn(e,t)}))}},{key:"ns",value:function(t){switch(t.qn){case 0:this.$n();break;case 1:this.Yn(t.Vt);break;case 2:this.Gn(t.Vt);break;case 3:this.Jn(t.Vt);break;case 4:this.Zn();break;case 5:this.Xn(t.Vt);break;case 6:this.Kn()}}},{key:"Kn",value:function(){var t=this.En.findIndex((function(t){return 5===t.qn}));-1!==t&&this.En.splice(t,1)}}],[{key:"ss",value:function(){return new t(2)}},{key:"es",value:function(){return new t(3)}}]),t}();function Mt(t,e){if(!G(t))return"n/a";if(!Q(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}var Zt=function(){function t(e,n){if((0,h.Z)(this,t),n||(n=1),G(e)&&Q(e)||(e=100),e<0)throw new TypeError("invalid base");this.Li=e,this.rs=n,this.hs()}return(0,f.Z)(t,[{key:"format",value:function(t){var e=t<0?"\u2212":"";return t=Math.abs(t),e+this.ls(t)}},{key:"hs",value:function(){if(this.os=0,this.Li>0&&this.rs>0)for(var t=this.Li;t>1;)t/=10,this.os++}},{key:"ls",value:function(t){var e=this.Li/this.rs,n=Math.floor(t),i="",r=void 0!==this.os?this.os:NaN;if(e>1){var o=+(Math.round(t*e)-n*e).toFixed(this.os);o>=e&&(o-=e,n+=1),i="."+Mt(+o.toFixed(this.os)*this.rs,r)}else n=Math.round(n*e)/e,r>0&&(i="."+Mt(0,r));return n.toFixed(0)+i}}]),t}(),It=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return(0,h.Z)(this,n),e.call(this,t)}return(0,f.Z)(n,[{key:"format",value:function(t){return"".concat((0,r.Z)((0,o.Z)(n.prototype),"format",this).call(this,t),"%")}}]),n}(Zt),Lt=function(){function t(e){(0,h.Z)(this,t),this._s=e}return(0,f.Z)(t,[{key:"format",value:function(t){var e="";return t<0&&(e="-",t=-t),t<995?e+this.us(t):t<999995?e+this.us(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.us(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.us(t/1e9)+"B")}},{key:"us",value:function(t){var e=Math.pow(10,this._s);return((t=Math.round(t*e)/e)>=1e-15&&t<1?t.toFixed(this._s).replace(/\.?0+$/,""):String(t)).replace(/(\.[1-9]*)0+$/,(function(t,e){return e}))}}]),t}();function Nt(t,e,n,r,o,a,s){if(!(0===e.length||r.from>=e.length||r.to<=0)){var u=t.context,l=t.horizontalPixelRatio,c=t.verticalPixelRatio,h=e[r.from],f=a(t,h),v=h;if(r.to-r.from<2){var d=o/2;u.beginPath();var p={et:h.et-d,rt:h.rt},y={et:h.et+d,rt:h.rt};u.moveTo(p.et*l,p.rt*c),u.lineTo(y.et*l,y.rt*c),s(t,f,p,y)}else{var m=function(e,n){s(t,f,v,n),u.beginPath(),f=e,v=n},g=v;u.beginPath(),u.moveTo(h.et*l,h.rt*c);for(var b=r.from+1;b<r.to;++b){g=e[b];var k=a(t,g);switch(n){case 0:u.lineTo(g.et*l,g.rt*c);break;case 1:u.lineTo(g.et*l,e[b-1].rt*c),k!==f&&(m(k,g),u.lineTo(g.et*l,e[b-1].rt*c)),u.lineTo(g.et*l,g.rt*c);break;case 2:var w=Ft(e,b-1,b),_=(0,i.Z)(w,2),E=_[0],x=_[1];u.bezierCurveTo(E.et*l,E.rt*c,x.et*l,x.rt*c,g.et*l,g.rt*c)}1!==n&&k!==f&&(m(k,g),u.moveTo(g.et*l,g.rt*c))}(v!==g||v===g&&1===n)&&s(t,f,v,g)}}}var Rt=6;function Dt(t,e){return{et:t.et-e.et,rt:t.rt-e.rt}}function Pt(t,e){return{et:t.et/e,rt:t.rt/e}}function Ft(t,e,n){var i,r,o=Math.max(0,e-1),a=Math.min(t.length-1,n+1);return[(i=t[e],r=Pt(Dt(t[n],t[o]),Rt),{et:i.et+r.et,rt:i.rt+r.rt}),Dt(t[n],Pt(Dt(t[a],t[e]),Rt))]}function Ut(t,e,n,i,r){var o=e.context,a=e.horizontalPixelRatio,s=e.verticalPixelRatio;o.lineTo(r.et*a,t*s),o.lineTo(i.et*a,t*s),o.closePath(),o.fillStyle=n,o.fill()}var jt=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).tt=null,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.tt=t}},{key:"Z",value:function(t){var e;if(null!==this.tt){var n=this.tt,i=n.st,r=n.nt,o=n.cs,a=n.ht,s=n.Wt,u=n.ds,l=null!==(e=this.tt.fs)&&void 0!==e?e:this.tt.vs?0:t.mediaSize.height;if(null!==r){var c=t.context;c.lineCap="butt",c.lineJoin="round",c.lineWidth=a,Z(c,s),c.lineWidth=1,Nt(t,i,u,r,o,this.ps.bind(this),Ut.bind(null,l))}}}}]),n}(ct);function Vt(t,e,n){return Math.min(Math.max(t,e),n)}function Bt(t,e,n){return e-t<=n}function zt(t){var e=Math.ceil(t);return e%2==0?e-1:e}var qt=function(){function t(){(0,h.Z)(this,t)}return(0,f.Z)(t,[{key:"bs",value:function(t,e){var n=this.ws,i=e.gs,r=e.Ms,o=e.xs,a=e.Ss,s=e.ks,u=e.fs;if(void 0===this.ys||void 0===n||n.gs!==i||n.Ms!==r||n.xs!==o||n.Ss!==a||n.fs!==u||n.ks!==s){var l=t.context.createLinearGradient(0,0,0,s);if(l.addColorStop(0,i),null!=u){var c=Vt(u*t.verticalPixelRatio/s,0,1);l.addColorStop(c,r),l.addColorStop(c,o)}l.addColorStop(1,a),this.ys=l,this.ws=e}return this.ys}}]),t}(),Wt=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Cs=new qt,t}return(0,f.Z)(n,[{key:"ps",value:function(t,e){return this.Cs.bs(t,{gs:e.Ts,Ms:"",xs:"",Ss:e.Ps,ks:t.bitmapSize.height})}}]),n}(jt);function Kt(t,e){var n=t.context;n.strokeStyle=e,n.stroke()}var Ht=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).tt=null,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.tt=t}},{key:"Z",value:function(t){if(null!==this.tt){var e=this.tt,n=e.st,i=e.nt,r=e.cs,o=e.ds,a=e.ht,s=e.Wt,u=e.Rs;if(null!==i){var l=t.context;l.lineCap="butt",l.lineWidth=a*t.verticalPixelRatio,Z(l,s),l.lineJoin="round";var c=this.Ds.bind(this);void 0!==o&&Nt(t,n,o,i,r,c,Kt),u&&function(t,e,n,i,r){for(var o=t.horizontalPixelRatio,a=t.verticalPixelRatio,s=t.context,u=null,l=Math.max(1,Math.floor(o))%2/2,c=n*a+l,h=i.to-1;h>=i.from;--h){var f=e[h];if(f){var v=r(t,f);v!==u&&(s.beginPath(),null!==u&&s.fill(),s.fillStyle=v,u=v);var d=Math.round(f.et*o)+l,p=f.rt*a;s.moveTo(d,p),s.arc(d,p,c,0,2*Math.PI)}}s.fill()}(t,n,u,i,c)}}}}]),n}(ct),Gt=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){return(0,h.Z)(this,n),e.apply(this,arguments)}return(0,f.Z)(n,[{key:"Ds",value:function(t,e){return e._t}}]),n}(Ht);function Qt(t,e,n,i){for(var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=(arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length)-r;0<o;){var a=o>>1,s=r+a;i(e[s],n)===t?(r=s+1,o-=a+1):o=a}return r}var Yt=Qt.bind(null,!0),Xt=Qt.bind(null,!1);function Jt(t,e){return t.ut<e}function $t(t,e){return e<t.ut}function te(t,e,n){var i=e.Os(),r=e.di(),o=Yt(t,i,Jt),a=Xt(t,r,$t);if(!n)return{from:o,to:a};var s=o,u=a;return o>0&&o<t.length&&t[o].ut>=i&&(s=o-1),a>0&&a<t.length&&t[a-1].ut<=r&&(u=a+1),{from:s,to:u}}var ee=function(){function t(e,n,i){(0,h.Z)(this,t),this.As=!0,this.Vs=!0,this.Bs=!0,this.Is=[],this.zs=null,this.Es=e,this.Ls=n,this.Ns=i}return(0,f.Z)(t,[{key:"gt",value:function(t){this.As=!0,"data"===t&&(this.Vs=!0),"options"===t&&(this.Bs=!0)}},{key:"xt",value:function(){return this.Es.Tt()?(this.Fs(),null===this.zs?null:this.Ws):null}},{key:"js",value:function(){var t=this;this.Is=this.Is.map((function(e){return Object.assign(Object.assign({},e),t.Es.$s().Hs(e.ut))}))}},{key:"Us",value:function(){this.zs=null}},{key:"Fs",value:function(){this.Vs&&(this.qs(),this.Vs=!1),this.Bs&&(this.js(),this.Bs=!1),this.As&&(this.Ys(),this.As=!1)}},{key:"Ys",value:function(){var t=this.Es.At(),e=this.Ls.yt();if(this.Us(),!e.Fi()&&!t.Fi()){var n=e.Xs();if(null!==n&&0!==this.Es.In().Ks()){var i=this.Es.Pt();null!==i&&(this.zs=te(this.Is,n,this.Ns),this.Zs(t,e,i.Vt),this.Gs())}}}}]),t}(),ne=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){return(0,h.Z)(this,n),e.call(this,t,i,!0)}return(0,f.Z)(n,[{key:"Zs",value:function(t,e,n){e.Js(this.Is,tt(this.zs)),t.Qs(this.Is,n,tt(this.zs))}},{key:"te",value:function(t,e){return{ut:t,ct:e,et:NaN,rt:NaN}}},{key:"qs",value:function(){var t=this,e=this.Es.$s();this.Is=this.Es.In().ie().map((function(n){var i=n.Vt[3];return t.ne(n.se,i,e)}))}}]),n}(ee),ie=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){var r;return(0,h.Z)(this,n),(r=e.call(this,t,i)).Ws=new rt,r.ee=new Wt,r.re=new Gt,r.Ws.X([r.ee,r.re]),r}return(0,f.Z)(n,[{key:"ne",value:function(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}},{key:"Gs",value:function(){var t=this.Es.W();this.ee.it({ds:t.lineType,st:this.Is,Wt:t.lineStyle,ht:t.lineWidth,fs:null,vs:t.invertFilledArea,nt:this.zs,cs:this.Ls.yt().he()}),this.re.it({ds:t.lineVisible?t.lineType:void 0,st:this.Is,Wt:t.lineStyle,ht:t.lineWidth,nt:this.zs,cs:this.Ls.yt().he(),Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}]),n}(ne),re=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Lt=null,t.le=0,t.ae=0,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.Lt=t}},{key:"Z",value:function(t){var e=t.context,n=t.horizontalPixelRatio,i=t.verticalPixelRatio;if(null!==this.Lt&&0!==this.Lt.In.length&&null!==this.Lt.nt){this.le=this.oe(n),this.le>=2&&Math.max(1,Math.floor(n))%2!=this.le%2&&this.le--,this.ae=this.Lt._e?Math.min(this.le,Math.floor(n)):this.le;for(var r=null,o=this.ae<=this.le&&this.Lt.he>=Math.floor(1.5*n),a=this.Lt.nt.from;a<this.Lt.nt.to;++a){var s=this.Lt.In[a];r!==s.ue&&(e.fillStyle=s.ue,r=s.ue);var u=Math.floor(.5*this.ae),l=Math.round(s.et*n),c=l-u,h=this.ae,f=c+h-1,v=Math.min(s.ce,s.de),d=Math.max(s.ce,s.de),p=Math.round(v*i)-u,y=Math.round(d*i)+u,m=Math.max(y-p,this.ae);e.fillRect(c,p,h,m);var g=Math.ceil(1.5*this.le);if(o){if(this.Lt.fe){var b=l-g,k=Math.max(p,Math.round(s.ve*i)-u),w=k+h-1;w>p+m-1&&(k=(w=p+m-1)-h+1),e.fillRect(b,k,c-b,w-k+1)}var _=l+g,E=Math.max(p,Math.round(s.pe*i)-u),x=E+h-1;x>p+m-1&&(E=(x=p+m-1)-h+1),e.fillRect(f+1,E,_-f,x-E+1)}}}}},{key:"oe",value:function(t){var e=Math.floor(t);return Math.max(e,Math.floor(function(t,e){return Math.floor(.3*t*e)}(R(this.Lt).he,t)))}}]),n}(ct),oe=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){return(0,h.Z)(this,n),e.call(this,t,i,!1)}return(0,f.Z)(n,[{key:"Zs",value:function(t,e,n){e.Js(this.Is,tt(this.zs)),t.me(this.Is,n,tt(this.zs))}},{key:"be",value:function(t,e,n){return{ut:t,we:e.Vt[0],ge:e.Vt[1],Me:e.Vt[2],xe:e.Vt[3],et:NaN,ve:NaN,ce:NaN,de:NaN,pe:NaN}}},{key:"qs",value:function(){var t=this,e=this.Es.$s();this.Is=this.Es.In().ie().map((function(n){return t.ne(n.se,n,e)}))}}]),n}(ee),ae=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Ws=new re,t}return(0,f.Z)(n,[{key:"ne",value:function(t,e,n){return Object.assign(Object.assign({},this.be(t,e,n)),n.Hs(t))}},{key:"Gs",value:function(){var t=this.Es.W();this.Ws.it({In:this.Is,he:this.Ls.yt().he(),fe:t.openVisible,_e:t.thinBars,nt:this.zs})}}]),n}(oe),se=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Cs=new qt,t}return(0,f.Z)(n,[{key:"ps",value:function(t,e){var n=this.tt;return this.Cs.bs(t,{gs:e.Se,Ms:e.ke,xs:e.ye,Ss:e.Ce,ks:t.bitmapSize.height,fs:n.fs})}}]),n}(jt),ue=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Te=new qt,t}return(0,f.Z)(n,[{key:"Ds",value:function(t,e){var n=this.tt;return this.Te.bs(t,{gs:e.Pe,Ms:e.Pe,xs:e.Re,Ss:e.Re,ks:t.bitmapSize.height,fs:n.fs})}}]),n}(Ht),le=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){var r;return(0,h.Z)(this,n),(r=e.call(this,t,i)).Ws=new rt,r.De=new se,r.Oe=new ue,r.Ws.X([r.De,r.Oe]),r}return(0,f.Z)(n,[{key:"ne",value:function(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}},{key:"Gs",value:function(){var t=this.Es.Pt();if(null!==t){var e=this.Es.W(),n=this.Es.At().Ot(e.baseValue.price,t.Vt),i=this.Ls.yt().he();this.De.it({st:this.Is,ht:e.lineWidth,Wt:e.lineStyle,ds:e.lineType,fs:n,vs:!1,nt:this.zs,cs:i}),this.Oe.it({st:this.Is,ht:e.lineWidth,Wt:e.lineStyle,ds:e.lineVisible?e.lineType:void 0,Rs:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,fs:n,nt:this.zs,cs:i})}}}]),n}(ne),ce=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Lt=null,t.le=0,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.Lt=t}},{key:"Z",value:function(t){if(null!==this.Lt&&0!==this.Lt.In.length&&null!==this.Lt.nt){var e=t.horizontalPixelRatio;this.le=function(t,e){if(t>=2.5&&t<=4)return Math.floor(3*e);var n=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),i=Math.floor(t*n*e),r=Math.floor(t*e),o=Math.min(i,r);return Math.max(Math.floor(e),o)}(this.Lt.he,e),this.le>=2&&Math.floor(e)%2!=this.le%2&&this.le--;var n=this.Lt.In;this.Lt.Ae&&this.Ve(t,n,this.Lt.nt),this.Lt.ci&&this.Be(t,n,this.Lt.nt);var i=this.Ie(e);(!this.Lt.ci||this.le>2*i)&&this.ze(t,n,this.Lt.nt)}}},{key:"Ve",value:function(t,e,n){if(null!==this.Lt){var i=t.context,r=t.horizontalPixelRatio,o=t.verticalPixelRatio,a="",s=Math.min(Math.floor(r),Math.floor(this.Lt.he*r));s=Math.max(Math.floor(r),Math.min(s,this.le));for(var u=Math.floor(.5*s),l=null,c=n.from;c<n.to;c++){var h=e[c];h.Ee!==a&&(i.fillStyle=h.Ee,a=h.Ee);var f=Math.round(Math.min(h.ve,h.pe)*o),v=Math.round(Math.max(h.ve,h.pe)*o),d=Math.round(h.ce*o),p=Math.round(h.de*o),y=Math.round(r*h.et)-u,m=y+s-1;null!==l&&(y=Math.max(l+1,y),y=Math.min(y,m));var g=m-y+1;i.fillRect(y,d,g,f-d),i.fillRect(y,v+1,g,p-v),l=m}}}},{key:"Ie",value:function(t){var e=Math.floor(1*t);this.le<=2*e&&(e=Math.floor(.5*(this.le-1)));var n=Math.max(Math.floor(t),e);return this.le<=2*n?Math.max(Math.floor(t),Math.floor(1*t)):n}},{key:"Be",value:function(t,e,n){if(null!==this.Lt)for(var i=t.context,r=t.horizontalPixelRatio,o=t.verticalPixelRatio,a="",s=this.Ie(r),u=null,l=n.from;l<n.to;l++){var c=e[l];c.Le!==a&&(i.fillStyle=c.Le,a=c.Le);var h=Math.round(c.et*r)-Math.floor(.5*this.le),f=h+this.le-1,v=Math.round(Math.min(c.ve,c.pe)*o),d=Math.round(Math.max(c.ve,c.pe)*o);if(null!==u&&(h=Math.max(u+1,h),h=Math.min(h,f)),this.Lt.he*r>2*s)vt(i,h,v,f-h+1,d-v+1,s);else{var p=f-h+1;i.fillRect(h,v,p,d-v+1)}u=f}}},{key:"ze",value:function(t,e,n){if(null!==this.Lt)for(var i=t.context,r=t.horizontalPixelRatio,o=t.verticalPixelRatio,a="",s=this.Ie(r),u=n.from;u<n.to;u++){var l=e[u],c=Math.round(Math.min(l.ve,l.pe)*o),h=Math.round(Math.max(l.ve,l.pe)*o),f=Math.round(l.et*r)-Math.floor(.5*this.le),v=f+this.le-1;if(l.ue!==a){var d=l.ue;i.fillStyle=d,a=d}this.Lt.ci&&(f+=s,c+=s,v-=s,h-=s),c>h||i.fillRect(f,c,v-f+1,h-c+1)}}}]),n}(ct),he=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Ws=new ce,t}return(0,f.Z)(n,[{key:"ne",value:function(t,e,n){return Object.assign(Object.assign({},this.be(t,e,n)),n.Hs(t))}},{key:"Gs",value:function(){var t=this.Es.W();this.Ws.it({In:this.Is,he:this.Ls.yt().he(),Ae:t.wickVisible,ci:t.borderVisible,nt:this.zs})}}]),n}(oe),fe=function(){function t(e,n){(0,h.Z)(this,t),this.Ne=e,this.Li=n}return(0,f.Z)(t,[{key:"K",value:function(t,e,n){this.Ne.draw(t,this.Li,e,n)}}]),t}(),ve=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i,r){var o;return(0,h.Z)(this,n),(o=e.call(this,t,i,!1)).wn=r,o.Ws=new fe(o.wn.renderer(),(function(e){var n=t.Pt();return null===n?null:t.At().Ot(e,n.Vt)})),o}return(0,f.Z)(n,[{key:"Fe",value:function(t){return this.wn.priceValueBuilder(t)}},{key:"We",value:function(t){return this.wn.isWhitespace(t)}},{key:"qs",value:function(){var t=this.Es.$s();this.Is=this.Es.In().ie().map((function(e){return Object.assign(Object.assign({ut:e.se,et:NaN},t.Hs(e.se)),{je:e.He})}))}},{key:"Zs",value:function(t,e){e.Js(this.Is,tt(this.zs))}},{key:"Gs",value:function(){this.wn.update({bars:this.Is.map(de),barSpacing:this.Ls.yt().he(),visibleRange:this.zs},this.Es.W())}}]),n}(ee);function de(t){return{x:t.et,time:t.ut,originalData:t.je,barColor:t.ue}}var pe=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Lt=null,t.$e=[],t}return(0,f.Z)(n,[{key:"it",value:function(t){this.Lt=t,this.$e=[]}},{key:"Z",value:function(t){var e=t.context,n=t.horizontalPixelRatio,i=t.verticalPixelRatio;if(null!==this.Lt&&0!==this.Lt.st.length&&null!==this.Lt.nt){this.$e.length||this.Ue(n);for(var r=Math.max(1,Math.floor(i)),o=Math.round(this.Lt.qe*i)-Math.floor(r/2),a=o+r,s=this.Lt.nt.from;s<this.Lt.nt.to;s++){var u=this.Lt.st[s],l=this.$e[s-this.Lt.nt.from],c=Math.round(u.rt*i),h=void 0,f=void 0;e.fillStyle=u.ue,c<=o?(h=c,f=a):(h=o,f=c-Math.floor(r/2)+r),e.fillRect(l.Os,h,l.di-l.Os+1,f-h)}}}},{key:"Ue",value:function(t){if(null!==this.Lt&&0!==this.Lt.st.length&&null!==this.Lt.nt){var e=Math.ceil(this.Lt.he*t)<=1?0:Math.max(1,Math.floor(t)),n=Math.round(this.Lt.he*t)-e;this.$e=new Array(this.Lt.nt.to-this.Lt.nt.from);for(var i=this.Lt.nt.from;i<this.Lt.nt.to;i++){var r=this.Lt.st[i],o=Math.round(r.et*t),a=void 0,s=void 0;if(n%2){var u=(n-1)/2;a=o-u,s=o+u}else{var l=n/2;a=o-l,s=o+l-1}this.$e[i-this.Lt.nt.from]={Os:a,di:s,Ye:o,Xe:r.et*t,ut:r.ut}}for(var c=this.Lt.nt.from+1;c<this.Lt.nt.to;c++){var h=this.$e[c-this.Lt.nt.from],f=this.$e[c-this.Lt.nt.from-1];h.ut===f.ut+1&&h.Os-f.di!==e+1&&(f.Ye>f.Xe?f.di=h.Os-e-1:h.Os=f.di+e+1)}for(var v=Math.ceil(this.Lt.he*t),d=this.Lt.nt.from;d<this.Lt.nt.to;d++){var p=this.$e[d-this.Lt.nt.from];p.di<p.Os&&(p.di=p.Os);var y=p.di-p.Os+1;v=Math.min(y,v)}if(e>0&&v<4)for(var m=this.Lt.nt.from;m<this.Lt.nt.to;m++){var g=this.$e[m-this.Lt.nt.from];g.di-g.Os+1>v&&(g.Ye>g.Xe?g.di-=1:g.Os+=1)}}else this.$e=[]}}]),n}(ct),ye=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Ws=new pe,t}return(0,f.Z)(n,[{key:"ne",value:function(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}},{key:"Gs",value:function(){var t={st:this.Is,he:this.Ls.yt().he(),nt:this.zs,qe:this.Es.At().Ot(this.Es.W().base,R(this.Es.Pt()).Vt)};this.Ws.it(t)}}]),n}(ne),me=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Ws=new Gt,t}return(0,f.Z)(n,[{key:"ne",value:function(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}},{key:"Gs",value:function(){var t=this.Es.W(),e={st:this.Is,Wt:t.lineStyle,ds:t.lineVisible?t.lineType:void 0,ht:t.lineWidth,Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,nt:this.zs,cs:this.Ls.yt().he()};this.Ws.it(e)}}]),n}(ne),ge=/[2-9]/g,be=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;(0,h.Z)(this,t),this.Ke=0,this.Ze=1,this.Ge=1,this.Je={},this.Qe=new Map,this.tr=e}return(0,f.Z)(t,[{key:"ir",value:function(){this.Ke=0,this.Qe.clear(),this.Ze=1,this.Ge=1,this.Je={}}},{key:"Si",value:function(t,e,n){return this.nr(t,e,n).width}},{key:"xi",value:function(t,e,n){var i=this.nr(t,e,n);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}},{key:"nr",value:function(t,e,n){var i=n||ge,r=String(e).replace(i,"0");if(this.Qe.has(r))return N(this.Qe.get(r)).sr;if(this.Ke===this.tr){var o=this.Je[this.Ge];delete this.Je[this.Ge],this.Qe.delete(o),this.Ge++,this.Ke--}t.save(),t.textBaseline="middle";var a=t.measureText(r);return t.restore(),0===a.width&&e.length||(this.Qe.set(r,{sr:a,er:this.Ze}),this.Je[this.Ze]=r,this.Ke++,this.Ze++),a}}]),t}(),ke=function(){function t(e){(0,h.Z)(this,t),this.rr=null,this.k=null,this.hr="right",this.lr=e}return(0,f.Z)(t,[{key:"ar",value:function(t,e,n){this.rr=t,this.k=e,this.hr=n}},{key:"K",value:function(t){null!==this.k&&null!==this.rr&&this.rr.K(t,this.k,this.lr,this.hr)}}]),t}(),we=function(){function t(e,n,i){(0,h.Z)(this,t),this._r=e,this.lr=new be(50),this.ur=n,this.F=i,this.j=-1,this.Ht=new ke(this.lr)}return(0,f.Z)(t,[{key:"xt",value:function(){var t=this.F.cr(this.ur);if(null===t)return null;var e=t.dr(this.ur)?t.vr():this.ur.At();if(null===e)return null;var n=t.pr(e);if("overlay"===n)return null;var i=this.F.mr();return i.P!==this.j&&(this.j=i.P,this.lr.ir()),this.Ht.ar(this._r.zi(),i,n),this.Ht}}]),t}(),_e=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Lt=null,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.Lt=t}},{key:"br",value:function(t,e){var n;if(!(null===(n=this.Lt)||void 0===n?void 0:n.Tt))return null;var i=this.Lt,r=i.rt,o=i.ht,a=i.wr;return e>=r-o-7&&e<=r+o+7?{gr:this.Lt,wr:a}:null}},{key:"Z",value:function(t){var e=t.context,n=t.bitmapSize,i=t.horizontalPixelRatio,r=t.verticalPixelRatio;if(null!==this.Lt&&!1!==this.Lt.Tt){var o=Math.round(this.Lt.rt*r);o<0||o>n.height||(e.lineCap="butt",e.strokeStyle=this.Lt.O,e.lineWidth=Math.floor(this.Lt.ht*i),Z(e,this.Lt.Wt),I(e,o,0,n.width))}}}]),n}(ct),Ee=function(){function t(e){(0,h.Z)(this,t),this.Mr={rt:0,O:"rgba(0, 0, 0, 0)",ht:1,Wt:0,Tt:!1},this.Sr=new _e,this.bt=!0,this.Es=e,this.Ls=e.qt(),this.Sr.it(this.Mr)}return(0,f.Z)(t,[{key:"gt",value:function(){this.bt=!0}},{key:"xt",value:function(){return this.Es.Tt()?(this.bt&&(this.kr(),this.bt=!1),this.Sr):null}}]),t}(),xe=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){return(0,h.Z)(this,n),e.call(this,t)}return(0,f.Z)(n,[{key:"kr",value:function(){this.Mr.Tt=!1;var t=this.Es.At(),e=t.yr().yr;if(2===e||3===e){var n=this.Es.W();if(n.baseLineVisible&&this.Es.Tt()){var i=this.Es.Pt();null!==i&&(this.Mr.Tt=!0,this.Mr.rt=t.Ot(i.Vt,i.Vt),this.Mr.O=n.baseLineColor,this.Mr.ht=n.baseLineWidth,this.Mr.Wt=n.baseLineStyle)}}}}]),n}(Ee),Se=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Lt=null,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.Lt=t}},{key:"He",value:function(){return this.Lt}},{key:"Z",value:function(t){var e=t.context,n=t.horizontalPixelRatio,i=t.verticalPixelRatio,r=this.Lt;if(null!==r){var o=Math.max(1,Math.floor(n)),a=o%2/2,s=Math.round(r.Xe.x*n)+a,u=r.Xe.y*i;e.fillStyle=r.Cr,e.beginPath();var l=Math.max(2,1.5*r.Tr)*n;e.arc(s,u,l,0,2*Math.PI,!1),e.fill(),e.fillStyle=r.Pr,e.beginPath(),e.arc(s,u,r.ot*n,0,2*Math.PI,!1),e.fill(),e.lineWidth=o,e.strokeStyle=r.Rr,e.beginPath(),e.arc(s,u,r.ot*n+o/2,0,2*Math.PI,!1),e.stroke()}}}]),n}(ct),Te=[{Dr:0,Or:.25,Ar:4,Vr:10,Br:.25,Ir:0,zr:.4,Er:.8},{Dr:.25,Or:.525,Ar:10,Vr:14,Br:0,Ir:0,zr:.8,Er:0},{Dr:.525,Or:1,Ar:14,Vr:14,Br:0,Ir:0,zr:0,Er:0}];function Ce(t,e,n,i){return function(t,e){if("transparent"===t)return t;var n=q(t),i=n[3];return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(e*i,")")}(t,n+(i-n)*e)}function Oe(t,e){for(var n,i=t%2600/2600,r=0,o=Te;r<o.length;r++){var a=o[r];if(i>=a.Dr&&i<=a.Or){n=a;break}}L(void 0!==n,"Last price animation internal logic error");var s,u,l,c=(i-n.Dr)/(n.Or-n.Dr);return{Pr:Ce(e,c,n.Br,n.Ir),Rr:Ce(e,c,n.zr,n.Er),ot:(s=c,u=n.Ar,l=n.Vr,u+(l-u)*s)}}var Ae=function(){function t(e){(0,h.Z)(this,t),this.Ht=new Se,this.bt=!0,this.Lr=!0,this.Nr=performance.now(),this.Fr=this.Nr-1,this.Wr=e}return(0,f.Z)(t,[{key:"jr",value:function(){this.Fr=this.Nr-1,this.gt()}},{key:"Hr",value:function(){if(this.gt(),2===this.Wr.W().lastPriceAnimation){var t=performance.now(),e=this.Fr-t;if(e>0)return void(e<650&&(this.Fr+=2600));this.Nr=t,this.Fr=t+2600}}},{key:"gt",value:function(){this.bt=!0}},{key:"$r",value:function(){this.Lr=!0}},{key:"Tt",value:function(){return 0!==this.Wr.W().lastPriceAnimation}},{key:"Ur",value:function(){switch(this.Wr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Fr}}},{key:"xt",value:function(){return this.bt?(this.St(),this.bt=!1,this.Lr=!1):this.Lr&&(this.qr(),this.Lr=!1),this.Ht}},{key:"St",value:function(){this.Ht.it(null);var t=this.Wr.qt().yt(),e=t.Xs(),n=this.Wr.Pt();if(null!==e&&null!==n){var i=this.Wr.Yr(!0);if(!i.Xr&&e.Kr(i.se)){var r={x:t.Et(i.se),y:this.Wr.At().Ot(i.ct,n.Vt)},o=i.O,a=this.Wr.W().lineWidth,s=Oe(this.Zr(),o);this.Ht.it({Cr:o,Tr:a,Pr:s.Pr,Rr:s.Rr,ot:s.ot,Xe:r})}}}},{key:"qr",value:function(){var t=this.Ht.He();if(null!==t){var e=Oe(this.Zr(),t.Cr);t.Pr=e.Pr,t.Rr=e.Rr,t.ot=e.ot}}},{key:"Zr",value:function(){return this.Ur()?performance.now()-this.Nr:2599}}]),t}();function Me(t,e){return zt(Math.min(Math.max(t,12),30)*e)}function Ze(t,e){switch(t){case"arrowDown":case"arrowUp":return Me(e,1);case"circle":return Me(e,.8);case"square":return Me(e,.7)}}function Ie(t){return function(t){var e=Math.ceil(t);return e%2!=0?e-1:e}(Me(t,1))}function Le(t){return Math.max(Me(t,.1),3)}function Ne(t,e,n,i,r){var o=Ze("square",n),a=(o-1)/2,s=t-a,u=e-a;return i>=s&&i<=s+o&&r>=u&&r<=u+o}function Re(t,e,n,i,r){var o=(Ze("arrowUp",r)-1)/2,a=(zt(r/2)-1)/2;e.beginPath(),t?(e.moveTo(n-o,i),e.lineTo(n,i-o),e.lineTo(n+o,i),e.lineTo(n+a,i),e.lineTo(n+a,i+o),e.lineTo(n-a,i+o),e.lineTo(n-a,i)):(e.moveTo(n-o,i),e.lineTo(n,i+o),e.lineTo(n+o,i),e.lineTo(n+a,i),e.lineTo(n+a,i-o),e.lineTo(n-a,i-o),e.lineTo(n-a,i)),e.fill()}var De=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Lt=null,t.lr=new be,t.j=-1,t.H="",t.Gr="",t}return(0,f.Z)(n,[{key:"it",value:function(t){this.Lt=t}},{key:"ar",value:function(t,e){this.j===t&&this.H===e||(this.j=t,this.H=e,this.Gr=nt(t,e),this.lr.ir())}},{key:"br",value:function(t,e){if(null===this.Lt||null===this.Lt.nt)return null;for(var n=this.Lt.nt.from;n<this.Lt.nt.to;n++){var i=this.Lt.st[n];if(Fe(i,t,e))return{gr:i.Jr,wr:i.wr}}return null}},{key:"Z",value:function(t,e,n){var i=t.context;if(null!==this.Lt&&null!==this.Lt.nt){i.textBaseline="middle",i.font=this.Gr;for(var r=this.Lt.nt.from;r<this.Lt.nt.to;r++){var o=this.Lt.st[r];void 0!==o.Jt&&(o.Jt.$i=this.lr.Si(i,o.Jt.Qr),o.Jt.zt=this.j,o.Jt.et=o.et-o.Jt.$i/2),Pe(o,i)}}}}]),n}(ot);function Pe(t,e){e.fillStyle=t.O,void 0!==t.Jt&&function(t,e,n,i){t.fillText(e,n,i)}(e,t.Jt.Qr,t.Jt.et,t.Jt.rt),function(t,e){if(0!==t.Ks){switch(t.th){case"arrowDown":return void Re(!1,e,t.et,t.rt,t.Ks);case"arrowUp":return void Re(!0,e,t.et,t.rt,t.Ks);case"circle":return void function(t,e,n,i){var r=(Ze("circle",i)-1)/2;t.beginPath(),t.arc(e,n,r,0,2*Math.PI,!1),t.fill()}(e,t.et,t.rt,t.Ks);case"square":return void function(t,e,n,i){var r=Ze("square",i),o=(r-1)/2,a=e-o,s=n-o;t.fillRect(a,s,r,r)}(e,t.et,t.rt,t.Ks)}t.th}}(t,e)}function Fe(t,e,n){return!(void 0===t.Jt||!function(t,e,n,i,r,o){var a=i/2;return r>=t&&r<=t+n&&o>=e-a&&o<=e+a}(t.Jt.et,t.Jt.rt,t.Jt.$i,t.Jt.zt,e,n))||function(t,e,n){if(0===t.Ks)return!1;switch(t.th){case"arrowDown":case"arrowUp":return function(t,e,n,i,r,o){return Ne(e,n,i,r,o)}(0,t.et,t.rt,t.Ks,e,n);case"circle":return function(t,e,n,i,r){var o=2+Ze("circle",n)/2,a=t-i,s=e-r;return Math.sqrt(a*a+s*s)<=o}(t.et,t.rt,t.Ks,e,n);case"square":return Ne(t.et,t.rt,t.Ks,e,n)}}(t,e,n)}function Ue(t,e,n,i,r,o,a,s,u){var l=G(n)?n:n.xe,c=G(n)?n:n.ge,h=G(n)?n:n.Me,f=G(e.size)?Math.max(e.size,0):1,v=Ie(s.he())*f,d=v/2;switch(t.Ks=v,e.position){case"inBar":return t.rt=a.Ot(l,u),void(void 0!==t.Jt&&(t.Jt.rt=t.rt+d+o+.6*r));case"aboveBar":return t.rt=a.Ot(c,u)-d-i.ih,void 0!==t.Jt&&(t.Jt.rt=t.rt-d-.6*r,i.ih+=1.2*r),void(i.ih+=v+o);case"belowBar":return t.rt=a.Ot(h,u)+d+i.nh,void 0!==t.Jt&&(t.Jt.rt=t.rt+d+o+.6*r,i.nh+=1.2*r),void(i.nh+=v+o)}e.position}var je=function(){function t(e,n){(0,h.Z)(this,t),this.bt=!0,this.sh=!0,this.eh=!0,this.rh=null,this.Ht=new De,this.Wr=e,this.Ui=n,this.Lt={st:[],nt:null}}return(0,f.Z)(t,[{key:"gt",value:function(t){this.bt=!0,this.eh=!0,"data"===t&&(this.sh=!0)}},{key:"xt",value:function(t){if(!this.Wr.Tt())return null;this.bt&&this.hh();var e=this.Ui.W().layout;return this.Ht.ar(e.fontSize,e.fontFamily),this.Ht.it(this.Lt),this.Ht}},{key:"lh",value:function(){if(this.eh){if(this.Wr.ah().length>0){var t=this.Ui.yt().he(),e=Le(t),n=1.5*Ie(t)+2*e;this.rh={above:n,below:n}}else this.rh=null;this.eh=!1}return this.rh}},{key:"hh",value:function(){var t=this.Wr.At(),e=this.Ui.yt(),n=this.Wr.ah();this.sh&&(this.Lt.st=n.map((function(t){return{ut:t.time,et:0,rt:0,Ks:0,th:t.shape,O:t.color,Jr:t.Jr,wr:t.id,Jt:void 0}})),this.sh=!1);var i=this.Ui.W().layout;this.Lt.nt=null;var r=e.Xs();if(null!==r){var o=this.Wr.Pt();if(null!==o&&0!==this.Lt.st.length){var a=NaN,s=Le(e.he()),u={ih:s,nh:s};this.Lt.nt=te(this.Lt.st,r,!0);for(var l=this.Lt.nt.from;l<this.Lt.nt.to;l++){var c=n[l];c.time!==a&&(u.ih=s,u.nh=s,a=c.time);var h=this.Lt.st[l];h.et=e.Et(c.time),void 0!==c.text&&c.text.length>0&&(h.Jt={Qr:c.text,et:0,rt:0,$i:0,zt:0});var f=this.Wr.oh(c.time);null!==f&&Ue(h,c,f,u,i.fontSize,s,t,e,o.Vt)}this.bt=!1}}}}]),t}(),Ve=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){return(0,h.Z)(this,n),e.call(this,t)}return(0,f.Z)(n,[{key:"kr",value:function(){var t=this.Mr;t.Tt=!1;var e=this.Es.W();if(e.priceLineVisible&&this.Es.Tt()){var n=this.Es.Yr(0===e.priceLineSource);n.Xr||(t.Tt=!0,t.rt=n.yi,t.O=this.Es._h(n.O),t.ht=e.priceLineWidth,t.Wt=e.priceLineStyle)}}}]),n}(Ee),Be=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var i;return(0,h.Z)(this,n),(i=e.call(this)).$t=t,i}return(0,f.Z)(n,[{key:"Ei",value:function(t,e,n){t.Tt=!1,e.Tt=!1;var i=this.$t;if(i.Tt()){var r=i.W(),o=r.lastValueVisible,a=""!==i.uh(),s=0===r.seriesLastValueMode,u=i.Yr(!1);if(!u.Xr){o&&(t.Jt=this.dh(u,o,s),t.Tt=0!==t.Jt.length),(a||s)&&(e.Jt=this.fh(u,o,a,s),e.Tt=e.Jt.length>0);var l=i._h(u.O),c=W(l);n.t=c.t,n.yi=u.yi,e.Bt=i.qt().It(u.yi/i.At().zt()),t.Bt=l,t.O=c.i,e.O=c.i}}}},{key:"fh",value:function(t,e,n,i){var r="",o=this.$t.uh();return n&&0!==o.length&&(r+="".concat(o," ")),e&&i&&(r+=this.$t.At().ph()?t.mh:t.bh),r.trim()}},{key:"dh",value:function(t,e,n){return e?n?this.$t.At().ph()?t.bh:t.mh:t.Jt:""}}]),n}(wt);function ze(t,e,n,i){var r=Number.isFinite(e),o=Number.isFinite(n);return r&&o?t(e,n):r||o?r?e:n:i}var qe,We=function(){function t(e,n){(0,h.Z)(this,t),this.wh=e,this.gh=n}return(0,f.Z)(t,[{key:"Mh",value:function(t){return null!==t&&this.wh===t.wh&&this.gh===t.gh}},{key:"xh",value:function(){return new t(this.wh,this.gh)}},{key:"Sh",value:function(){return this.wh}},{key:"kh",value:function(){return this.gh}},{key:"yh",value:function(){return this.gh-this.wh}},{key:"Fi",value:function(){return this.gh===this.wh||Number.isNaN(this.gh)||Number.isNaN(this.wh)}},{key:"ts",value:function(e){return null===e?this:new t(ze(Math.min,this.Sh(),e.Sh(),-1/0),ze(Math.max,this.kh(),e.kh(),1/0))}},{key:"Ch",value:function(t){if(G(t)&&0!==this.gh-this.wh){var e=.5*(this.gh+this.wh),n=this.gh-e,i=this.wh-e;n*=t,i*=t,this.gh=e+n,this.wh=e+i}}},{key:"Th",value:function(t){G(t)&&(this.gh+=t,this.wh+=t)}},{key:"Ph",value:function(){return{minValue:this.wh,maxValue:this.gh}}}],[{key:"Rh",value:function(e){return null===e?null:new t(e.minValue,e.maxValue)}}]),t}(),Ke=function(){function t(e,n){(0,h.Z)(this,t),this.Dh=e,this.Oh=n||null}return(0,f.Z)(t,[{key:"Ah",value:function(){return this.Dh}},{key:"Vh",value:function(){return this.Oh}},{key:"Ph",value:function(){return null===this.Dh?null:{priceRange:this.Dh.Ph(),margins:this.Oh||void 0}}}],[{key:"Rh",value:function(e){return null===e?null:new t(We.Rh(e.priceRange),e.margins)}}]),t}(),He=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){var r;return(0,h.Z)(this,n),(r=e.call(this,t)).Bh=i,r}return(0,f.Z)(n,[{key:"kr",value:function(){var t=this.Mr;t.Tt=!1;var e=this.Bh.W();if(this.Es.Tt()&&e.lineVisible){var n=this.Bh.Ih();null!==n&&(t.Tt=!0,t.rt=n,t.O=e.color,t.ht=e.lineWidth,t.Wt=e.lineStyle,t.wr=this.Bh.W().id)}}}]),n}(Ee),Ge=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){var r;return(0,h.Z)(this,n),(r=e.call(this)).Wr=t,r.Bh=i,r}return(0,f.Z)(n,[{key:"Ei",value:function(t,e,n){t.Tt=!1,e.Tt=!1;var i=this.Bh.W(),r=i.axisLabelVisible,o=""!==i.title,a=this.Wr;if(r&&a.Tt()){var s=this.Bh.Ih();if(null!==s){o&&(e.Jt=i.title,e.Tt=!0),e.Bt=a.qt().It(s/a.At().zt()),t.Jt=this.zh(i.price),t.Tt=!0;var u=W(i.axisLabelColor||i.color);n.t=u.t;var l=i.axisLabelTextColor||u.i;t.O=l,e.O=l,n.yi=s}}}},{key:"zh",value:function(t){var e=this.Wr.Pt();return null===e?"":this.Wr.At().Wi(t,e.Vt)}}]),n}(wt),Qe=function(){function t(e,n){(0,h.Z)(this,t),this.Wr=e,this.cn=n,this.Eh=new He(e,this),this._r=new Ge(e,this),this.Lh=new we(this._r,e,e.qt())}return(0,f.Z)(t,[{key:"Nh",value:function(t){H(this.cn,t),this.gt(),this.Wr.qt().Fh()}},{key:"W",value:function(){return this.cn}},{key:"Wh",value:function(){return this.Eh}},{key:"jh",value:function(){return this.Lh}},{key:"Hh",value:function(){return this._r}},{key:"gt",value:function(){this.Eh.gt(),this._r.gt()}},{key:"Ih",value:function(){var t=this.Wr,e=t.At();if(t.qt().yt().Fi()||e.Fi())return null;var n=t.Pt();return null===n?null:e.Ot(this.cn.price,n.Vt)}}]),t}(),Ye=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var i;return(0,h.Z)(this,n),(i=e.call(this)).Ui=t,i}return(0,f.Z)(n,[{key:"qt",value:function(){return this.Ui}}]),n}(Tt),Xe={Bar:function(t,e,n,i){var r,o=e.upColor,a=e.downColor,s=R(t(n,i)),u=D(s.Vt[0])<=D(s.Vt[3]);return{ue:null!==(r=s.O)&&void 0!==r?r:u?o:a}},Candlestick:function(t,e,n,i){var r,o,a,s=e.upColor,u=e.downColor,l=e.borderUpColor,c=e.borderDownColor,h=e.wickUpColor,f=e.wickDownColor,v=R(t(n,i)),d=D(v.Vt[0])<=D(v.Vt[3]);return{ue:null!==(r=v.O)&&void 0!==r?r:d?s:u,Le:null!==(o=v.Bt)&&void 0!==o?o:d?l:c,Ee:null!==(a=v.$h)&&void 0!==a?a:d?h:f}},Custom:function(t,e,n,i){var r;return{ue:null!==(r=R(t(n,i)).O)&&void 0!==r?r:e.color}},Area:function(t,e,n,i){var r,o,a,s,u=R(t(n,i));return{ue:null!==(r=u._t)&&void 0!==r?r:e.lineColor,_t:null!==(o=u._t)&&void 0!==o?o:e.lineColor,Ts:null!==(a=u.Ts)&&void 0!==a?a:e.topColor,Ps:null!==(s=u.Ps)&&void 0!==s?s:e.bottomColor}},Baseline:function(t,e,n,i){var r,o,a,s,u,l,c=R(t(n,i));return{ue:c.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Pe:null!==(r=c.Pe)&&void 0!==r?r:e.topLineColor,Re:null!==(o=c.Re)&&void 0!==o?o:e.bottomLineColor,Se:null!==(a=c.Se)&&void 0!==a?a:e.topFillColor1,ke:null!==(s=c.ke)&&void 0!==s?s:e.topFillColor2,ye:null!==(u=c.ye)&&void 0!==u?u:e.bottomFillColor1,Ce:null!==(l=c.Ce)&&void 0!==l?l:e.bottomFillColor2}},Line:function(t,e,n,i){var r,o,a=R(t(n,i));return{ue:null!==(r=a.O)&&void 0!==r?r:e.color,_t:null!==(o=a.O)&&void 0!==o?o:e.color}},Histogram:function(t,e,n,i){var r;return{ue:null!==(r=R(t(n,i)).O)&&void 0!==r?r:e.color}}},Je=function(){function t(e){var n=this;(0,h.Z)(this,t),this.Uh=function(t,e){return void 0!==e?e.Vt:n.Wr.In().qh(t)},this.Wr=e,this.Yh=Xe[e.Xh()]}return(0,f.Z)(t,[{key:"Hs",value:function(t,e){return this.Yh(this.Uh,this.Wr.W(),t,e)}}]),t}();!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"}(qe||(qe={}));var $e=30,tn=function(){function t(){(0,h.Z)(this,t),this.Kh=[],this.Zh=new Map,this.Gh=new Map}return(0,f.Z)(t,[{key:"Jh",value:function(){return this.Ks()>0?this.Kh[this.Kh.length-1]:null}},{key:"Qh",value:function(){return this.Ks()>0?this.tl(0):null}},{key:"Bn",value:function(){return this.Ks()>0?this.tl(this.Kh.length-1):null}},{key:"Ks",value:function(){return this.Kh.length}},{key:"Fi",value:function(){return 0===this.Ks()}},{key:"Kr",value:function(t){return null!==this.il(t,0)}},{key:"qh",value:function(t){return this.nl(t)}},{key:"nl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.il(t,e);return null===n?null:Object.assign(Object.assign({},this.sl(n)),{se:this.tl(n)})}},{key:"ie",value:function(){return this.Kh}},{key:"el",value:function(t,e,n){if(this.Fi())return null;var i,r=null,o=(0,a.Z)(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;r=en(r,this.rl(t,e,s))}}catch(u){o.e(u)}finally{o.f()}return r}},{key:"it",value:function(t){this.Gh.clear(),this.Zh.clear(),this.Kh=t}},{key:"tl",value:function(t){return this.Kh[t].se}},{key:"sl",value:function(t){return this.Kh[t]}},{key:"il",value:function(t,e){var n=this.hl(t);if(null===n&&0!==e)switch(e){case-1:return this.ll(t);case 1:return this.al(t);default:throw new TypeError("Unknown search mode")}return n}},{key:"ll",value:function(t){var e=this.ol(t);return e>0&&(e-=1),e!==this.Kh.length&&this.tl(e)<t?e:null}},{key:"al",value:function(t){var e=this._l(t);return e!==this.Kh.length&&t<this.tl(e)?e:null}},{key:"hl",value:function(t){var e=this.ol(t);return e===this.Kh.length||t<this.Kh[e].se?null:e}},{key:"ol",value:function(t){return Yt(this.Kh,t,(function(t,e){return t.se<e}))}},{key:"_l",value:function(t){return Xt(this.Kh,t,(function(t,e){return t.se>e}))}},{key:"ul",value:function(t,e,n){for(var i=null,r=t;r<e;r++){var o=this.Kh[r].Vt[n];Number.isNaN(o)||(null===i?i={cl:o,dl:o}:(o<i.cl&&(i.cl=o),o>i.dl&&(i.dl=o)))}return i}},{key:"rl",value:function(t,e,n){if(this.Fi())return null;var i=null,r=R(this.Qh()),o=R(this.Bn()),a=Math.max(t,r),s=Math.min(e,o),u=Math.ceil(a/$e)*$e,l=Math.max(u,Math.floor(s/$e)*$e),c=this.ol(a),h=this._l(Math.min(s,u,e));i=en(i,this.ul(c,h,n));var f=this.Zh.get(n);void 0===f&&(f=new Map,this.Zh.set(n,f));for(var v=Math.max(u+1,a);v<l;v+=$e){var d=Math.floor(v/$e),p=f.get(d);if(void 0===p){var y=this.ol(d*$e),m=this._l((d+1)*$e-1);p=this.ul(y,m,n),f.set(d,p)}i=en(i,p)}var g=this.ol(l),b=this._l(s);return i=en(i,this.ul(g,b,n))}}]),t}();function en(t,e){return null===t?e:null===e?t:{cl:Math.min(t.cl,e.cl),dl:Math.max(t.dl,e.dl)}}var nn=function(){function t(e){(0,h.Z)(this,t),this.fl=e}return(0,f.Z)(t,[{key:"K",value:function(t,e,n){this.fl.draw(t)}},{key:"G",value:function(t,e,n){var i,r;null===(r=(i=this.fl).drawBackground)||void 0===r||r.call(i,t)}}]),t}(),rn=function(){function t(e){(0,h.Z)(this,t),this.Qe=null,this.wn=e}return(0,f.Z)(t,[{key:"xt",value:function(){var t,e=this.wn.renderer();if(null===e)return null;if((null===(t=this.Qe)||void 0===t?void 0:t.vl)===e)return this.Qe.pl;var n=new nn(e);return this.Qe={vl:e,pl:n},n}},{key:"ml",value:function(){var t,e,n;return null!==(n=null===(e=(t=this.wn).zOrder)||void 0===e?void 0:e.call(t))&&void 0!==n?n:"normal"}}]),t}();function on(t){var e,n,i,r,o;return{Jt:t.text(),yi:t.coordinate(),ki:null===(e=t.fixedCoordinate)||void 0===e?void 0:e.call(t),O:t.textColor(),t:t.backColor(),Tt:null===(i=null===(n=t.visible)||void 0===n?void 0:n.call(t))||void 0===i||i,ai:null===(o=null===(r=t.tickVisible)||void 0===r?void 0:r.call(t))||void 0===o||o}}var an=function(){function t(e,n){(0,h.Z)(this,t),this.Ht=new xt,this.bl=e,this.wl=n}return(0,f.Z)(t,[{key:"xt",value:function(){return this.Ht.it(Object.assign({$i:this.wl.$i()},on(this.bl))),this.Ht}}]),t}(),sn=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){var r;return(0,h.Z)(this,n),(r=e.call(this)).bl=t,r.Li=i,r}return(0,f.Z)(n,[{key:"Ei",value:function(t,e,n){var i=on(this.bl);n.t=i.t,t.O=i.O;var r=2/12*this.Li.P();n.gi=r,n.Mi=r,n.yi=i.yi,n.ki=i.ki,t.Jt=i.Jt,t.Tt=i.Tt,t.ai=i.ai}}]),n}(wt),un=function(){function t(e,n){(0,h.Z)(this,t),this.gl=null,this.Ml=null,this.xl=null,this.Sl=null,this.kl=null,this.yl=e,this.Wr=n}return(0,f.Z)(t,[{key:"Cl",value:function(){return this.yl}},{key:"On",value:function(){var t,e;null===(e=(t=this.yl).updateAllViews)||void 0===e||e.call(t)}},{key:"Pn",value:function(){var t,e,n,i,r=null!==(n=null===(e=(t=this.yl).paneViews)||void 0===e?void 0:e.call(t))&&void 0!==n?n:[];if((null===(i=this.gl)||void 0===i?void 0:i.vl)===r)return this.gl.pl;var o=r.map((function(t){return new rn(t)}));return this.gl={vl:r,pl:o},o}},{key:"tn",value:function(){var t,e,n,i,r=null!==(n=null===(e=(t=this.yl).timeAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==n?n:[];if((null===(i=this.Ml)||void 0===i?void 0:i.vl)===r)return this.Ml.pl;var o=this.Wr.qt().yt(),a=r.map((function(t){return new an(t,o)}));return this.Ml={vl:r,pl:a},a}},{key:"Rn",value:function(){var t,e,n,i,r=null!==(n=null===(e=(t=this.yl).priceAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==n?n:[];if((null===(i=this.xl)||void 0===i?void 0:i.vl)===r)return this.xl.pl;var o=this.Wr.At(),a=r.map((function(t){return new sn(t,o)}));return this.xl={vl:r,pl:a},a}},{key:"Tl",value:function(){var t,e,n,i,r=null!==(n=null===(e=(t=this.yl).priceAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==n?n:[];if((null===(i=this.Sl)||void 0===i?void 0:i.vl)===r)return this.Sl.pl;var o=r.map((function(t){return new rn(t)}));return this.Sl={vl:r,pl:o},o}},{key:"Pl",value:function(){var t,e,n,i,r=null!==(n=null===(e=(t=this.yl).timeAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==n?n:[];if((null===(i=this.kl)||void 0===i?void 0:i.vl)===r)return this.kl.pl;var o=r.map((function(t){return new rn(t)}));return this.kl={vl:r,pl:o},o}},{key:"Rl",value:function(t,e){var n,i,r;return null!==(r=null===(i=(n=this.yl).autoscaleInfo)||void 0===i?void 0:i.call(n,t,e))&&void 0!==r?r:null}},{key:"br",value:function(t,e){var n,i,r;return null!==(r=null===(i=(n=this.yl).hitTest)||void 0===i?void 0:i.call(n,t,e))&&void 0!==r?r:null}}]),t}();function ln(t,e,n,i){t.forEach((function(t){e(t).forEach((function(t){t.ml()===n&&i.push(t)}))}))}function cn(t){return t.Pn()}function hn(t){return t.Tl()}function fn(t){return t.Pl()}var vn=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i,r,o,a){var u;(0,h.Z)(this,n),(u=e.call(this,t)).Lt=new tn,u.Eh=new Ve((0,s.Z)(u)),u.Dl=[],u.Ol=new xe((0,s.Z)(u)),u.Al=null,u.Vl=null,u.Bl=[],u.Il=[],u.zl=null,u.El=[],u.cn=i,u.Ll=r;var l=new Be((0,s.Z)(u));return u.hn=[l],u.Lh=new we(l,(0,s.Z)(u),t),"Area"!==r&&"Line"!==r&&"Baseline"!==r||(u.Al=new Ae((0,s.Z)(u))),u.Nl(),u.Fl(a),u}return(0,f.Z)(n,[{key:"S",value:function(){null!==this.zl&&clearTimeout(this.zl)}},{key:"_h",value:function(t){return this.cn.priceLineColor||t}},{key:"Yr",value:function(t){var e={Xr:!0},n=this.At();if(this.qt().yt().Fi()||n.Fi()||this.Lt.Fi())return e;var i,r,o=this.qt().yt().Xs(),a=this.Pt();if(null===o||null===a)return e;if(t){var s=this.Lt.Jh();if(null===s)return e;i=s,r=s.se}else{var u=this.Lt.nl(o.di(),-1);if(null===u)return e;if(null===(i=this.Lt.qh(u.se)))return e;r=u.se}var l=i.Vt[3],c=this.$s().Hs(r,{Vt:i}),h=n.Ot(l,a.Vt);return{Xr:!1,ct:l,Jt:n.Wi(l,a.Vt),mh:n.Wl(l),bh:n.jl(l,a.Vt),O:c.ue,yi:h,se:r}}},{key:"$s",value:function(){return null!==this.Vl||(this.Vl=new Je(this)),this.Vl}},{key:"W",value:function(){return this.cn}},{key:"Nh",value:function(t){var e=t.priceScaleId;void 0!==e&&e!==this.cn.priceScaleId&&this.qt().Hl(this,e),H(this.cn,t),void 0!==t.priceFormat&&(this.Nl(),this.qt().$l()),this.qt().Ul(this),this.qt().ql(),this.wn.gt("options")}},{key:"it",value:function(t,e){this.Lt.it(t),this.Yl(),this.wn.gt("data"),this.dn.gt("data"),null!==this.Al&&(e&&e.Xl?this.Al.Hr():0===t.length&&this.Al.jr());var n=this.qt().cr(this);this.qt().Kl(n),this.qt().Ul(this),this.qt().ql(),this.qt().Fh()}},{key:"Zl",value:function(t){this.Bl=t,this.Yl();var e=this.qt().cr(this);this.dn.gt("data"),this.qt().Kl(e),this.qt().Ul(this),this.qt().ql(),this.qt().Fh()}},{key:"Gl",value:function(){return this.Bl}},{key:"ah",value:function(){return this.Il}},{key:"Jl",value:function(t){var e=new Qe(this,t);return this.Dl.push(e),this.qt().Ul(this),e}},{key:"Ql",value:function(t){var e=this.Dl.indexOf(t);-1!==e&&this.Dl.splice(e,1),this.qt().Ul(this)}},{key:"Xh",value:function(){return this.Ll}},{key:"Pt",value:function(){var t=this.ta();return null===t?null:{Vt:t.Vt[3],ia:t.ut}}},{key:"ta",value:function(){var t=this.qt().yt().Xs();if(null===t)return null;var e=t.Os();return this.Lt.nl(e,1)}},{key:"In",value:function(){return this.Lt}},{key:"oh",value:function(t){var e=this.Lt.qh(t);return null===e?null:"Bar"===this.Ll||"Candlestick"===this.Ll||"Custom"===this.Ll?{we:e.Vt[0],ge:e.Vt[1],Me:e.Vt[2],xe:e.Vt[3]}:e.Vt[3]}},{key:"na",value:function(t){var e=this,n=[];ln(this.El,cn,"top",n);var i=this.Al;return null!==i&&i.Tt()?(null===this.zl&&i.Ur()&&(this.zl=setTimeout((function(){e.zl=null,e.qt().sa()}),0)),i.$r(),n.push(i),n):n}},{key:"Pn",value:function(){var t=[];this.ea()||t.push(this.Ol),t.push(this.wn,this.Eh,this.dn);var e=this.Dl.map((function(t){return t.Wh()}));return t.push.apply(t,(0,c.Z)(e)),ln(this.El,cn,"normal",t),t}},{key:"ra",value:function(){return this.ha(cn,"bottom")}},{key:"la",value:function(t){return this.ha(hn,t)}},{key:"aa",value:function(t){return this.ha(fn,t)}},{key:"oa",value:function(t,e){return this.El.map((function(n){return n.br(t,e)})).filter((function(t){return null!==t}))}},{key:"Qi",value:function(t){return[this.Lh].concat((0,c.Z)(this.Dl.map((function(t){return t.jh()}))))}},{key:"Rn",value:function(t,e){if(e!==this.Xi&&!this.ea())return[];var n,i=(0,c.Z)(this.hn),r=(0,a.Z)(this.Dl);try{for(r.s();!(n=r.n()).done;){var o=n.value;i.push(o.Hh())}}catch(s){r.e(s)}finally{r.f()}return this.El.forEach((function(t){i.push.apply(i,(0,c.Z)(t.Rn()))})),i}},{key:"tn",value:function(){var t=[];return this.El.forEach((function(e){t.push.apply(t,(0,c.Z)(e.tn()))})),t}},{key:"Rl",value:function(t,e){var n=this;if(void 0!==this.cn.autoscaleInfoProvider){var i=this.cn.autoscaleInfoProvider((function(){var i=n._a(t,e);return null===i?null:i.Ph()}));return Ke.Rh(i)}return this._a(t,e)}},{key:"ua",value:function(){return this.cn.priceFormat.minMove}},{key:"ca",value:function(){return this.da}},{key:"On",value:function(){var t;this.wn.gt(),this.dn.gt();var e,n=(0,a.Z)(this.hn);try{for(n.s();!(e=n.n()).done;){e.value.gt()}}catch(o){n.e(o)}finally{n.f()}var i,r=(0,a.Z)(this.Dl);try{for(r.s();!(i=r.n()).done;){i.value.gt()}}catch(o){r.e(o)}finally{r.f()}this.Eh.gt(),this.Ol.gt(),null===(t=this.Al)||void 0===t||t.gt(),this.El.forEach((function(t){return t.On()}))}},{key:"At",value:function(){return R((0,r.Z)((0,o.Z)(n.prototype),"At",this).call(this))}},{key:"Ct",value:function(t){if("Line"!==this.Ll&&"Area"!==this.Ll&&"Baseline"!==this.Ll||!this.cn.crosshairMarkerVisible)return null;var e=this.Lt.qh(t);return null===e?null:{ct:e.Vt[3],ot:this.fa(),Bt:this.va(),Dt:this.pa(),Rt:this.ma(t)}}},{key:"uh",value:function(){return this.cn.title}},{key:"Tt",value:function(){return this.cn.visible}},{key:"ba",value:function(t){this.El.push(new un(t,this))}},{key:"wa",value:function(t){this.El=this.El.filter((function(e){return e.Cl()!==t}))}},{key:"ga",value:function(){var t=this;if(this.wn instanceof ve!=0)return function(e){return t.wn.Fe(e)}}},{key:"Ma",value:function(){var t=this;if(this.wn instanceof ve!=0)return function(e){return t.wn.We(e)}}},{key:"ea",value:function(){return!Ot(this.At().xa())}},{key:"_a",value:function(t,e){if(!Q(t)||!Q(e)||this.Lt.Fi())return null;var n="Line"===this.Ll||"Area"===this.Ll||"Baseline"===this.Ll||"Histogram"===this.Ll?[3]:[2,1],i=this.Lt.el(t,e,n),r=null!==i?new We(i.cl,i.dl):null;if("Histogram"===this.Xh()){var o=this.cn.base,a=new We(o,o);r=null!==r?r.ts(a):a}var s=this.dn.lh();return this.El.forEach((function(n){var i,o,a,u,l=n.Rl(t,e);if(null==l?void 0:l.priceRange){var c=new We(l.priceRange.minValue,l.priceRange.maxValue);r=null!==r?r.ts(c):c}(null==l?void 0:l.margins)&&(i=s,o=l.margins,s={above:Math.max(null!==(a=null==i?void 0:i.above)&&void 0!==a?a:0,o.above),below:Math.max(null!==(u=null==i?void 0:i.below)&&void 0!==u?u:0,o.below)})})),new Ke(r,s)}},{key:"fa",value:function(){switch(this.Ll){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}},{key:"va",value:function(){switch(this.Ll){case"Line":case"Area":case"Baseline":var t=this.cn.crosshairMarkerBorderColor;if(0!==t.length)return t}return null}},{key:"pa",value:function(){switch(this.Ll){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}},{key:"ma",value:function(t){switch(this.Ll){case"Line":case"Area":case"Baseline":var e=this.cn.crosshairMarkerBackgroundColor;if(0!==e.length)return e}return this.$s().Hs(t).ue}},{key:"Nl",value:function(){switch(this.cn.priceFormat.type){case"custom":this.da={format:this.cn.priceFormat.formatter};break;case"volume":this.da=new Lt(this.cn.priceFormat.precision);break;case"percent":this.da=new It(this.cn.priceFormat.precision);break;default:var t=Math.pow(10,this.cn.priceFormat.precision);this.da=new Zt(t,this.cn.priceFormat.minMove*t)}null!==this.Xi&&this.Xi.Sa()}},{key:"Yl",value:function(){var t=this,e=this.qt().yt();if(e.ka()&&!this.Lt.Fi()){var n=R(this.Lt.Qh());this.Il=this.Bl.map((function(i,r){var o=R(e.ya(i.time,!0)),a=o<n?1:-1;return{time:R(t.Lt.nl(o,a)).se,position:i.position,shape:i.shape,color:i.color,id:i.id,Jr:r,text:i.text,size:i.size,originalTime:i.originalTime}}))}else this.Il=[]}},{key:"Fl",value:function(t){switch(this.dn=new je(this,this.qt()),this.Ll){case"Bar":this.wn=new ae(this,this.qt());break;case"Candlestick":this.wn=new he(this,this.qt());break;case"Line":this.wn=new me(this,this.qt());break;case"Custom":this.wn=new ve(this,this.qt(),N(t));break;case"Area":this.wn=new ie(this,this.qt());break;case"Baseline":this.wn=new le(this,this.qt());break;case"Histogram":this.wn=new ye(this,this.qt());break;default:throw Error("Unknown chart style assigned: "+this.Ll)}}},{key:"ha",value:function(t,e){var n=[];return ln(this.El,t,e,n),n}}]),n}(Ye),dn=function(){function t(e){(0,h.Z)(this,t),this.cn=e}return(0,f.Z)(t,[{key:"Ca",value:function(t,e,n){var i=t;if(0===this.cn.mode)return i;var r=n.vn(),o=r.Pt();if(null===o)return i;var a=r.Ot(t,o),s=n.Ta().filter((function(t){return t instanceof vn})).reduce((function(t,i){if(n.dr(i)||!i.Tt())return t;var r=i.At(),o=i.In();if(r.Fi()||!o.Kr(e))return t;var a=o.qh(e);if(null===a)return t;var s=D(i.Pt());return t.concat([r.Ot(a.Vt[3],s.Vt)])}),[]);if(0===s.length)return i;s.sort((function(t,e){return Math.abs(t-a)-Math.abs(e-a)}));var u=s[0];return i=r.pn(u,o)}}]),t}(),pn=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Lt=null,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.Lt=t}},{key:"Z",value:function(t){var e=this,n=t.context,i=t.bitmapSize,r=t.horizontalPixelRatio,o=t.verticalPixelRatio;if(null!==this.Lt){var s=Math.max(1,Math.floor(r));n.lineWidth=s,function(t,e){t.save(),t.lineWidth%2&&t.translate(.5,.5),e(),t.restore()}(n,(function(){var t=R(e.Lt);if(t.Pa){n.strokeStyle=t.Ra,Z(n,t.Da),n.beginPath();var u,l=(0,a.Z)(t.Oa);try{for(l.s();!(u=l.n()).done;){var c=u.value,h=Math.round(c.Aa*r);n.moveTo(h,-s),n.lineTo(h,i.height+s)}}catch(y){l.e(y)}finally{l.f()}n.stroke()}if(t.Va){n.strokeStyle=t.Ba,Z(n,t.Ia),n.beginPath();var f,v=(0,a.Z)(t.za);try{for(v.s();!(f=v.n()).done;){var d=f.value,p=Math.round(d.Aa*o);n.moveTo(-s,p),n.lineTo(i.width+s,p)}}catch(y){v.e(y)}finally{v.f()}n.stroke()}}))}}}]),n}(ct),yn=function(){function t(e){(0,h.Z)(this,t),this.Ht=new pn,this.bt=!0,this.nn=e}return(0,f.Z)(t,[{key:"gt",value:function(){this.bt=!0}},{key:"xt",value:function(){if(this.bt){var t=this.nn.qt().W().grid,e={Va:t.horzLines.visible,Pa:t.vertLines.visible,Ba:t.horzLines.color,Ra:t.vertLines.color,Ia:t.horzLines.style,Da:t.vertLines.style,za:this.nn.vn().Ea(),Oa:(this.nn.qt().yt().Ea()||[]).map((function(t){return{Aa:t.coord}}))};this.Ht.it(e),this.bt=!1}return this.Ht}}]),t}(),mn=function(){function t(e){(0,h.Z)(this,t),this.wn=new yn(e)}return(0,f.Z)(t,[{key:"Wh",value:function(){return this.wn}}]),t}(),gn={La:4,Na:1e-4};function bn(t,e){var n=100*(t-e)/e;return e<0?-n:n}function kn(t,e){var n=bn(t.Sh(),e),i=bn(t.kh(),e);return new We(n,i)}function wn(t,e){var n=100*(t-e)/e+100;return e<0?-n:n}function _n(t,e){var n=wn(t.Sh(),e),i=wn(t.kh(),e);return new We(n,i)}function En(t,e){var n=Math.abs(t);if(n<1e-15)return 0;var i=Math.log10(n+e.Na)+e.La;return t<0?-i:i}function xn(t,e){var n=Math.abs(t);if(n<1e-15)return 0;var i=Math.pow(10,n-e.La)-e.Na;return t<0?-i:i}function Sn(t,e){if(null===t)return null;var n=En(t.Sh(),e),i=En(t.kh(),e);return new We(n,i)}function Tn(t,e){if(null===t)return null;var n=xn(t.Sh(),e),i=xn(t.kh(),e);return new We(n,i)}function Cn(t){if(null===t)return gn;var e=Math.abs(t.kh()-t.Sh());if(e>=1||e<1e-15)return gn;var n=Math.ceil(Math.abs(Math.log10(e))),i=gn.La+n;return{La:i,Na:1/Math.pow(10,i)}}var On,An=function(){function t(e,n){if((0,h.Z)(this,t),this.Fa=e,this.Wa=n,function(t){if(t<0)return!1;for(var e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.Fa))this.ja=[2,2.5,2];else{this.ja=[];for(var i=this.Fa;1!==i;){if(i%2==0)this.ja.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.ja.push(2,2.5),i/=5}if(this.ja.length>100)throw new Error("something wrong with base")}}}return(0,f.Z)(t,[{key:"Ha",value:function(t,e,n){for(var i,r=0===this.Fa?0:1/this.Fa,o=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),a=0,s=this.Wa[0];;){var u=Bt(o,r,1e-14)&&o>r+1e-14,l=Bt(o,n*s,1e-14),c=Bt(o,1,1e-14);if(!(u&&l&&c))break;o/=s,s=this.Wa[++a%this.Wa.length]}if(o<=r+1e-14&&(o=r),o=Math.max(1,o),this.ja.length>0&&(i=o,1,1e-14,Math.abs(i-1)<1e-14))for(a=0,s=this.ja[0];Bt(o,n*s,1e-14)&&o>r+1e-14;)o/=s,s=this.ja[++a%this.ja.length];return o}}]),t}(),Mn=function(){function t(e,n,i,r){(0,h.Z)(this,t),this.$a=[],this.Li=e,this.Fa=n,this.Ua=i,this.qa=r}return(0,f.Z)(t,[{key:"Ha",value:function(t,e){if(t<e)throw new Error("high < low");var n=this.Li.zt(),i=(t-e)*this.Ya()/n,r=new An(this.Fa,[2,2.5,2]),o=new An(this.Fa,[2,2,2.5]),a=new An(this.Fa,[2.5,2,2]),s=[];return s.push(r.Ha(t,e,i),o.Ha(t,e,i),a.Ha(t,e,i)),function(t){if(t.length<1)throw Error("array is empty");for(var e=t[0],n=1;n<t.length;++n)t[n]<e&&(e=t[n]);return e}(s)}},{key:"Xa",value:function(){var t=this.Li,e=t.Pt();if(null!==e){var n=t.zt(),i=this.Ua(n-1,e),r=this.Ua(0,e),o=this.Li.W().entireTextOnly?this.Ka()/2:0,a=o,s=n-1-o,u=Math.max(i,r),l=Math.min(i,r);if(u!==l){for(var c=this.Ha(u,l),h=u%c,f=u>=l?1:-1,v=null,d=0,p=u-(h+=h<0?c:0);p>l;p-=c){var y=this.qa(p,e,!0);null!==v&&Math.abs(y-v)<this.Ya()||y<a||y>s||(d<this.$a.length?(this.$a[d].Aa=y,this.$a[d].Za=t.Ga(p)):this.$a.push({Aa:y,Za:t.Ga(p)}),d++,v=y,t.Ja()&&(c=this.Ha(p*f,l)))}this.$a.length=d}else this.$a=[]}else this.$a=[]}},{key:"Ea",value:function(){return this.$a}},{key:"Ka",value:function(){return this.Li.P()}},{key:"Ya",value:function(){return Math.ceil(2.5*this.Ka())}}]),t}();function Zn(t){return t.slice().sort((function(t,e){return R(t.Zi())-R(e.Zi())}))}!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(On||(On={}));var In=new It,Ln=new Zt(100,1),Nn=function(){function t(e,n,i,r){(0,h.Z)(this,t),this.Qa=0,this.io=null,this.Dh=null,this.no=null,this.so={eo:!1,ro:null},this.ho=0,this.lo=0,this.ao=new K,this.oo=new K,this._o=[],this.uo=null,this.co=null,this.do=null,this.fo=null,this.da=Ln,this.vo=Cn(null),this.po=e,this.cn=n,this.mo=i,this.bo=r,this.wo=new Mn(this,100,this.Mo.bind(this),this.xo.bind(this))}return(0,f.Z)(t,[{key:"xa",value:function(){return this.po}},{key:"W",value:function(){return this.cn}},{key:"Nh",value:function(t){if(H(this.cn,t),this.Sa(),void 0!==t.mode&&this.So({yr:t.mode}),void 0!==t.scaleMargins){var e=N(t.scaleMargins.top),n=N(t.scaleMargins.bottom);if(e<0||e>1)throw new Error("Invalid top margin - expect value between 0 and 1, given=".concat(e));if(n<0||n>1||e+n>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given=".concat(n));if(e+n>1)throw new Error("Invalid margins - sum of margins must be less than 1, given=".concat(e+n));this.ko(),this.co=null}}},{key:"yo",value:function(){return this.cn.autoScale}},{key:"Ja",value:function(){return 1===this.cn.mode}},{key:"ph",value:function(){return 2===this.cn.mode}},{key:"Co",value:function(){return 3===this.cn.mode}},{key:"yr",value:function(){return{Wn:this.cn.autoScale,To:this.cn.invertScale,yr:this.cn.mode}}},{key:"So",value:function(t){var e=this.yr(),n=null;void 0!==t.Wn&&(this.cn.autoScale=t.Wn),void 0!==t.yr&&(this.cn.mode=t.yr,2!==t.yr&&3!==t.yr||(this.cn.autoScale=!0),this.so.eo=!1),1===e.yr&&t.yr!==e.yr&&(function(t,e){if(null===t)return!1;var n=xn(t.Sh(),e),i=xn(t.kh(),e);return isFinite(n)&&isFinite(i)}(this.Dh,this.vo)?null!==(n=Tn(this.Dh,this.vo))&&this.Po(n):this.cn.autoScale=!0),1===t.yr&&t.yr!==e.yr&&(null!==(n=Sn(this.Dh,this.vo))&&this.Po(n));var i=e.yr!==this.cn.mode;i&&(2===e.yr||this.ph())&&this.Sa(),i&&(3===e.yr||this.Co())&&this.Sa(),void 0!==t.To&&e.To!==t.To&&(this.cn.invertScale=t.To,this.Ro()),this.oo.m(e,this.yr())}},{key:"Do",value:function(){return this.oo}},{key:"P",value:function(){return this.mo.fontSize}},{key:"zt",value:function(){return this.Qa}},{key:"Oo",value:function(t){this.Qa!==t&&(this.Qa=t,this.ko(),this.co=null)}},{key:"Ao",value:function(){if(this.io)return this.io;var t=this.zt()-this.Vo()-this.Bo();return this.io=t,t}},{key:"Ah",value:function(){return this.Io(),this.Dh}},{key:"Po",value:function(t,e){var n=this.Dh;(e||null===n&&null!==t||null!==n&&!n.Mh(t))&&(this.co=null,this.Dh=t)}},{key:"Fi",value:function(){return this.Io(),0===this.Qa||!this.Dh||this.Dh.Fi()}},{key:"zo",value:function(t){return this.To()?t:this.zt()-1-t}},{key:"Ot",value:function(t,e){return this.ph()?t=bn(t,e):this.Co()&&(t=wn(t,e)),this.xo(t,e)}},{key:"Qs",value:function(t,e,n){this.Io();for(var i=this.Bo(),r=R(this.Ah()),o=r.Sh(),a=r.kh(),s=this.Ao()-1,u=this.To(),l=s/(a-o),c=void 0===n?0:n.from,h=void 0===n?t.length:n.to,f=this.Eo(),v=c;v<h;v++){var d=t[v],p=d.ct;if(!isNaN(p)){var y=p;null!==f&&(y=f(d.ct,e));var m=i+l*(y-o),g=u?m:this.Qa-1-m;d.rt=g}}}},{key:"me",value:function(t,e,n){this.Io();for(var i=this.Bo(),r=R(this.Ah()),o=r.Sh(),a=r.kh(),s=this.Ao()-1,u=this.To(),l=s/(a-o),c=void 0===n?0:n.from,h=void 0===n?t.length:n.to,f=this.Eo(),v=c;v<h;v++){var d=t[v],p=d.we,y=d.ge,m=d.Me,g=d.xe;null!==f&&(p=f(d.we,e),y=f(d.ge,e),m=f(d.Me,e),g=f(d.xe,e));var b=i+l*(p-o),k=u?b:this.Qa-1-b;d.ve=k,b=i+l*(y-o),k=u?b:this.Qa-1-b,d.ce=k,b=i+l*(m-o),k=u?b:this.Qa-1-b,d.de=k,b=i+l*(g-o),k=u?b:this.Qa-1-b,d.pe=k}}},{key:"pn",value:function(t,e){var n=this.Mo(t,e);return this.Lo(n,e)}},{key:"Lo",value:function(t,e){var n=t;return this.ph()?n=function(t,e){return e<0&&(t=-t),t/100*e+e}(n,e):this.Co()&&(n=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(n,e)),n}},{key:"Ta",value:function(){return this._o}},{key:"No",value:function(){if(this.uo)return this.uo;for(var t=[],e=0;e<this._o.length;e++){var n=this._o[e];null===n.Zi()&&n.Gi(e+1),t.push(n)}return t=Zn(t),this.uo=t,this.uo}},{key:"Fo",value:function(t){-1===this._o.indexOf(t)&&(this._o.push(t),this.Sa(),this.Wo())}},{key:"jo",value:function(t){var e=this._o.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this._o.splice(e,1),0===this._o.length&&(this.So({Wn:!0}),this.Po(null)),this.Sa(),this.Wo()}},{key:"Pt",value:function(){var t,e=null,n=(0,a.Z)(this._o);try{for(n.s();!(t=n.n()).done;){var i=t.value.Pt();null!==i&&(null===e||i.ia<e.ia)&&(e=i)}}catch(r){n.e(r)}finally{n.f()}return null===e?null:e.Vt}},{key:"To",value:function(){return this.cn.invertScale}},{key:"Ea",value:function(){var t=null===this.Pt();if(null!==this.co&&(t||this.co.Ho===t))return this.co.Ea;this.wo.Xa();var e=this.wo.Ea();return this.co={Ea:e,Ho:t},this.ao.m(),e}},{key:"$o",value:function(){return this.ao}},{key:"Uo",value:function(t){this.ph()||this.Co()||null===this.do&&null===this.no&&(this.Fi()||(this.do=this.Qa-t,this.no=R(this.Ah()).xh()))}},{key:"qo",value:function(t){if(!this.ph()&&!this.Co()&&null!==this.do){this.So({Wn:!1}),(t=this.Qa-t)<0&&(t=0);var e=(this.do+.2*(this.Qa-1))/(t+.2*(this.Qa-1)),n=R(this.no).xh();e=Math.max(e,.1),n.Ch(e),this.Po(n)}}},{key:"Yo",value:function(){this.ph()||this.Co()||(this.do=null,this.no=null)}},{key:"Xo",value:function(t){this.yo()||null===this.fo&&null===this.no&&(this.Fi()||(this.fo=t,this.no=R(this.Ah()).xh()))}},{key:"Ko",value:function(t){if(!this.yo()&&null!==this.fo){var e=R(this.Ah()).yh()/(this.Ao()-1),n=t-this.fo;this.To()&&(n*=-1);var i=n*e,r=R(this.no).xh();r.Th(i),this.Po(r,!0),this.co=null}}},{key:"Zo",value:function(){this.yo()||null!==this.fo&&(this.fo=null,this.no=null)}},{key:"ca",value:function(){return this.da||this.Sa(),this.da}},{key:"Wi",value:function(t,e){switch(this.cn.mode){case 2:return this.Go(bn(t,e));case 3:return this.ca().format(wn(t,e));default:return this.zh(t)}}},{key:"Ga",value:function(t){switch(this.cn.mode){case 2:return this.Go(t);case 3:return this.ca().format(t);default:return this.zh(t)}}},{key:"Wl",value:function(t){return this.zh(t,R(this.Jo()).ca())}},{key:"jl",value:function(t,e){return t=bn(t,e),this.Go(t,In)}},{key:"Qo",value:function(){return this._o}},{key:"t_",value:function(t){this.so={ro:t,eo:!1}}},{key:"On",value:function(){this._o.forEach((function(t){return t.On()}))}},{key:"Sa",value:function(){this.co=null;var t=this.Jo(),e=100;null!==t&&(e=Math.round(1/t.ua())),this.da=Ln,this.ph()?(this.da=In,e=100):this.Co()?(this.da=new Zt(100,1),e=100):null!==t&&(this.da=t.ca()),this.wo=new Mn(this,e,this.Mo.bind(this),this.xo.bind(this)),this.wo.Xa()}},{key:"Wo",value:function(){this.uo=null}},{key:"Jo",value:function(){return this._o[0]||null}},{key:"Vo",value:function(){return this.To()?this.cn.scaleMargins.bottom*this.zt()+this.lo:this.cn.scaleMargins.top*this.zt()+this.ho}},{key:"Bo",value:function(){return this.To()?this.cn.scaleMargins.top*this.zt()+this.ho:this.cn.scaleMargins.bottom*this.zt()+this.lo}},{key:"Io",value:function(){this.so.eo||(this.so.eo=!0,this.i_())}},{key:"ko",value:function(){this.io=null}},{key:"xo",value:function(t,e){if(this.Io(),this.Fi())return 0;t=this.Ja()&&t?En(t,this.vo):t;var n=R(this.Ah()),i=this.Bo()+(this.Ao()-1)*(t-n.Sh())/n.yh();return this.zo(i)}},{key:"Mo",value:function(t,e){if(this.Io(),this.Fi())return 0;var n=this.zo(t),i=R(this.Ah()),r=i.Sh()+i.yh()*((n-this.Bo())/(this.Ao()-1));return this.Ja()?xn(r,this.vo):r}},{key:"Ro",value:function(){this.co=null,this.wo.Xa()}},{key:"i_",value:function(){var t=this.so.ro;if(null!==t){var e,n,i,r=null,o=this.Qo(),s=0,u=0,l=(0,a.Z)(o);try{for(l.s();!(e=l.n()).done;){var c=e.value;if(c.Tt()){var h=c.Pt();if(null!==h){var f=c.Rl(t.Os(),t.di()),v=f&&f.Ah();if(null!==v){switch(this.cn.mode){case 1:v=Sn(v,this.vo);break;case 2:v=kn(v,h.Vt);break;case 3:v=_n(v,h.Vt)}if(r=null===r?v:r.ts(R(v)),null!==f){var d=f.Vh();null!==d&&(s=Math.max(s,d.above),u=Math.max(s,d.below))}}}}}}catch(k){l.e(k)}finally{l.f()}if(s===this.ho&&u===this.lo||(this.ho=s,this.lo=u,this.co=null,this.ko()),null!==r){if(r.Sh()===r.kh()){var p=this.Jo(),y=5*(null===p||this.ph()||this.Co()?1:p.ua());this.Ja()&&(r=Tn(r,this.vo)),r=new We(r.Sh()-y,r.kh()+y),this.Ja()&&(r=Sn(r,this.vo))}if(this.Ja()){var m=Tn(r,this.vo),g=Cn(m);if(n=g,i=this.vo,n.La!==i.La||n.Na!==i.Na){var b=null!==this.no?Tn(this.no,this.vo):null;this.vo=g,r=Sn(m,g),null!==b&&(this.no=Sn(b,g))}}this.Po(r)}else null===this.Dh&&(this.Po(new We(-.5,.5)),this.vo=Cn(null));this.so.eo=!0}}},{key:"Eo",value:function(){var t=this;return this.ph()?bn:this.Co()?wn:this.Ja()?function(e){return En(e,t.vo)}:null}},{key:"n_",value:function(t,e,n){return void 0===e?(void 0===n&&(n=this.ca()),n.format(t)):e(t)}},{key:"zh",value:function(t,e){return this.n_(t,this.bo.priceFormatter,e)}},{key:"Go",value:function(t,e){return this.n_(t,this.bo.percentageFormatter,e)}}]),t}(),Rn=function(){function t(e,n){(0,h.Z)(this,t),this._o=[],this.s_=new Map,this.Qa=0,this.e_=0,this.r_=1e3,this.uo=null,this.h_=new K,this.wl=e,this.Ui=n,this.l_=new mn(this);var i=n.W();this.a_=this.o_("left",i.leftPriceScale),this.__=this.o_("right",i.rightPriceScale),this.a_.Do().l(this.u_.bind(this,this.a_),this),this.__.Do().l(this.u_.bind(this,this.__),this),this.c_(i)}return(0,f.Z)(t,[{key:"c_",value:function(t){if(t.leftPriceScale&&this.a_.Nh(t.leftPriceScale),t.rightPriceScale&&this.__.Nh(t.rightPriceScale),t.localization&&(this.a_.Sa(),this.__.Sa()),t.overlayPriceScales)for(var e=0,n=Array.from(this.s_.values());e<n.length;e++){var i=R(n[e][0].At());i.Nh(t.overlayPriceScales),t.localization&&i.Sa()}}},{key:"d_",value:function(t){switch(t){case"left":return this.a_;case"right":return this.__}return this.s_.has(t)?N(this.s_.get(t))[0].At():null}},{key:"S",value:function(){this.qt().f_().p(this),this.a_.Do().p(this),this.__.Do().p(this),this._o.forEach((function(t){t.S&&t.S()})),this.h_.m()}},{key:"v_",value:function(){return this.r_}},{key:"p_",value:function(t){this.r_=t}},{key:"qt",value:function(){return this.Ui}},{key:"$i",value:function(){return this.e_}},{key:"zt",value:function(){return this.Qa}},{key:"m_",value:function(t){this.e_=t,this.b_()}},{key:"Oo",value:function(t){var e=this;this.Qa=t,this.a_.Oo(t),this.__.Oo(t),this._o.forEach((function(n){if(e.dr(n)){var i=n.At();null!==i&&i.Oo(t)}})),this.b_()}},{key:"Ta",value:function(){return this._o}},{key:"dr",value:function(t){var e=t.At();return null===e||this.a_!==e&&this.__!==e}},{key:"Fo",value:function(t,e,n){var i=void 0!==n?n:this.g_().w_+1;this.M_(t,e,i)}},{key:"jo",value:function(t){var e=this._o.indexOf(t);L(-1!==e,"removeDataSource: invalid data source"),this._o.splice(e,1);var n=R(t.At()).xa();if(this.s_.has(n)){var i=N(this.s_.get(n)),r=i.indexOf(t);-1!==r&&(i.splice(r,1),0===i.length&&this.s_.delete(n))}var o=t.At();o&&o.Ta().indexOf(t)>=0&&o.jo(t),null!==o&&(o.Wo(),this.x_(o)),this.uo=null}},{key:"pr",value:function(t){return t===this.a_?"left":t===this.__?"right":"overlay"}},{key:"S_",value:function(){return this.a_}},{key:"k_",value:function(){return this.__}},{key:"y_",value:function(t,e){t.Uo(e)}},{key:"C_",value:function(t,e){t.qo(e),this.b_()}},{key:"T_",value:function(t){t.Yo()}},{key:"P_",value:function(t,e){t.Xo(e)}},{key:"R_",value:function(t,e){t.Ko(e),this.b_()}},{key:"D_",value:function(t){t.Zo()}},{key:"b_",value:function(){this._o.forEach((function(t){t.On()}))}},{key:"vn",value:function(){var t=null;return this.Ui.W().rightPriceScale.visible&&0!==this.__.Ta().length?t=this.__:this.Ui.W().leftPriceScale.visible&&0!==this.a_.Ta().length?t=this.a_:0!==this._o.length&&(t=this._o[0].At()),null===t&&(t=this.__),t}},{key:"vr",value:function(){var t=null;return this.Ui.W().rightPriceScale.visible?t=this.__:this.Ui.W().leftPriceScale.visible&&(t=this.a_),t}},{key:"x_",value:function(t){null!==t&&t.yo()&&this.O_(t)}},{key:"A_",value:function(t){var e=this.wl.Xs();t.So({Wn:!0}),null!==e&&t.t_(e),this.b_()}},{key:"V_",value:function(){this.O_(this.a_),this.O_(this.__)}},{key:"B_",value:function(){var t=this;this.x_(this.a_),this.x_(this.__),this._o.forEach((function(e){t.dr(e)&&t.x_(e.At())})),this.b_(),this.Ui.Fh()}},{key:"No",value:function(){return null===this.uo&&(this.uo=Zn(this._o)),this.uo}},{key:"I_",value:function(){return this.h_}},{key:"z_",value:function(){return this.l_}},{key:"O_",value:function(t){var e=t.Qo();if(e&&e.length>0&&!this.wl.Fi()){var n=this.wl.Xs();null!==n&&t.t_(n)}t.On()}},{key:"g_",value:function(){var t=this.No();if(0===t.length)return{E_:0,w_:0};for(var e=0,n=0,i=0;i<t.length;i++){var r=t[i].Zi();null!==r&&(r<e&&(e=r),r>n&&(n=r))}return{E_:e,w_:n}}},{key:"M_",value:function(t,e,n){var i=this.d_(e);if(null===i&&(i=this.o_(e,this.Ui.W().overlayPriceScales)),this._o.push(t),!Ot(e)){var r=this.s_.get(e)||[];r.push(t),this.s_.set(e,r)}i.Fo(t),t.Ji(i),t.Gi(n),this.x_(i),this.uo=null}},{key:"u_",value:function(t,e,n){e.yr!==n.yr&&this.O_(t)}},{key:"o_",value:function(t,e){var n=Object.assign({visible:!0,autoScale:!0},J(e)),i=new Nn(t,n,this.Ui.W().layout,this.Ui.W().localization);return i.Oo(this.zt()),i}}]),t}(),Dn=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;(0,h.Z)(this,t),this.Ke=0,this.Ze=1,this.Ge=1,this.Qe=new Map,this.Je=new Map,this.L_=e,this.N_=n,this.tr=i}return(0,f.Z)(t,[{key:"F_",value:function(t){var e=t.time,n=this.N_.cacheKey(e),i=this.Qe.get(n);if(void 0!==i)return i.W_;if(this.Ke===this.tr){var r=this.Je.get(this.Ge);this.Je.delete(this.Ge),this.Qe.delete(N(r)),this.Ge++,this.Ke--}var o=this.L_(t);return this.Qe.set(n,{W_:o,er:this.Ze}),this.Je.set(this.Ze,n),this.Ke++,this.Ze++,o}}]),t}(),Pn=function(){function t(e,n){(0,h.Z)(this,t),L(e<=n,"right should be >= left"),this.j_=e,this.H_=n}return(0,f.Z)(t,[{key:"Os",value:function(){return this.j_}},{key:"di",value:function(){return this.H_}},{key:"U_",value:function(){return this.H_-this.j_+1}},{key:"Kr",value:function(t){return this.j_<=t&&t<=this.H_}},{key:"Mh",value:function(t){return this.j_===t.Os()&&this.H_===t.di()}}]),t}();function Fn(t,e){return null===t||null===e?t===e:t.Mh(e)}var Un=function(){function t(){(0,h.Z)(this,t),this.q_=new Map,this.Qe=null,this.Y_=!1}return(0,f.Z)(t,[{key:"X_",value:function(t){this.Y_=t,this.Qe=null}},{key:"K_",value:function(t,e){this.Z_(e),this.Qe=null;for(var n=e;n<t.length;++n){var i=t[n],r=this.q_.get(i.timeWeight);void 0===r&&(r=[],this.q_.set(i.timeWeight,r)),r.push({index:n,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}},{key:"G_",value:function(t,e){var n=Math.ceil(e/t);return null!==this.Qe&&this.Qe.J_===n||(this.Qe={Ea:this.Q_(n),J_:n}),this.Qe.Ea}},{key:"Z_",value:function(t){if(0!==t){var e=[];this.q_.forEach((function(n,i){t<=n[0].index?e.push(i):n.splice(Yt(n,t,(function(e){return e.index<t})),1/0)}));for(var n=0,i=e;n<i.length;n++){var r=i[n];this.q_.delete(r)}}else this.q_.clear()}},{key:"Q_",value:function(t){var e,n=[],i=(0,a.Z)(Array.from(this.q_.keys()).sort((function(t,e){return e-t})));try{for(i.s();!(e=i.n()).done;){var r=e.value;if(this.q_.get(r)){var o=n;n=[];for(var s=o.length,u=0,l=N(this.q_.get(r)),c=l.length,h=1/0,f=-1/0,v=0;v<c;v++){for(var d=l[v],p=d.index;u<s;){var y=o[u],m=y.index;if(!(m<p)){h=m;break}u++,n.push(y),f=m,h=1/0}if(h-p>=t&&p-f>=t)n.push(d),f=p;else if(this.Y_)return o}for(;u<s;u++)n.push(o[u])}}}catch(g){i.e(g)}finally{i.f()}return n}}]),t}(),jn=function(){function t(e){(0,h.Z)(this,t),this.tu=e}return(0,f.Z)(t,[{key:"iu",value:function(){return null===this.tu?null:new Pn(Math.floor(this.tu.Os()),Math.ceil(this.tu.di()))}},{key:"nu",value:function(){return this.tu}}],[{key:"su",value:function(){return new t(null)}}]),t}();function Vn(t,e){return t.weight>e.weight?t:e}var Bn,zn,qn,Wn,Kn,Hn=function(){function t(e,n,i,r){(0,h.Z)(this,t),this.e_=0,this.eu=null,this.ru=[],this.fo=null,this.do=null,this.hu=new Un,this.lu=new Map,this.au=jn.su(),this.ou=!0,this._u=new K,this.uu=new K,this.cu=new K,this.du=null,this.fu=null,this.vu=[],this.cn=n,this.bo=i,this.pu=n.rightOffset,this.mu=n.barSpacing,this.Ui=e,this.N_=r,this.bu(),this.hu.X_(n.uniformDistribution)}return(0,f.Z)(t,[{key:"W",value:function(){return this.cn}},{key:"wu",value:function(t){H(this.bo,t),this.gu(),this.bu()}},{key:"Nh",value:function(t,e){var n;H(this.cn,t),this.cn.fixLeftEdge&&this.Mu(),this.cn.fixRightEdge&&this.xu(),void 0!==t.barSpacing&&this.Ui.Gn(t.barSpacing),void 0!==t.rightOffset&&this.Ui.Jn(t.rightOffset),void 0!==t.minBarSpacing&&this.Ui.Gn(null!==(n=t.barSpacing)&&void 0!==n?n:this.mu),this.gu(),this.bu(),this.cu.m()}},{key:"mn",value:function(t){var e,n;return null!==(n=null===(e=this.ru[t])||void 0===e?void 0:e.time)&&void 0!==n?n:null}},{key:"qi",value:function(t){var e;return null!==(e=this.ru[t])&&void 0!==e?e:null}},{key:"ya",value:function(t,e){var n=this;if(this.ru.length<1)return null;if(this.N_.key(t)>this.N_.key(this.ru[this.ru.length-1].time))return e?this.ru.length-1:null;var i=Yt(this.ru,this.N_.key(t),(function(t,e){return n.N_.key(t.time)<e}));return this.N_.key(t)<this.N_.key(this.ru[i].time)?e?i:null:i}},{key:"Fi",value:function(){return 0===this.e_||0===this.ru.length||null===this.eu}},{key:"ka",value:function(){return this.ru.length>0}},{key:"Xs",value:function(){return this.Su(),this.au.iu()}},{key:"ku",value:function(){return this.Su(),this.au.nu()}},{key:"yu",value:function(){var t=this.Xs();if(null===t)return null;var e={from:t.Os(),to:t.di()};return this.Cu(e)}},{key:"Cu",value:function(t){var e=Math.round(t.from),n=Math.round(t.to),i=R(this.Tu()),r=R(this.Pu());return{from:R(this.qi(Math.max(i,e))),to:R(this.qi(Math.min(r,n)))}}},{key:"Ru",value:function(t){return{from:R(this.ya(t.from,!0)),to:R(this.ya(t.to,!0))}}},{key:"$i",value:function(){return this.e_}},{key:"m_",value:function(t){if(isFinite(t)&&!(t<=0)&&this.e_!==t){var e=this.ku(),n=this.e_;if(this.e_=t,this.ou=!0,this.cn.lockVisibleTimeRangeOnResize&&0!==n){var i=this.mu*t/n;this.mu=i}if(this.cn.fixLeftEdge&&null!==e&&e.Os()<=0){var r=n-t;this.pu-=Math.round(r/this.mu)+1,this.ou=!0}this.Du(),this.Ou()}}},{key:"Et",value:function(t){if(this.Fi()||!Q(t))return 0;var e=this.Au()+this.pu-t;return this.e_-(e+.5)*this.mu-1}},{key:"Js",value:function(t,e){for(var n=this.Au(),i=void 0===e?0:e.from,r=void 0===e?t.length:e.to,o=i;o<r;o++){var a=t[o].ut,s=n+this.pu-a,u=this.e_-(s+.5)*this.mu-1;t[o].et=u}}},{key:"Vu",value:function(t){return Math.ceil(this.Bu(t))}},{key:"Jn",value:function(t){this.ou=!0,this.pu=t,this.Ou(),this.Ui.Iu(),this.Ui.Fh()}},{key:"he",value:function(){return this.mu}},{key:"Gn",value:function(t){this.zu(t),this.Ou(),this.Ui.Iu(),this.Ui.Fh()}},{key:"Eu",value:function(){return this.pu}},{key:"Ea",value:function(){if(this.Fi())return null;if(null!==this.fu)return this.fu;var t,e=this.mu,n=5*(this.Ui.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),i=Math.round(n/e),r=R(this.Xs()),o=Math.max(r.Os(),r.Os()-i),s=Math.max(r.di(),r.di()-i),u=this.hu.G_(e,n),l=this.Tu()+i,c=this.Pu()-i,h=this.Lu(),f=this.cn.fixLeftEdge||h,v=this.cn.fixRightEdge||h,d=0,p=(0,a.Z)(u);try{for(p.s();!(t=p.n()).done;){var y=t.value;if(o<=y.index&&y.index<=s){var m=void 0;d<this.vu.length?((m=this.vu[d]).coord=this.Et(y.index),m.label=this.Nu(y),m.weight=y.weight):(m={needAlignCoordinate:!1,coord:this.Et(y.index),label:this.Nu(y),weight:y.weight},this.vu.push(m)),this.mu>n/2&&!h?m.needAlignCoordinate=!1:m.needAlignCoordinate=f&&y.index<=l||v&&y.index>=c,d++}}}catch(g){p.e(g)}finally{p.f()}return this.vu.length=d,this.fu=this.vu,this.vu}},{key:"Fu",value:function(){this.ou=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}},{key:"Wu",value:function(t){this.ou=!0,this.eu=t,this.Ou(),this.Mu()}},{key:"ju",value:function(t,e){var n=this.Bu(t),i=this.he(),r=i+e*(i/10);this.Gn(r),this.cn.rightBarStaysOnScroll||this.Jn(this.Eu()+(n-this.Bu(t)))}},{key:"Uo",value:function(t){this.fo&&this.Zo(),null===this.do&&null===this.du&&(this.Fi()||(this.do=t,this.Hu()))}},{key:"qo",value:function(t){if(null!==this.du){var e=Vt(this.e_-t,0,this.e_),n=Vt(this.e_-R(this.do),0,this.e_);0!==e&&0!==n&&this.Gn(this.du.he*e/n)}}},{key:"Yo",value:function(){null!==this.do&&(this.do=null,this.$u())}},{key:"Xo",value:function(t){null===this.fo&&null===this.du&&(this.Fi()||(this.fo=t,this.Hu()))}},{key:"Ko",value:function(t){if(null!==this.fo){var e=(this.fo-t)/this.he();this.pu=R(this.du).Eu+e,this.ou=!0,this.Ou()}}},{key:"Zo",value:function(){null!==this.fo&&(this.fo=null,this.$u())}},{key:"Uu",value:function(){this.qu(this.cn.rightOffset)}},{key:"qu",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");var n=this.pu,i=performance.now();this.Ui.Xn({Yu:function(t){return(t-i)/e>=1},Xu:function(r){var o=(r-i)/e;return o>=1?t:n+(t-n)*o}})}},{key:"gt",value:function(t,e){this.ou=!0,this.ru=t,this.hu.K_(t,e),this.Ou()}},{key:"Ku",value:function(){return this._u}},{key:"Zu",value:function(){return this.uu}},{key:"Gu",value:function(){return this.cu}},{key:"Au",value:function(){return this.eu||0}},{key:"Ju",value:function(t){var e=t.U_();this.zu(this.e_/e),this.pu=t.di()-this.Au(),this.Ou(),this.ou=!0,this.Ui.Iu(),this.Ui.Fh()}},{key:"Qu",value:function(){var t=this.Tu(),e=this.Pu();null!==t&&null!==e&&this.Ju(new Pn(t,e+this.cn.rightOffset))}},{key:"tc",value:function(t){var e=new Pn(t.from,t.to);this.Ju(e)}},{key:"Yi",value:function(t){return void 0!==this.bo.timeFormatter?this.bo.timeFormatter(t.originalTime):this.N_.formatHorzItem(t.time)}},{key:"Lu",value:function(){var t=this.Ui.W(),e=t.handleScroll,n=t.handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||n.axisDoubleClickReset.time||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)}},{key:"Tu",value:function(){return 0===this.ru.length?null:0}},{key:"Pu",value:function(){return 0===this.ru.length?null:this.ru.length-1}},{key:"ic",value:function(t){return(this.e_-1-t)/this.mu}},{key:"Bu",value:function(t){var e=this.ic(t),n=this.Au()+this.pu-e;return Math.round(1e6*n)/1e6}},{key:"zu",value:function(t){var e=this.mu;this.mu=t,this.Du(),e!==this.mu&&(this.ou=!0,this.nc())}},{key:"Su",value:function(){if(this.ou)if(this.ou=!1,this.Fi())this.sc(jn.su());else{var t=this.Au(),e=this.e_/this.mu,n=this.pu+t,i=new Pn(n-e+1,n);this.sc(new jn(i))}}},{key:"Du",value:function(){var t=this.ec();if(this.mu<t&&(this.mu=t,this.ou=!0),0!==this.e_){var e=.5*this.e_;this.mu>e&&(this.mu=e,this.ou=!0)}}},{key:"ec",value:function(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&0!==this.ru.length?this.e_/this.ru.length:this.cn.minBarSpacing}},{key:"Ou",value:function(){var t=this.rc();this.pu>t&&(this.pu=t,this.ou=!0);var e=this.hc();null!==e&&this.pu<e&&(this.pu=e,this.ou=!0)}},{key:"hc",value:function(){var t=this.Tu(),e=this.eu;return null===t||null===e?null:t-e-1+(this.cn.fixLeftEdge?this.e_/this.mu:Math.min(2,this.ru.length))}},{key:"rc",value:function(){return this.cn.fixRightEdge?0:this.e_/this.mu-Math.min(2,this.ru.length)}},{key:"Hu",value:function(){this.du={he:this.he(),Eu:this.Eu()}}},{key:"$u",value:function(){this.du=null}},{key:"Nu",value:function(t){var e=this,n=this.lu.get(t.weight);return void 0===n&&(n=new Dn((function(t){return e.lc(t)}),this.N_),this.lu.set(t.weight,n)),n.F_(t)}},{key:"lc",value:function(t){return this.N_.formatTickmark(t,this.bo)}},{key:"sc",value:function(t){var e=this.au;this.au=t,Fn(e.iu(),this.au.iu())||this._u.m(),Fn(e.nu(),this.au.nu())||this.uu.m(),this.nc()}},{key:"nc",value:function(){this.fu=null}},{key:"gu",value:function(){this.nc(),this.lu.clear()}},{key:"bu",value:function(){this.N_.updateFormatter(this.bo)}},{key:"Mu",value:function(){if(this.cn.fixLeftEdge){var t=this.Tu();if(null!==t){var e=this.Xs();if(null!==e){var n=e.Os()-t;if(n<0){var i=this.pu-n-1;this.Jn(i)}this.Du()}}}}},{key:"xu",value:function(){this.Ou(),this.Du()}}]),t}(),Gn=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var i;return(0,h.Z)(this,n),(i=e.call(this)).ac=new Map,i.Lt=t,i}return(0,f.Z)(n,[{key:"Z",value:function(t){}},{key:"J",value:function(t){if(this.Lt.Tt){var e,n=t.context,i=t.mediaSize,r=0,o=(0,a.Z)(this.Lt.oc);try{for(o.s();!(e=o.n()).done;){var s=e.value;if(0!==s.Jt.length){n.font=s.R;var u=this._c(n,s.Jt);u>i.width?s.ju=i.width/u:s.ju=1,r+=s.uc*s.ju}}}catch(d){o.e(d)}finally{o.f()}var l=0;switch(this.Lt.cc){case"top":l=0;break;case"center":l=Math.max((i.height-r)/2,0);break;case"bottom":l=Math.max(i.height-r,0)}n.fillStyle=this.Lt.O;var c,h=(0,a.Z)(this.Lt.oc);try{for(h.s();!(c=h.n()).done;){var f=c.value;n.save();var v=0;switch(this.Lt.dc){case"left":n.textAlign="left",v=f.uc/2;break;case"center":n.textAlign="center",v=i.width/2;break;case"right":n.textAlign="right",v=i.width-1-f.uc/2}n.translate(v,l),n.textBaseline="top",n.font=f.R,n.scale(f.ju,f.ju),n.fillText(f.Jt,0,f.fc),n.restore(),l+=f.uc*f.ju}}catch(d){h.e(d)}finally{h.f()}}}},{key:"_c",value:function(t,e){var n=this.vc(t.font),i=n.get(e);return void 0===i&&(i=t.measureText(e).width,n.set(e,i)),i}},{key:"vc",value:function(t){var e=this.ac.get(t);return void 0===e&&(e=new Map,this.ac.set(t,e)),e}}]),n}(ot),Qn=function(){function t(e){(0,h.Z)(this,t),this.bt=!0,this.jt={Tt:!1,O:"",oc:[],cc:"center",dc:"center"},this.Ht=new Gn(this.jt),this.$t=e}return(0,f.Z)(t,[{key:"gt",value:function(){this.bt=!0}},{key:"xt",value:function(){return this.bt&&(this.St(),this.bt=!1),this.Ht}},{key:"St",value:function(){var t=this.$t.W(),e=this.jt;e.Tt=t.visible,e.Tt&&(e.O=t.color,e.dc=t.horzAlign,e.cc=t.vertAlign,e.oc=[{Jt:t.text,R:nt(t.fontSize,t.fontFamily,t.fontStyle),uc:1.2*t.fontSize,fc:0,ju:0}])}}]),t}(),Yn=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){var r;return(0,h.Z)(this,n),(r=e.call(this)).cn=i,r.wn=new Qn((0,s.Z)(r)),r}return(0,f.Z)(n,[{key:"Rn",value:function(){return[]}},{key:"Pn",value:function(){return[this.wn]}},{key:"W",value:function(){return this.cn}},{key:"On",value:function(){this.wn.gt()}}]),n}(Tt);!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}(Bn||(Bn={}));var Xn=function(){function t(e,n,i){(0,h.Z)(this,t),this.mc=[],this.bc=[],this.e_=0,this.wc=null,this.gc=new K,this.Mc=new K,this.xc=null,this.Sc=e,this.cn=n,this.N_=i,this.kc=new it(this),this.wl=new Hn(this,n.timeScale,this.cn.localization,i),this.wt=new Ct(this,n.crosshair),this.yc=new dn(n.crosshair),this.Cc=new Yn(this,n.watermark),this.Tc(),this.mc[0].p_(2e3),this.Pc=this.Rc(0),this.Dc=this.Rc(1)}return(0,f.Z)(t,[{key:"$l",value:function(){this.Oc(At.es())}},{key:"Fh",value:function(){this.Oc(At.ss())}},{key:"sa",value:function(){this.Oc(new At(1))}},{key:"Ul",value:function(t){var e=this.Ac(t);this.Oc(e)}},{key:"Vc",value:function(){return this.wc}},{key:"Bc",value:function(t){var e=this.wc;this.wc=t,null!==e&&this.Ul(e.Ic),null!==t&&this.Ul(t.Ic)}},{key:"W",value:function(){return this.cn}},{key:"Nh",value:function(t){H(this.cn,t),this.mc.forEach((function(e){return e.c_(t)})),void 0!==t.timeScale&&this.wl.Nh(t.timeScale),void 0!==t.localization&&this.wl.wu(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.gc.m(),this.Pc=this.Rc(0),this.Dc=this.Rc(1),this.$l()}},{key:"zc",value:function(t,e){if("left"!==t)if("right"!==t){var n=this.Ec(t);null!==n&&(n.At.Nh(e),this.gc.m())}else this.Nh({rightPriceScale:e});else this.Nh({leftPriceScale:e})}},{key:"Ec",value:function(t){var e,n=(0,a.Z)(this.mc);try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.d_(t);if(null!==r)return{Ut:i,At:r}}}catch(o){n.e(o)}finally{n.f()}return null}},{key:"yt",value:function(){return this.wl}},{key:"Lc",value:function(){return this.mc}},{key:"Nc",value:function(){return this.Cc}},{key:"Fc",value:function(){return this.wt}},{key:"Wc",value:function(){return this.Mc}},{key:"jc",value:function(t,e){t.Oo(e),this.Iu()}},{key:"m_",value:function(t){this.e_=t,this.wl.m_(this.e_),this.mc.forEach((function(e){return e.m_(t)})),this.Iu()}},{key:"Tc",value:function(t){var e=new Rn(this.wl,this);void 0!==t?this.mc.splice(t,0,e):this.mc.push(e);var n=void 0===t?this.mc.length-1:t,i=At.es();return i.Nn(n,{Fn:0,Wn:!0}),this.Oc(i),e}},{key:"y_",value:function(t,e,n){t.y_(e,n)}},{key:"C_",value:function(t,e,n){t.C_(e,n),this.ql(),this.Oc(this.Hc(t,2))}},{key:"T_",value:function(t,e){t.T_(e),this.Oc(this.Hc(t,2))}},{key:"P_",value:function(t,e,n){e.yo()||t.P_(e,n)}},{key:"R_",value:function(t,e,n){e.yo()||(t.R_(e,n),this.ql(),this.Oc(this.Hc(t,2)))}},{key:"D_",value:function(t,e){e.yo()||(t.D_(e),this.Oc(this.Hc(t,2)))}},{key:"A_",value:function(t,e){t.A_(e),this.Oc(this.Hc(t,2))}},{key:"$c",value:function(t){this.wl.Uo(t)}},{key:"Uc",value:function(t,e){var n=this.yt();if(!n.Fi()&&0!==e){var i=n.$i();t=Math.max(1,Math.min(t,i)),n.ju(t,e),this.Iu()}}},{key:"qc",value:function(t){this.Yc(0),this.Xc(t),this.Kc()}},{key:"Zc",value:function(t){this.wl.qo(t),this.Iu()}},{key:"Gc",value:function(){this.wl.Yo(),this.Fh()}},{key:"Yc",value:function(t){this.wl.Xo(t)}},{key:"Xc",value:function(t){this.wl.Ko(t),this.Iu()}},{key:"Kc",value:function(){this.wl.Zo(),this.Fh()}},{key:"Mt",value:function(){return this.bc}},{key:"Jc",value:function(t,e,n,i,r){this.wt.gn(t,e);var o=NaN,a=this.wl.Vu(t),s=this.wl.Xs();null!==s&&(a=Math.min(Math.max(s.Os(),a),s.di()));var u=i.vn(),l=u.Pt();null!==l&&(o=u.pn(e,l)),o=this.yc.Ca(o,a,i),this.wt.kn(a,o,i),this.sa(),r||this.Mc.m(this.wt.kt(),{x:t,y:e},n)}},{key:"Qc",value:function(t,e,n){var i=n.vn(),r=i.Pt(),o=i.Ot(t,R(r)),a=this.wl.ya(e,!0),s=this.wl.Et(R(a));this.Jc(s,o,null,n,!0)}},{key:"td",value:function(t){this.Fc().Cn(),this.sa(),t||this.Mc.m(null,null,null)}},{key:"ql",value:function(){var t=this.wt.Ut();if(null!==t){var e=this.wt.xn(),n=this.wt.Sn();this.Jc(e,n,null,t)}this.wt.On()}},{key:"nd",value:function(t,e,n){var i=this.wl.mn(0);void 0!==e&&void 0!==n&&this.wl.gt(e,n);var r=this.wl.mn(0),o=this.wl.Au(),a=this.wl.Xs();if(null!==a&&null!==i&&null!==r){var s=a.Kr(o),u=this.N_.key(i)>this.N_.key(r),l=null!==t&&t>o&&!u,c=this.wl.W().allowShiftVisibleRangeOnWhitespaceReplacement,h=s&&(!(void 0===n)||c)&&this.wl.W().shiftVisibleRangeOnNewBar;if(l&&!h){var f=t-o;this.wl.Jn(this.wl.Eu()-f)}}this.wl.Wu(t)}},{key:"Kl",value:function(t){null!==t&&t.B_()}},{key:"cr",value:function(t){var e=this.mc.find((function(e){return e.No().includes(t)}));return void 0===e?null:e}},{key:"Iu",value:function(){this.Cc.On(),this.mc.forEach((function(t){return t.B_()})),this.ql()}},{key:"S",value:function(){this.mc.forEach((function(t){return t.S()})),this.mc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}},{key:"sd",value:function(){return this.kc}},{key:"mr",value:function(){return this.kc.W()}},{key:"f_",value:function(){return this.gc}},{key:"ed",value:function(t,e,n){var i=this.mc[0],r=this.rd(e,t,i,n);return this.bc.push(r),1===this.bc.length?this.$l():this.Fh(),r}},{key:"hd",value:function(t){var e=this.cr(t),n=this.bc.indexOf(t);L(-1!==n,"Series not found"),this.bc.splice(n,1),R(e).jo(t),t.S&&t.S()}},{key:"Hl",value:function(t,e){var n=R(this.cr(t));n.jo(t);var i=this.Ec(e);if(null===i){var r=t.Zi();n.Fo(t,e,r)}else{var o=i.Ut===n?t.Zi():void 0;i.Ut.Fo(t,e,o)}}},{key:"Qu",value:function(){var t=At.ss();t.$n(),this.Oc(t)}},{key:"ld",value:function(t){var e=At.ss();e.Yn(t),this.Oc(e)}},{key:"Zn",value:function(){var t=At.ss();t.Zn(),this.Oc(t)}},{key:"Gn",value:function(t){var e=At.ss();e.Gn(t),this.Oc(e)}},{key:"Jn",value:function(t){var e=At.ss();e.Jn(t),this.Oc(e)}},{key:"Xn",value:function(t){var e=At.ss();e.Xn(t),this.Oc(e)}},{key:"Un",value:function(){var t=At.ss();t.Un(),this.Oc(t)}},{key:"ad",value:function(){return this.cn.rightPriceScale.visible?"right":"left"}},{key:"od",value:function(){return this.Dc}},{key:"q",value:function(){return this.Pc}},{key:"It",value:function(t){var e=this.Dc,n=this.Pc;if(e===n)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.xc||this.xc.Ts!==n||this.xc.Ps!==e)this.xc={Ts:n,Ps:e,_d:new Map};else{var r=this.xc._d.get(t);if(void 0!==r)return r}var o=function(t,e,n){var r=q(t),o=(0,i.Z)(r,4),a=o[0],s=o[1],u=o[2],l=o[3],c=q(e),h=(0,i.Z)(c,4),f=h[0],v=h[1],d=h[2],p=h[3],y=[F(a+n*(f-a)),F(s+n*(v-s)),F(u+n*(d-u)),U(l+n*(p-l))];return"rgba(".concat(y[0],", ").concat(y[1],", ").concat(y[2],", ").concat(y[3],")")}(n,e,t/100);return this.xc._d.set(t,o),o}},{key:"Hc",value:function(t,e){var n=new At(e);if(null!==t){var i=this.mc.indexOf(t);n.Nn(i,{Fn:e})}return n}},{key:"Ac",value:function(t,e){return void 0===e&&(e=2),this.Hc(this.cr(t),e)}},{key:"Oc",value:function(t){this.Sc&&this.Sc(t),this.mc.forEach((function(t){return t.z_().Wh().gt()}))}},{key:"rd",value:function(t,e,n,i){var r=new vn(this,t,e,n,i),o=void 0!==t.priceScaleId?t.priceScaleId:this.ad();return n.Fo(r,o),Ot(o)||r.Nh(t),r}},{key:"Rc",value:function(t){var e=this.cn.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color}}]),t}();function Jn(t){return!G(t)&&!Y(t)}function $n(t){return G(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(zn||(zn={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(qn||(qn={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(Wn||(Wn={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Kn||(Kn={}));var ti=function(t){return t.getUTCFullYear()};var ei=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yyyy-MM-dd",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";(0,h.Z)(this,t),this.ud=e,this.dd=n}return(0,f.Z)(t,[{key:"F_",value:function(t){return function(t,e,n){return e.replace(/yyyy/g,function(t){return Mt(ti(t),4)}(t)).replace(/yy/g,function(t){return Mt(ti(t)%100,2)}(t)).replace(/MMMM/g,function(t,e){return new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"long"})}(t,n)).replace(/MMM/g,function(t,e){return new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"})}(t,n)).replace(/MM/g,function(t){return Mt(function(t){return t.getUTCMonth()+1}(t),2)}(t)).replace(/dd/g,function(t){return Mt(function(t){return t.getUTCDate()}(t),2)}(t))}(t,this.ud,this.dd)}}]),t}(),ni=function(){function t(e){(0,h.Z)(this,t),this.fd=e||"%h:%m:%s"}return(0,f.Z)(t,[{key:"F_",value:function(t){return this.fd.replace("%h",Mt(t.getUTCHours(),2)).replace("%m",Mt(t.getUTCMinutes(),2)).replace("%s",Mt(t.getUTCSeconds(),2))}}]),t}(),ii={vd:"yyyy-MM-dd",pd:"%h:%m:%s",md:" ",bd:"default"},ri=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,h.Z)(this,t);var n=Object.assign(Object.assign({},ii),e);this.wd=new ei(n.vd,n.bd),this.gd=new ni(n.pd),this.Md=n.md}return(0,f.Z)(t,[{key:"F_",value:function(t){return"".concat(this.wd.F_(t)).concat(this.Md).concat(this.gd.F_(t))}}]),t}();function oi(t){return 60*t*60*1e3}function ai(t){return 60*t*1e3}var si=[{xd:(1,1e3),Sd:10},{xd:ai(1),Sd:20},{xd:ai(5),Sd:21},{xd:ai(30),Sd:22},{xd:oi(1),Sd:30},{xd:oi(3),Sd:31},{xd:oi(6),Sd:32},{xd:oi(12),Sd:33}];function ui(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(var n=si.length-1;n>=0;--n)if(Math.floor(e.getTime()/si[n].xd)!==Math.floor(t.getTime()/si[n].xd))return si[n].Sd;return 0}function li(t){var e=t;if(Y(t)&&(e=hi(t)),!Jn(e))throw new Error("time must be of type BusinessDay");var n=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{kd:Math.round(n.getTime()/1e3),yd:e}}function ci(t){if(!$n(t))throw new Error("time must be of type isUTCTimestamp");return{kd:t}}function hi(t){var e=new Date(t);if(isNaN(e.getTime()))throw new Error("Invalid date string=".concat(t,", expected format=yyyy-mm-dd"));return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function fi(t){Y(t.time)&&(t.time=hi(t.time))}var vi=function(){function t(){(0,h.Z)(this,t)}return(0,f.Z)(t,[{key:"options",value:function(){return this.cn}},{key:"setOptions",value:function(t){this.cn=t,this.updateFormatter(t.localization)}},{key:"preprocessData",value:function(t){Array.isArray(t)?function(t){t.forEach(fi)}(t):fi(t)}},{key:"createConverterToInternalObj",value:function(t){return R(function(t){return 0===t.length?null:Jn(t[0].time)||Y(t[0].time)?li:ci}(t))}},{key:"key",value:function(t){return"object"==typeof t&&"kd"in t?t.kd:this.key(this.convertHorzItemToInternal(t))}},{key:"cacheKey",value:function(t){var e=t;return void 0===e.yd?new Date(1e3*e.kd).getTime():new Date(Date.UTC(e.yd.year,e.yd.month-1,e.yd.day)).getTime()}},{key:"convertHorzItemToInternal",value:function(t){return $n(e=t)?ci(e):Jn(e)?li(e):li(hi(e));var e}},{key:"updateFormatter",value:function(t){if(this.cn){var e=t.dateFormat;this.cn.timeScale.timeVisible?this.Cd=new ri({vd:e,pd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",md:"   ",bd:t.locale}):this.Cd=new ei(e,t.locale)}}},{key:"formatHorzItem",value:function(t){var e=t;return this.Cd.F_(new Date(1e3*e.kd))}},{key:"formatTickmark",value:function(t,e){var n=function(t,e,n){switch(t){case 0:case 10:return e?n?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),i=this.cn.timeScale;if(void 0!==i.tickMarkFormatter){var r=i.tickMarkFormatter(t.originalTime,n,e.locale);if(null!==r)return r}return function(t,e,n){var i={};switch(e){case 0:i.year="numeric";break;case 1:i.month="short";break;case 2:i.day="numeric";break;case 3:i.hour12=!1,i.hour="2-digit",i.minute="2-digit";break;case 4:i.hour12=!1,i.hour="2-digit",i.minute="2-digit",i.second="2-digit"}var r=void 0===t.yd?new Date(1e3*t.kd):new Date(Date.UTC(t.yd.year,t.yd.month-1,t.yd.day));return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()).toLocaleString(n,i)}(t.time,n,e.locale)}},{key:"maxTickMarkWeight",value:function(t){var e=t.reduce(Vn,t[0]).weight;return e>30&&e<50&&(e=30),e}},{key:"fillWeightsForPoints",value:function(t,e){!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0!==t.length){for(var n=0===e?null:t[e-1].time.kd,i=null!==n?new Date(1e3*n):null,r=0,o=e;o<t.length;++o){var a=t[o],s=new Date(1e3*a.time.kd);null!==i&&(a.timeWeight=ui(s,i)),r+=a.time.kd-(n||a.time.kd),n=a.time.kd,i=s}if(0===e&&t.length>1){var u=Math.ceil(r/(t.length-1)),l=new Date(1e3*(t[0].time.kd-u));t[0].timeWeight=ui(new Date(1e3*t[0].time.kd),l)}}}(t,e)}}],[{key:"Td",value:function(t){return H({localization:{dateFormat:"dd MMM 'yy"}},null!=t?t:{})}}]),t}(),di="undefined"!=typeof window;function pi(){return!!di&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function yi(){return!!di&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function mi(t){return t+t%2}function gi(t,e){return t.Pd-e.Pd}function bi(t,e,n){var i=(t.Pd-e.Pd)/(t.ut-e.ut);return Math.sign(i)*Math.min(Math.abs(i),n)}var ki=function(){function t(e,n,i,r){(0,h.Z)(this,t),this.Rd=null,this.Dd=null,this.Od=null,this.Ad=null,this.Vd=null,this.Bd=0,this.Id=0,this.zd=e,this.Ed=n,this.Ld=i,this.rs=r}return(0,f.Z)(t,[{key:"Nd",value:function(t,e){if(null!==this.Rd){if(this.Rd.ut===e)return void(this.Rd.Pd=t);if(Math.abs(this.Rd.Pd-t)<this.rs)return}this.Ad=this.Od,this.Od=this.Dd,this.Dd=this.Rd,this.Rd={ut:e,Pd:t}}},{key:"Dr",value:function(t,e){if(null!==this.Rd&&null!==this.Dd&&!(e-this.Rd.ut>50)){var n=0,i=bi(this.Rd,this.Dd,this.Ed),r=gi(this.Rd,this.Dd),o=[i],a=[r];if(n+=r,null!==this.Od){var s=bi(this.Dd,this.Od,this.Ed);if(Math.sign(s)===Math.sign(i)){var u=gi(this.Dd,this.Od);if(o.push(s),a.push(u),n+=u,null!==this.Ad){var l=bi(this.Od,this.Ad,this.Ed);if(Math.sign(l)===Math.sign(i)){var c=gi(this.Od,this.Ad);o.push(l),a.push(c),n+=c}}}}for(var h=0,f=0;f<o.length;++f)h+=a[f]/n*o[f];Math.abs(h)<this.zd||(this.Vd={Pd:t,ut:e},this.Id=h,this.Bd=function(t,e){var n=Math.log(e);return Math.log(1*n/-t)/n}(Math.abs(h),this.Ld))}}},{key:"Xu",value:function(t){var e=R(this.Vd),n=t-e.ut;return e.Pd+this.Id*(Math.pow(this.Ld,n)-1)/Math.log(this.Ld)}},{key:"Yu",value:function(t){return null===this.Vd||this.Fd(t)===this.Bd}},{key:"Fd",value:function(t){var e=t-R(this.Vd).ut;return Math.min(e,this.Bd)}}]),t}();function wi(t,e){var n=R(t.ownerDocument).createElement("canvas");t.appendChild(n);var i=function(t,e){if("device-pixel-content-box"===e.type)return new y(t,e.transform,e.options);throw new Error("Unsupported binding target")}(n,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:function(t,e){return{width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)}}});return i.resizeCanvasElement(e),i}function _i(t,e,n,i){t.G&&t.G(e,n,i)}function Ei(t,e,n,i){t.K(e,n,i)}function xi(t,e,n,i){var r,o=t(n,i),s=(0,a.Z)(o);try{for(s.s();!(r=s.n()).done;){var u=r.value.xt();null!==u&&e(u)}}catch(l){s.e(l)}finally{s.f()}}var Si=function(){function t(e,n,i){var r=this;(0,h.Z)(this,t),this.Wd=0,this.jd=null,this.Hd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY},this.$d=0,this.Ud=null,this.qd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY},this.Yd=null,this.Xd=!1,this.Kd=null,this.Zd=null,this.Gd=!1,this.Jd=!1,this.Qd=!1,this.tf=null,this.if=null,this.nf=null,this.sf=null,this.ef=null,this.rf=null,this.hf=null,this.lf=0,this.af=!1,this._f=!1,this.uf=!1,this.cf=0,this.df=null,this.ff=!yi(),this.vf=function(t){r.pf(t)},this.mf=function(t){if(r.bf(t)){var e=r.wf(t);if(++r.$d,r.Ud&&r.$d>1)r.Mf(Oi(t),r.qd).gf<30&&!r.Qd&&r.xf(e,r.kf.Sf),r.yf()}else{var n=r.wf(t);if(++r.Wd,r.jd&&r.Wd>1)r.Mf(Oi(t),r.Hd).gf<5&&!r.Jd&&r.Cf(n,r.kf.Tf),r.Pf()}},this.Rf=e,this.kf=n,this.cn=i,this.Df()}return(0,f.Z)(t,[{key:"S",value:function(){null!==this.tf&&(this.tf(),this.tf=null),null!==this.if&&(this.if(),this.if=null),null!==this.sf&&(this.sf(),this.sf=null),null!==this.ef&&(this.ef(),this.ef=null),null!==this.rf&&(this.rf(),this.rf=null),null!==this.nf&&(this.nf(),this.nf=null),this.Of(),this.Pf()}},{key:"Af",value:function(t){var e=this;this.sf&&this.sf();var n=this.Vf.bind(this);if(this.sf=function(){e.Rf.removeEventListener("mousemove",n)},this.Rf.addEventListener("mousemove",n),!this.bf(t)){var i=this.wf(t);this.Cf(i,this.kf.Bf),this.ff=!0}}},{key:"Pf",value:function(){null!==this.jd&&clearTimeout(this.jd),this.Wd=0,this.jd=null,this.Hd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY}}},{key:"yf",value:function(){null!==this.Ud&&clearTimeout(this.Ud),this.$d=0,this.Ud=null,this.qd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY}}},{key:"Vf",value:function(t){if(!this.uf&&null===this.Zd&&!this.bf(t)){var e=this.wf(t);this.Cf(e,this.kf.If),this.ff=!0}}},{key:"zf",value:function(t){var e=Mi(t.changedTouches,R(this.df));if(null!==e&&(this.cf=Ai(t),null===this.hf&&!this._f)){this.af=!0;var n=this.Mf(Oi(e),R(this.Zd)),i=n.Ef,r=n.Lf,o=n.gf;if(this.Gd||!(o<5)){if(!this.Gd){var a=.5*i,s=r>=a&&!this.cn.Nf(),u=a>r&&!this.cn.Ff();s||u||(this._f=!0),this.Gd=!0,this.Qd=!0,this.Of(),this.yf()}if(!this._f){var l=this.wf(t,e);this.xf(l,this.kf.Wf),Ci(t)}}}}},{key:"jf",value:function(t){if(0===t.button&&(this.Mf(Oi(t),R(this.Kd)).gf>=5&&(this.Jd=!0,this.Pf()),this.Jd)){var e=this.wf(t);this.Cf(e,this.kf.Hf)}}},{key:"Mf",value:function(t,e){var n=Math.abs(e.et-t.et),i=Math.abs(e.rt-t.rt);return{Ef:n,Lf:i,gf:n+i}}},{key:"$f",value:function(t){var e=Mi(t.changedTouches,R(this.df));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null!==e){this.df=null,this.cf=Ai(t),this.Of(),this.Zd=null,this.rf&&(this.rf(),this.rf=null);var n=this.wf(t,e);if(this.xf(n,this.kf.Uf),++this.$d,this.Ud&&this.$d>1)this.Mf(Oi(e),this.qd).gf<30&&!this.Qd&&this.xf(n,this.kf.Sf),this.yf();else this.Qd||(this.xf(n,this.kf.qf),this.kf.qf&&Ci(t));0===this.$d&&Ci(t),0===t.touches.length&&this.Xd&&(this.Xd=!1,Ci(t))}}},{key:"pf",value:function(t){if(0===t.button){var e=this.wf(t);if(this.Kd=null,this.uf=!1,this.ef&&(this.ef(),this.ef=null),pi()&&this.Rf.ownerDocument.documentElement.removeEventListener("mouseleave",this.vf),!this.bf(t))if(this.Cf(e,this.kf.Yf),++this.Wd,this.jd&&this.Wd>1){this.Mf(Oi(t),this.Hd).gf<5&&!this.Jd&&this.Cf(e,this.kf.Tf),this.Pf()}else this.Jd||this.Cf(e,this.kf.Xf)}}},{key:"Of",value:function(){null!==this.Yd&&(clearTimeout(this.Yd),this.Yd=null)}},{key:"Kf",value:function(t){if(null===this.df){var e=t.changedTouches[0];this.df=e.identifier,this.cf=Ai(t);var n=this.Rf.ownerDocument.documentElement;this.Qd=!1,this.Gd=!1,this._f=!1,this.Zd=Oi(e),this.rf&&(this.rf(),this.rf=null);var i=this.zf.bind(this),r=this.$f.bind(this);this.rf=function(){n.removeEventListener("touchmove",i),n.removeEventListener("touchend",r)},n.addEventListener("touchmove",i,{passive:!1}),n.addEventListener("touchend",r,{passive:!1}),this.Of(),this.Yd=setTimeout(this.Zf.bind(this,t),240);var o=this.wf(t,e);this.xf(o,this.kf.Gf),this.Ud||(this.$d=0,this.Ud=setTimeout(this.yf.bind(this),500),this.qd=Oi(e))}}},{key:"Jf",value:function(t){if(0===t.button){var e=this.Rf.ownerDocument.documentElement;pi()&&e.addEventListener("mouseleave",this.vf),this.Jd=!1,this.Kd=Oi(t),this.ef&&(this.ef(),this.ef=null);var n=this.jf.bind(this),i=this.pf.bind(this);if(this.ef=function(){e.removeEventListener("mousemove",n),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",n),e.addEventListener("mouseup",i),this.uf=!0,!this.bf(t)){var r=this.wf(t);this.Cf(r,this.kf.Qf),this.jd||(this.Wd=0,this.jd=setTimeout(this.Pf.bind(this),500),this.Hd=Oi(t))}}}},{key:"Df",value:function(){var t=this;this.Rf.addEventListener("mouseenter",this.Af.bind(this)),this.Rf.addEventListener("touchcancel",this.Of.bind(this));var e=this.Rf.ownerDocument,n=function(e){t.kf.tv&&(e.composed&&t.Rf.contains(e.composedPath()[0])||e.target&&t.Rf.contains(e.target)||t.kf.tv())};this.if=function(){e.removeEventListener("touchstart",n)},this.tf=function(){e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0}),yi()&&(this.nf=function(){t.Rf.removeEventListener("dblclick",t.mf)},this.Rf.addEventListener("dblclick",this.mf)),this.Rf.addEventListener("mouseleave",this.iv.bind(this)),this.Rf.addEventListener("touchstart",this.Kf.bind(this),{passive:!0}),function(t){di&&void 0!==window.chrome&&t.addEventListener("mousedown",(function(t){if(1===t.button)return t.preventDefault(),!1}))}(this.Rf),this.Rf.addEventListener("mousedown",this.Jf.bind(this)),this.nv(),this.Rf.addEventListener("touchmove",(function(){}),{passive:!1})}},{key:"nv",value:function(){var t=this;void 0===this.kf.sv&&void 0===this.kf.ev&&void 0===this.kf.rv||(this.Rf.addEventListener("touchstart",(function(e){return t.hv(e.touches)}),{passive:!0}),this.Rf.addEventListener("touchmove",(function(e){if(2===e.touches.length&&null!==t.hf&&void 0!==t.kf.ev){var n=Ti(e.touches[0],e.touches[1])/t.lf;t.kf.ev(t.hf,n),Ci(e)}}),{passive:!1}),this.Rf.addEventListener("touchend",(function(e){t.hv(e.touches)})))}},{key:"hv",value:function(t){1===t.length&&(this.af=!1),2!==t.length||this.af||this.Xd?this.lv():this.av(t)}},{key:"av",value:function(t){var e=this.Rf.getBoundingClientRect()||{left:0,top:0};this.hf={et:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,rt:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.lf=Ti(t[0],t[1]),void 0!==this.kf.sv&&this.kf.sv(),this.Of()}},{key:"lv",value:function(){null!==this.hf&&(this.hf=null,void 0!==this.kf.rv&&this.kf.rv())}},{key:"iv",value:function(t){if(this.sf&&this.sf(),!this.bf(t)&&this.ff){var e=this.wf(t);this.Cf(e,this.kf.ov),this.ff=!yi()}}},{key:"Zf",value:function(t){var e=Mi(t.touches,R(this.df));if(null!==e){var n=this.wf(t,e);this.xf(n,this.kf._v),this.Qd=!0,this.Xd=!0}}},{key:"bf",value:function(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:Ai(t)<this.cf+500}},{key:"xf",value:function(t,e){e&&e.call(this.kf,t)}},{key:"Cf",value:function(t,e){e&&e.call(this.kf,t)}},{key:"wf",value:function(t,e){var n=e||t,i=this.Rf.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-i.left,localY:n.clientY-i.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,uv:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,cv:t.type,dv:n.target,fv:t.view,vv:function(){"touchstart"!==t.type&&Ci(t)}}}}]),t}();function Ti(t,e){var n=t.clientX-e.clientX,i=t.clientY-e.clientY;return Math.sqrt(n*n+i*i)}function Ci(t){t.cancelable&&t.preventDefault()}function Oi(t){return{et:t.pageX,rt:t.pageY}}function Ai(t){return t.timeStamp||performance.now()}function Mi(t,e){for(var n=0;n<t.length;++n)if(t[n].identifier===e)return t[n];return null}function Zi(t){return{Ic:t.Ic,pv:{wr:t.mv.externalId},bv:t.mv.cursorStyle}}function Ii(t,e,n){var i,r=(0,a.Z)(t);try{for(r.s();!(i=r.n()).done;){var o=i.value,s=o.xt();if(null!==s&&s.br){var u=s.br(e,n);if(null!==u)return{fv:o,pv:u}}}}catch(l){r.e(l)}finally{r.f()}return null}function Li(t,e){return function(n){var i,r,o,a;return(null!==(r=null===(i=n.At())||void 0===i?void 0:i.xa())&&void 0!==r?r:"")!==e?[]:null!==(a=null===(o=n.la)||void 0===o?void 0:o.call(n,t))&&void 0!==a?a:[]}}var Ni=function(){function t(e,n,i,r){var o=this;(0,h.Z)(this,t),this.Li=null,this.wv=null,this.gv=!1,this.Mv=new be(200),this.Gr=null,this.xv=0,this.Sv=!1,this.kv=function(){o.Sv||o.nn.yv().qt().Fh()},this.Cv=function(){o.Sv||o.nn.yv().qt().Fh()},this.nn=e,this.cn=n,this.mo=n.layout,this.kc=i,this.Tv="left"===r,this.Pv=Li("normal",r),this.Rv=Li("top",r),this.Dv=Li("bottom",r),this.Ov=document.createElement("div"),this.Ov.style.height="100%",this.Ov.style.overflow="hidden",this.Ov.style.width="25px",this.Ov.style.left="0",this.Ov.style.position="relative",this.Av=wi(this.Ov,v({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.kv);var a=this.Av.canvasElement;a.style.position="absolute",a.style.zIndex="1",a.style.left="0",a.style.top="0",this.Vv=wi(this.Ov,v({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.Cv);var s=this.Vv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0";var u={Qf:this.Bv.bind(this),Gf:this.Bv.bind(this),Hf:this.Iv.bind(this),Wf:this.Iv.bind(this),tv:this.zv.bind(this),Yf:this.Ev.bind(this),Uf:this.Ev.bind(this),Tf:this.Lv.bind(this),Sf:this.Lv.bind(this),Bf:this.Nv.bind(this),ov:this.Fv.bind(this)};this.Wv=new Si(this.Vv.canvasElement,u,{Nf:function(){return!o.cn.handleScroll.vertTouchDrag},Ff:function(){return!0}})}return(0,f.Z)(t,[{key:"S",value:function(){this.Wv.S(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.Cv),this.Vv.dispose(),this.Av.unsubscribeSuggestedBitmapSizeChanged(this.kv),this.Av.dispose(),null!==this.Li&&this.Li.$o().p(this),this.Li=null}},{key:"jv",value:function(){return this.Ov}},{key:"P",value:function(){return this.mo.fontSize}},{key:"Hv",value:function(){var t=this.kc.W();return this.Gr!==t.R&&(this.Mv.ir(),this.Gr=t.R),t}},{key:"$v",value:function(){if(null===this.Li)return 0;var t=0,e=this.Hv(),n=R(this.Av.canvasElement.getContext("2d"));n.save();var i=this.Li.Ea();n.font=this.Uv(),i.length>0&&(t=Math.max(this.Mv.Si(n,i[0].Za),this.Mv.Si(n,i[i.length-1].Za)));for(var r=this.qv(),o=r.length;o--;){var a=this.Mv.Si(n,r[o].Jt());a>t&&(t=a)}var s=this.Li.Pt();if(null!==s&&null!==this.wv){var u=this.Li.pn(1,s),l=this.Li.pn(this.wv.height-2,s);t=Math.max(t,this.Mv.Si(n,this.Li.Wi(Math.floor(Math.min(u,l))+.11111111111111,s)),this.Mv.Si(n,this.Li.Wi(Math.ceil(Math.max(u,l))-.11111111111111,s)))}n.restore();var c=t||34;return mi(Math.ceil(e.C+e.T+e.B+e.I+5+c))}},{key:"Yv",value:function(t){null!==this.wv&&d(this.wv,t)||(this.wv=t,this.Sv=!0,this.Av.resizeCanvasElement(t),this.Vv.resizeCanvasElement(t),this.Sv=!1,this.Ov.style.width="".concat(t.width,"px"),this.Ov.style.height="".concat(t.height,"px"))}},{key:"Xv",value:function(){return R(this.wv).width}},{key:"Ji",value:function(t){this.Li!==t&&(null!==this.Li&&this.Li.$o().p(this),this.Li=t,t.$o().l(this.ao.bind(this),this))}},{key:"At",value:function(){return this.Li}},{key:"ir",value:function(){var t=this.nn.Kv();this.nn.yv().qt().A_(t,R(this.At()))}},{key:"Zv",value:function(t){var e=this;if(null!==this.wv){if(1!==t){this.Gv(),this.Av.applySuggestedBitmapSize();var n=b(this.Av);null!==n&&(n.useBitmapCoordinateSpace((function(t){e.Jv(t),e.Be(t)})),this.nn.Qv(n,this.Dv),this.tp(n),this.nn.Qv(n,this.Pv),this.ip(n))}this.Vv.applySuggestedBitmapSize();var i=b(this.Vv);null!==i&&(i.useBitmapCoordinateSpace((function(t){var e=t.context,n=t.bitmapSize;e.clearRect(0,0,n.width,n.height)})),this.np(i),this.nn.Qv(i,this.Rv))}}},{key:"sp",value:function(){return this.Av.bitmapSize}},{key:"ep",value:function(t,e,n){var i=this.sp();i.width>0&&i.height>0&&t.drawImage(this.Av.canvasElement,e,n)}},{key:"gt",value:function(){var t;null===(t=this.Li)||void 0===t||t.Ea()}},{key:"Bv",value:function(t){if(null!==this.Li&&!this.Li.Fi()&&this.cn.handleScale.axisPressedMouseMove.price){var e=this.nn.yv().qt(),n=this.nn.Kv();this.gv=!0,e.y_(n,this.Li,t.localY)}}},{key:"Iv",value:function(t){if(null!==this.Li&&this.cn.handleScale.axisPressedMouseMove.price){var e=this.nn.yv().qt(),n=this.nn.Kv(),i=this.Li;e.C_(n,i,t.localY)}}},{key:"zv",value:function(){if(null!==this.Li&&this.cn.handleScale.axisPressedMouseMove.price){var t=this.nn.yv().qt(),e=this.nn.Kv(),n=this.Li;this.gv&&(this.gv=!1,t.T_(e,n))}}},{key:"Ev",value:function(t){if(null!==this.Li&&this.cn.handleScale.axisPressedMouseMove.price){var e=this.nn.yv().qt(),n=this.nn.Kv();this.gv=!1,e.T_(n,this.Li)}}},{key:"Lv",value:function(t){this.cn.handleScale.axisDoubleClickReset.price&&this.ir()}},{key:"Nv",value:function(t){null!==this.Li&&(!this.nn.yv().qt().W().handleScale.axisPressedMouseMove.price||this.Li.ph()||this.Li.Co()||this.rp(1))}},{key:"Fv",value:function(t){this.rp(0)}},{key:"qv",value:function(){var t=this,e=[],n=null===this.Li?void 0:this.Li;return function(i){for(var r=0;r<i.length;++r)for(var o=i[r].Rn(t.nn.Kv(),n),a=0;a<o.length;a++)e.push(o[a])}(this.nn.Kv().No()),e}},{key:"Jv",value:function(t){var e=t.context,n=t.bitmapSize,i=n.width,r=n.height,o=this.nn.Kv().qt(),a=o.q(),s=o.od();a===s?dt(e,0,0,i,r,a):gt(e,0,0,i,r,a,s)}},{key:"Be",value:function(t){var e=t.context,n=t.bitmapSize,i=t.horizontalPixelRatio;if(null!==this.wv&&null!==this.Li&&this.Li.W().borderVisible){e.fillStyle=this.Li.W().borderColor;var r,o=Math.max(1,Math.floor(this.Hv().C*i));r=this.Tv?n.width-o:0,e.fillRect(r,0,o,n.height)}}},{key:"tp",value:function(t){var e=this;if(null!==this.wv&&null!==this.Li){var n=this.Li.Ea(),i=this.Li.W(),r=this.Hv(),o=this.Tv?this.wv.width-r.T:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace((function(t){var e=t.context,s=t.horizontalPixelRatio,u=t.verticalPixelRatio;e.fillStyle=i.borderColor;var l=Math.max(1,Math.floor(u)),c=Math.floor(.5*u),h=Math.round(r.T*s);e.beginPath();var f,v=(0,a.Z)(n);try{for(v.s();!(f=v.n()).done;){var d=f.value;e.rect(Math.floor(o*s),Math.round(d.Aa*u)-c,h,l)}}catch(p){v.e(p)}finally{v.f()}e.fill()})),t.useMediaCoordinateSpace((function(t){var a,s=t.context;s.font=e.Uv(),s.fillStyle=null!==(a=i.textColor)&&void 0!==a?a:e.mo.textColor,s.textAlign=e.Tv?"right":"left",s.textBaseline="middle";for(var u=e.Tv?Math.round(o-r.B):Math.round(o+r.T+r.B),l=n.map((function(t){return e.Mv.xi(s,t.Za)})),c=n.length;c--;){var h=n[c];s.fillText(h.Za,u,h.Aa+l[c])}}))}}},{key:"Gv",value:function(){if(null!==this.wv&&null!==this.Li){var t=this.wv.height/2,e=[],n=this.Li.No().slice(),i=this.nn.Kv(),r=this.Hv();this.Li===i.vr()&&this.nn.Kv().No().forEach((function(t){i.dr(t)&&n.push(t)}));var o=this.Li.Ta()[0],a=this.Li;n.forEach((function(n){var r=n.Rn(i,a);r.forEach((function(t){t.Vi(null),t.Bi()&&e.push(t)})),o===n&&r.length>0&&(t=r[0].yi())})),e.forEach((function(t){return t.Vi(t.yi())})),this.Li.W().alignLabels&&this.hp(e,r,t)}}},{key:"hp",value:function(t,e,n){if(null!==this.wv){var i=t.filter((function(t){return t.yi()<=n})),r=t.filter((function(t){return t.yi()>n}));i.sort((function(t,e){return e.yi()-t.yi()})),i.length&&r.length&&r.push(i[0]),r.sort((function(t,e){return t.yi()-e.yi()}));var o,s=(0,a.Z)(t);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=Math.floor(u.zt(e)/2),c=u.yi();c>-l&&c<l&&u.Vi(l),c>this.wv.height-l&&c<this.wv.height+l&&u.Vi(this.wv.height-l)}}catch(E){s.e(E)}finally{s.f()}for(var h=1;h<i.length;h++){var f=i[h],v=i[h-1],d=v.zt(e,!1),p=f.yi(),y=v.Ai();p>y-d&&f.Vi(y-d)}for(var m=1;m<r.length;m++){var g=r[m],b=r[m-1],k=b.zt(e,!0),w=g.yi(),_=b.Ai();w<_+k&&g.Vi(_+k)}}}},{key:"ip",value:function(t){var e=this;if(null!==this.wv){var n=this.qv(),i=this.Hv(),r=this.Tv?"right":"left";n.forEach((function(n){n.Ii()&&n.xt(R(e.Li)).K(t,i,e.Mv,r)}))}}},{key:"np",value:function(t){var e=this;if(null!==this.wv&&null!==this.Li){var n=this.nn.yv().qt(),i=[],r=this.nn.Kv(),o=n.Fc().Rn(r,this.Li);o.length&&i.push(o);var a=this.Hv(),s=this.Tv?"right":"left";i.forEach((function(n){n.forEach((function(n){n.xt(R(e.Li)).K(t,a,e.Mv,s)}))}))}}},{key:"rp",value:function(t){this.Ov.style.cursor=1===t?"ns-resize":"default"}},{key:"ao",value:function(){var t=this.$v();this.xv<t&&this.nn.yv().qt().$l(),this.xv=t}},{key:"Uv",value:function(){return nt(this.mo.fontSize,this.mo.fontFamily)}}]),t}();function Ri(t,e){var n,i;return null!==(i=null===(n=t.ra)||void 0===n?void 0:n.call(t,e))&&void 0!==i?i:[]}function Di(t,e){var n,i;return null!==(i=null===(n=t.Pn)||void 0===n?void 0:n.call(t,e))&&void 0!==i?i:[]}function Pi(t,e){var n,i;return null!==(i=null===(n=t.Qi)||void 0===n?void 0:n.call(t,e))&&void 0!==i?i:[]}function Fi(t,e){var n,i;return null!==(i=null===(n=t.na)||void 0===n?void 0:n.call(t,e))&&void 0!==i?i:[]}var Ui=function(){function t(e,n){var i=this;(0,h.Z)(this,t),this.wv=v({width:0,height:0}),this.lp=null,this.ap=null,this.op=null,this._p=!1,this.up=new K,this.cp=new K,this.dp=0,this.fp=!1,this.vp=null,this.pp=!1,this.mp=null,this.bp=null,this.Sv=!1,this.kv=function(){i.Sv||null===i.wp||i.Ui().Fh()},this.Cv=function(){i.Sv||null===i.wp||i.Ui().Fh()},this.gp=e,this.wp=n,this.wp.I_().l(this.Mp.bind(this),this,!0),this.xp=document.createElement("td"),this.xp.style.padding="0",this.xp.style.position="relative";var r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.overflow="hidden",this.Sp=document.createElement("td"),this.Sp.style.padding="0",this.kp=document.createElement("td"),this.kp.style.padding="0",this.xp.appendChild(r),this.Av=wi(r,v({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.kv);var o=this.Av.canvasElement;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.Vv=wi(r,v({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.Cv);var a=this.Vv.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0",this.yp=document.createElement("tr"),this.yp.appendChild(this.Sp),this.yp.appendChild(this.xp),this.yp.appendChild(this.kp),this.Cp(),this.Wv=new Si(this.Vv.canvasElement,this,{Nf:function(){return null===i.vp&&!i.gp.W().handleScroll.vertTouchDrag},Ff:function(){return null===i.vp&&!i.gp.W().handleScroll.horzTouchDrag}})}return(0,f.Z)(t,[{key:"S",value:function(){null!==this.lp&&this.lp.S(),null!==this.ap&&this.ap.S(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.Cv),this.Vv.dispose(),this.Av.unsubscribeSuggestedBitmapSizeChanged(this.kv),this.Av.dispose(),null!==this.wp&&this.wp.I_().p(this),this.Wv.S()}},{key:"Kv",value:function(){return R(this.wp)}},{key:"Tp",value:function(e){null!==this.wp&&this.wp.I_().p(this),this.wp=e,null!==this.wp&&this.wp.I_().l(t.prototype.Mp.bind(this),this,!0),this.Cp()}},{key:"yv",value:function(){return this.gp}},{key:"jv",value:function(){return this.yp}},{key:"Cp",value:function(){if(null!==this.wp&&(this.Pp(),0!==this.Ui().Mt().length)){if(null!==this.lp){var t=this.wp.S_();this.lp.Ji(R(t))}if(null!==this.ap){var e=this.wp.k_();this.ap.Ji(R(e))}}}},{key:"Rp",value:function(){null!==this.lp&&this.lp.gt(),null!==this.ap&&this.ap.gt()}},{key:"v_",value:function(){return null!==this.wp?this.wp.v_():0}},{key:"p_",value:function(t){this.wp&&this.wp.p_(t)}},{key:"Bf",value:function(t){if(this.wp){this.Dp();var e=t.localX,n=t.localY;this.Op(e,n,t)}}},{key:"Qf",value:function(t){this.Dp(),this.Ap(),this.Op(t.localX,t.localY,t)}},{key:"If",value:function(t){var e;if(this.wp){this.Dp();var n=t.localX,i=t.localY;this.Op(n,i,t);var r=this.br(n,i);this.gp.Vp(null!==(e=null==r?void 0:r.bv)&&void 0!==e?e:null),this.Ui().Bc(r&&{Ic:r.Ic,pv:r.pv})}}},{key:"Xf",value:function(t){null!==this.wp&&(this.Dp(),this.Bp(t))}},{key:"Tf",value:function(t){null!==this.wp&&this.Ip(this.cp,t)}},{key:"Sf",value:function(t){this.Tf(t)}},{key:"Hf",value:function(t){this.Dp(),this.zp(t),this.Op(t.localX,t.localY,t)}},{key:"Yf",value:function(t){null!==this.wp&&(this.Dp(),this.fp=!1,this.Ep(t))}},{key:"qf",value:function(t){null!==this.wp&&this.Bp(t)}},{key:"_v",value:function(t){if(this.fp=!0,null===this.vp){var e={x:t.localX,y:t.localY};this.Lp(e,e,t)}}},{key:"ov",value:function(t){null!==this.wp&&(this.Dp(),this.wp.qt().Bc(null),this.Np())}},{key:"Fp",value:function(){return this.up}},{key:"Wp",value:function(){return this.cp}},{key:"sv",value:function(){this.dp=1,this.Ui().Un()}},{key:"ev",value:function(t,e){if(this.gp.W().handleScale.pinch){var n=5*(e-this.dp);this.dp=e,this.Ui().Uc(t.et,n)}}},{key:"Gf",value:function(t){this.fp=!1,this.pp=null!==this.vp,this.Ap();var e=this.Ui().Fc();null!==this.vp&&e.Tt()&&(this.mp={x:e.Kt(),y:e.Zt()},this.vp={x:t.localX,y:t.localY})}},{key:"Wf",value:function(t){if(null!==this.wp){var e=t.localX,n=t.localY;if(null===this.vp)this.zp(t);else{this.pp=!1;var i=R(this.mp),r=i.x+(e-this.vp.x),o=i.y+(n-this.vp.y);this.Op(r,o,t)}}}},{key:"Uf",value:function(t){0===this.yv().W().trackingMode.exitMode&&(this.pp=!0),this.jp(),this.Ep(t)}},{key:"br",value:function(t,e){var n=this.wp;return null===n?null:function(t,e,n){var i=t.No(),r=function(t,e,n){var i,r,o,s,u,l,c,h=(0,a.Z)(t);try{for(h.s();!(u=h.n()).done;){var f,v=u.value,d=null!==(r=null===(i=v.oa)||void 0===i?void 0:i.call(v,e,n))&&void 0!==r?r:[],p=(0,a.Z)(d);try{for(p.s();!(f=p.n()).done;){var y=f.value;l=y.zOrder,(!(c=null==o?void 0:o.zOrder)||"top"===l&&"top"!==c||"normal"===l&&"bottom"===c)&&(o=y,s=v)}}catch(m){p.e(m)}finally{p.f()}}}catch(m){h.e(m)}finally{h.f()}return o&&s?{mv:o,Ic:s}:null}(i,e,n);if("top"===(null==r?void 0:r.mv.zOrder))return Zi(r);var o,s=(0,a.Z)(i);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(r&&r.Ic===u&&"bottom"!==r.mv.zOrder&&!r.mv.isBackground)return Zi(r);var l=Ii(u.Pn(t),e,n);if(null!==l)return{Ic:u,fv:l.fv,pv:l.pv};if(r&&r.Ic===u&&"bottom"!==r.mv.zOrder&&r.mv.isBackground)return Zi(r)}}catch(c){s.e(c)}finally{s.f()}return(null==r?void 0:r.mv)?Zi(r):null}(n,t,e)}},{key:"Hp",value:function(t,e){R("left"===e?this.lp:this.ap).Yv(v({width:t,height:this.wv.height}))}},{key:"$p",value:function(){return this.wv}},{key:"Yv",value:function(t){d(this.wv,t)||(this.wv=t,this.Sv=!0,this.Av.resizeCanvasElement(t),this.Vv.resizeCanvasElement(t),this.Sv=!1,this.xp.style.width=t.width+"px",this.xp.style.height=t.height+"px")}},{key:"Up",value:function(){var t=R(this.wp);t.x_(t.S_()),t.x_(t.k_());var e,n=(0,a.Z)(t.Ta());try{for(n.s();!(e=n.n()).done;){var i=e.value;if(t.dr(i)){var r=i.At();null!==r&&t.x_(r),i.On()}}}catch(o){n.e(o)}finally{n.f()}}},{key:"sp",value:function(){return this.Av.bitmapSize}},{key:"ep",value:function(t,e,n){var i=this.sp();i.width>0&&i.height>0&&t.drawImage(this.Av.canvasElement,e,n)}},{key:"Zv",value:function(t){var e=this;if(0!==t&&null!==this.wp){if(t>1&&this.Up(),null!==this.lp&&this.lp.Zv(t),null!==this.ap&&this.ap.Zv(t),1!==t){this.Av.applySuggestedBitmapSize();var n=b(this.Av);null!==n&&(n.useBitmapCoordinateSpace((function(t){e.Jv(t)})),this.wp&&(this.qp(n,Ri),this.Yp(n),this.Xp(n),this.qp(n,Di),this.qp(n,Pi)))}this.Vv.applySuggestedBitmapSize();var i=b(this.Vv);null!==i&&(i.useBitmapCoordinateSpace((function(t){var e=t.context,n=t.bitmapSize;e.clearRect(0,0,n.width,n.height)})),this.Kp(i),this.qp(i,Fi))}}},{key:"Zp",value:function(){return this.lp}},{key:"Gp",value:function(){return this.ap}},{key:"Qv",value:function(t,e){this.qp(t,e)}},{key:"Mp",value:function(){null!==this.wp&&this.wp.I_().p(this),this.wp=null}},{key:"Bp",value:function(t){this.Ip(this.up,t)}},{key:"Ip",value:function(t,e){var n=e.localX,i=e.localY;t.M()&&t.m(this.Ui().yt().Vu(n),{x:n,y:i},e)}},{key:"Jv",value:function(t){var e=t.context,n=t.bitmapSize,i=n.width,r=n.height,o=this.Ui(),a=o.q(),s=o.od();a===s?dt(e,0,0,i,r,s):gt(e,0,0,i,r,a,s)}},{key:"Yp",value:function(t){var e=R(this.wp).z_().Wh().xt();null!==e&&e.K(t,!1)}},{key:"Xp",value:function(t){var e=this.Ui().Nc();this.Jp(t,Di,_i,e),this.Jp(t,Di,Ei,e)}},{key:"Kp",value:function(t){this.Jp(t,Di,Ei,this.Ui().Fc())}},{key:"qp",value:function(t,e){var n,i=R(this.wp).No(),r=(0,a.Z)(i);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.Jp(t,e,_i,o)}}catch(c){r.e(c)}finally{r.f()}var s,u=(0,a.Z)(i);try{for(u.s();!(s=u.n()).done;){var l=s.value;this.Jp(t,e,Ei,l)}}catch(c){u.e(c)}finally{u.f()}}},{key:"Jp",value:function(t,e,n,i){var r=R(this.wp),o=r.qt().Vc(),a=null!==o&&o.Ic===i,s=null!==o&&a&&void 0!==o.pv?o.pv.gr:void 0;xi(e,(function(e){return n(e,t,a,s)}),i,r)}},{key:"Pp",value:function(){if(null!==this.wp){var t=this.gp,e=this.wp.S_().W().visible,n=this.wp.k_().W().visible;e||null===this.lp||(this.Sp.removeChild(this.lp.jv()),this.lp.S(),this.lp=null),n||null===this.ap||(this.kp.removeChild(this.ap.jv()),this.ap.S(),this.ap=null);var i=t.qt().sd();e&&null===this.lp&&(this.lp=new Ni(this,t.W(),i,"left"),this.Sp.appendChild(this.lp.jv())),n&&null===this.ap&&(this.ap=new Ni(this,t.W(),i,"right"),this.kp.appendChild(this.ap.jv()))}}},{key:"Qp",value:function(t){return t.uv&&this.fp||null!==this.vp}},{key:"tm",value:function(t){return Math.max(0,Math.min(t,this.wv.width-1))}},{key:"im",value:function(t){return Math.max(0,Math.min(t,this.wv.height-1))}},{key:"Op",value:function(t,e,n){this.Ui().Jc(this.tm(t),this.im(e),n,R(this.wp))}},{key:"Np",value:function(){this.Ui().td()}},{key:"jp",value:function(){this.pp&&(this.vp=null,this.Np())}},{key:"Lp",value:function(t,e,n){this.vp=t,this.pp=!1,this.Op(e.x,e.y,n);var i=this.Ui().Fc();this.mp={x:i.Kt(),y:i.Zt()}}},{key:"Ui",value:function(){return this.gp.qt()}},{key:"Ep",value:function(t){if(this._p){var e=this.Ui(),n=this.Kv();if(e.D_(n,n.vn()),this.op=null,this._p=!1,e.Kc(),null!==this.bp){var i=performance.now(),r=e.yt();this.bp.Dr(r.Eu(),i),this.bp.Yu(i)||e.Xn(this.bp)}}}},{key:"Dp",value:function(){this.vp=null}},{key:"Ap",value:function(){if(this.wp){if(this.Ui().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)R(document.activeElement).blur();else{var t=document.getSelection();null!==t&&t.removeAllRanges()}!this.wp.vn().Fi()&&this.Ui().yt().Fi()}}},{key:"zp",value:function(t){if(null!==this.wp){var e=this.Ui(),n=e.yt();if(!n.Fi()){var i=this.gp.W(),r=i.handleScroll,o=i.kineticScroll;if(r.pressedMouseMove&&!t.uv||(r.horzTouchDrag||r.vertTouchDrag)&&t.uv){var a=this.wp.vn(),s=performance.now();if(null!==this.op||this.Qp(t)||(this.op={x:t.clientX,y:t.clientY,kd:s,nm:t.localX,sm:t.localY}),null!==this.op&&!this._p&&(this.op.x!==t.clientX||this.op.y!==t.clientY)){if(t.uv&&o.touch||!t.uv&&o.mouse){var u=n.he();this.bp=new ki(.2/u,7/u,.997,15/u),this.bp.Nd(n.Eu(),this.op.kd)}else this.bp=null;a.Fi()||e.P_(this.wp,a,t.localY),e.Yc(t.localX),this._p=!0}this._p&&(a.Fi()||e.R_(this.wp,a,t.localY),e.Xc(t.localX),null!==this.bp&&this.bp.Nd(n.Eu(),s))}}}}}]),t}(),ji=function(){function t(e,n,i,r,o){var a=this;(0,h.Z)(this,t),this.bt=!0,this.wv=v({width:0,height:0}),this.kv=function(){return a.Zv(3)},this.Tv="left"===e,this.kc=i.sd,this.cn=n,this.rm=r,this.hm=o,this.Ov=document.createElement("div"),this.Ov.style.width="25px",this.Ov.style.height="100%",this.Ov.style.overflow="hidden",this.Av=wi(this.Ov,v({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.kv)}return(0,f.Z)(t,[{key:"S",value:function(){this.Av.unsubscribeSuggestedBitmapSizeChanged(this.kv),this.Av.dispose()}},{key:"jv",value:function(){return this.Ov}},{key:"$p",value:function(){return this.wv}},{key:"Yv",value:function(t){d(this.wv,t)||(this.wv=t,this.Av.resizeCanvasElement(t),this.Ov.style.width="".concat(t.width,"px"),this.Ov.style.height="".concat(t.height,"px"),this.bt=!0)}},{key:"Zv",value:function(t){var e=this;if((!(t<3)||this.bt)&&0!==this.wv.width&&0!==this.wv.height){this.bt=!1,this.Av.applySuggestedBitmapSize();var n=b(this.Av);null!==n&&n.useBitmapCoordinateSpace((function(t){e.Jv(t),e.Be(t)}))}}},{key:"sp",value:function(){return this.Av.bitmapSize}},{key:"ep",value:function(t,e,n){var i=this.sp();i.width>0&&i.height>0&&t.drawImage(this.Av.canvasElement,e,n)}},{key:"Be",value:function(t){var e=t.context,n=t.bitmapSize,i=t.horizontalPixelRatio,r=t.verticalPixelRatio;if(this.rm()){e.fillStyle=this.cn.timeScale.borderColor;var o=Math.floor(this.kc.W().C*i),a=Math.floor(this.kc.W().C*r),s=this.Tv?n.width-o:0;e.fillRect(s,0,o,a)}}},{key:"Jv",value:function(t){var e=t.context,n=t.bitmapSize;dt(e,0,0,n.width,n.height,this.hm())}}]),t}();function Vi(t){return function(e){var n,i;return null!==(i=null===(n=e.aa)||void 0===n?void 0:n.call(e,t))&&void 0!==i?i:[]}}var Bi,zi=Vi("normal"),qi=Vi("top"),Wi=Vi("bottom"),Ki=function(){function t(e,n){var i=this;(0,h.Z)(this,t),this.lm=null,this.am=null,this.k=null,this.om=!1,this.wv=v({width:0,height:0}),this._m=new K,this.Mv=new be(5),this.Sv=!1,this.kv=function(){i.Sv||i.gp.qt().Fh()},this.Cv=function(){i.Sv||i.gp.qt().Fh()},this.gp=e,this.N_=n,this.cn=e.W().layout,this.um=document.createElement("tr"),this.dm=document.createElement("td"),this.dm.style.padding="0",this.fm=document.createElement("td"),this.fm.style.padding="0",this.Ov=document.createElement("td"),this.Ov.style.height="25px",this.Ov.style.padding="0",this.vm=document.createElement("div"),this.vm.style.width="100%",this.vm.style.height="100%",this.vm.style.position="relative",this.vm.style.overflow="hidden",this.Ov.appendChild(this.vm),this.Av=wi(this.vm,v({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.kv);var r=this.Av.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Vv=wi(this.vm,v({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.Cv);var o=this.Vv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0",this.um.appendChild(this.dm),this.um.appendChild(this.Ov),this.um.appendChild(this.fm),this.pm(),this.gp.qt().f_().l(this.pm.bind(this),this),this.Wv=new Si(this.Vv.canvasElement,this,{Nf:function(){return!0},Ff:function(){return!i.gp.W().handleScroll.horzTouchDrag}})}return(0,f.Z)(t,[{key:"S",value:function(){this.Wv.S(),null!==this.lm&&this.lm.S(),null!==this.am&&this.am.S(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.Cv),this.Vv.dispose(),this.Av.unsubscribeSuggestedBitmapSizeChanged(this.kv),this.Av.dispose()}},{key:"jv",value:function(){return this.um}},{key:"bm",value:function(){return this.lm}},{key:"wm",value:function(){return this.am}},{key:"Qf",value:function(t){if(!this.om){this.om=!0;var e=this.gp.qt();!e.yt().Fi()&&this.gp.W().handleScale.axisPressedMouseMove.time&&e.$c(t.localX)}}},{key:"Gf",value:function(t){this.Qf(t)}},{key:"tv",value:function(){var t=this.gp.qt();!t.yt().Fi()&&this.om&&(this.om=!1,this.gp.W().handleScale.axisPressedMouseMove.time&&t.Gc())}},{key:"Hf",value:function(t){var e=this.gp.qt();!e.yt().Fi()&&this.gp.W().handleScale.axisPressedMouseMove.time&&e.Zc(t.localX)}},{key:"Wf",value:function(t){this.Hf(t)}},{key:"Yf",value:function(){this.om=!1;var t=this.gp.qt();t.yt().Fi()&&!this.gp.W().handleScale.axisPressedMouseMove.time||t.Gc()}},{key:"Uf",value:function(){this.Yf()}},{key:"Tf",value:function(){this.gp.W().handleScale.axisDoubleClickReset.time&&this.gp.qt().Zn()}},{key:"Sf",value:function(){this.Tf()}},{key:"Bf",value:function(){this.gp.qt().W().handleScale.axisPressedMouseMove.time&&this.rp(1)}},{key:"ov",value:function(){this.rp(0)}},{key:"$p",value:function(){return this.wv}},{key:"gm",value:function(){return this._m}},{key:"Mm",value:function(t,e,n){d(this.wv,t)||(this.wv=t,this.Sv=!0,this.Av.resizeCanvasElement(t),this.Vv.resizeCanvasElement(t),this.Sv=!1,this.Ov.style.width="".concat(t.width,"px"),this.Ov.style.height="".concat(t.height,"px"),this._m.m(t)),null!==this.lm&&this.lm.Yv(v({width:e,height:t.height})),null!==this.am&&this.am.Yv(v({width:n,height:t.height}))}},{key:"xm",value:function(){var t=this.Sm();return Math.ceil(t.C+t.T+t.P+t.L+t.V+t.km)}},{key:"gt",value:function(){this.gp.qt().yt().Ea()}},{key:"sp",value:function(){return this.Av.bitmapSize}},{key:"ep",value:function(t,e,n){var i=this.sp();i.width>0&&i.height>0&&t.drawImage(this.Av.canvasElement,e,n)}},{key:"Zv",value:function(t){var e=this;if(0!==t){if(1!==t){this.Av.applySuggestedBitmapSize();var n=b(this.Av);null!==n&&(n.useBitmapCoordinateSpace((function(t){e.Jv(t),e.Be(t),e.ym(n,Wi)})),this.tp(n),this.ym(n,zi)),null!==this.lm&&this.lm.Zv(t),null!==this.am&&this.am.Zv(t)}this.Vv.applySuggestedBitmapSize();var i=b(this.Vv);null!==i&&(i.useBitmapCoordinateSpace((function(t){var e=t.context,n=t.bitmapSize;e.clearRect(0,0,n.width,n.height)})),this.Cm([].concat((0,c.Z)(this.gp.qt().Mt()),[this.gp.qt().Fc()]),i),this.ym(i,qi))}}},{key:"ym",value:function(t,e){var n,i=this.gp.qt().Mt(),r=(0,a.Z)(i);try{for(r.s();!(n=r.n()).done;){xi(e,(function(e){return _i(e,t,!1,void 0)}),n.value,void 0)}}catch(u){r.e(u)}finally{r.f()}var o,s=(0,a.Z)(i);try{for(s.s();!(o=s.n()).done;){xi(e,(function(e){return Ei(e,t,!1,void 0)}),o.value,void 0)}}catch(u){s.e(u)}finally{s.f()}}},{key:"Jv",value:function(t){var e=t.context,n=t.bitmapSize;dt(e,0,0,n.width,n.height,this.gp.qt().od())}},{key:"Be",value:function(t){var e=t.context,n=t.bitmapSize,i=t.verticalPixelRatio;if(this.gp.W().timeScale.borderVisible){e.fillStyle=this.Tm();var r=Math.max(1,Math.floor(this.Sm().C*i));e.fillRect(0,0,n.width,r)}}},{key:"tp",value:function(t){var e=this,n=this.gp.qt().yt(),i=n.Ea();if(i&&0!==i.length){var r=this.N_.maxTickMarkWeight(i),o=this.Sm(),s=n.W();s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace((function(t){var n=t.context,r=t.horizontalPixelRatio,a=t.verticalPixelRatio;n.strokeStyle=e.Tm(),n.fillStyle=e.Tm();var s=Math.max(1,Math.floor(r)),u=Math.floor(.5*r);n.beginPath();for(var l=Math.round(o.T*a),c=i.length;c--;){var h=Math.round(i[c].coord*r);n.rect(h-u,0,s,l)}n.fill()})),t.useMediaCoordinateSpace((function(t){var n=t.context,s=o.C+o.T+o.L+o.P/2;n.textAlign="center",n.textBaseline="middle",n.fillStyle=e.$(),n.font=e.Uv();var u,l=(0,a.Z)(i);try{for(l.s();!(u=l.n()).done;){var c=u.value;if(c.weight<r){var h=c.needAlignCoordinate?e.Pm(n,c.coord,c.label):c.coord;n.fillText(c.label,h,s)}}}catch(y){l.e(y)}finally{l.f()}n.font=e.Rm();var f,v=(0,a.Z)(i);try{for(v.s();!(f=v.n()).done;){var d=f.value;if(d.weight>=r){var p=d.needAlignCoordinate?e.Pm(n,d.coord,d.label):d.coord;n.fillText(d.label,p,s)}}}catch(y){v.e(y)}finally{v.f()}}))}}},{key:"Pm",value:function(t,e,n){var i=this.Mv.Si(t,n),r=i/2,o=Math.floor(e-r)+.5;return o<0?e+=Math.abs(0-o):o+i>this.wv.width&&(e-=Math.abs(this.wv.width-(o+i))),e}},{key:"Cm",value:function(t,e){var n,i=this.Sm(),r=(0,a.Z)(t);try{for(r.s();!(n=r.n()).done;){var o,s=n.value,u=(0,a.Z)(s.tn());try{for(u.s();!(o=u.n()).done;){o.value.xt().K(e,i)}}catch(l){u.e(l)}finally{u.f()}}}catch(l){r.e(l)}finally{r.f()}}},{key:"Tm",value:function(){return this.gp.W().timeScale.borderColor}},{key:"$",value:function(){return this.cn.textColor}},{key:"j",value:function(){return this.cn.fontSize}},{key:"Uv",value:function(){return nt(this.j(),this.cn.fontFamily)}},{key:"Rm",value:function(){return nt(this.j(),this.cn.fontFamily,"bold")}},{key:"Sm",value:function(){null===this.k&&(this.k={C:1,N:NaN,L:NaN,V:NaN,Hi:NaN,T:5,P:NaN,R:"",ji:new be,km:0});var t=this.k,e=this.Uv();if(t.R!==e){var n=this.j();t.P=n,t.R=e,t.L=3*n/12,t.V=3*n/12,t.Hi=9*n/12,t.N=0,t.km=4*n/12,t.ji.ir()}return this.k}},{key:"rp",value:function(t){this.Ov.style.cursor=1===t?"ew-resize":"default"}},{key:"pm",value:function(){var t=this.gp.qt(),e=t.W();e.leftPriceScale.visible||null===this.lm||(this.dm.removeChild(this.lm.jv()),this.lm.S(),this.lm=null),e.rightPriceScale.visible||null===this.am||(this.fm.removeChild(this.am.jv()),this.am.S(),this.am=null);var n={sd:this.gp.qt().sd()},i=function(){return e.leftPriceScale.borderVisible&&t.yt().W().borderVisible},r=function(){return t.od()};e.leftPriceScale.visible&&null===this.lm&&(this.lm=new ji("left",e,n,i,r),this.dm.appendChild(this.lm.jv())),e.rightPriceScale.visible&&null===this.am&&(this.am=new ji("right",e,n,i,r),this.fm.appendChild(this.am.jv()))}}]),t}(),Hi=!!di&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((function(t){return t.brand.includes("Chromium")}))&&!!di&&((null===(Bi=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===Bi?void 0:Bi.platform)?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0),Gi=function(){function t(e,n,i){var r;(0,h.Z)(this,t),this.Dm=[],this.Om=0,this.Qa=0,this.e_=0,this.Am=0,this.Vm=0,this.Bm=null,this.Im=!1,this.up=new K,this.cp=new K,this.Mc=new K,this.zm=null,this.Em=null,this.Lm=e,this.cn=n,this.N_=i,this.um=document.createElement("div"),this.um.classList.add("tv-lightweight-charts"),this.um.style.overflow="hidden",this.um.style.direction="ltr",this.um.style.width="100%",this.um.style.height="100%",(r=this.um).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.Nm=document.createElement("table"),this.Nm.setAttribute("cellspacing","0"),this.um.appendChild(this.Nm),this.Fm=this.Wm.bind(this),Qi(this.cn)&&this.jm(!0),this.Ui=new Xn(this.Sc.bind(this),this.cn,i),this.qt().Wc().l(this.Hm.bind(this),this),this.$m=new Ki(this,this.N_),this.Nm.appendChild(this.$m.jv());var o=n.autoSize&&this.Um(),a=this.cn.width,s=this.cn.height;if(o||0===a||0===s){var u=e.getBoundingClientRect();a=a||u.width,s=s||u.height}this.qm(a,s),this.Ym(),e.appendChild(this.um),this.Xm(),this.Ui.yt().Gu().l(this.Ui.$l.bind(this.Ui),this),this.Ui.f_().l(this.Ui.$l.bind(this.Ui),this)}return(0,f.Z)(t,[{key:"qt",value:function(){return this.Ui}},{key:"W",value:function(){return this.cn}},{key:"Km",value:function(){return this.Dm}},{key:"Zm",value:function(){return this.$m}},{key:"S",value:function(){this.jm(!1),0!==this.Om&&window.cancelAnimationFrame(this.Om),this.Ui.Wc().p(this),this.Ui.yt().Gu().p(this),this.Ui.f_().p(this),this.Ui.S();var t,e=(0,a.Z)(this.Dm);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.Nm.removeChild(n.jv()),n.Fp().p(this),n.Wp().p(this),n.S()}}catch(i){e.e(i)}finally{e.f()}this.Dm=[],R(this.$m).S(),null!==this.um.parentElement&&this.um.parentElement.removeChild(this.um),this.Mc.S(),this.up.S(),this.cp.S(),this.Gm()}},{key:"qm",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.Qa!==e||this.e_!==t){var i=function(t){var e=Math.floor(t.width),n=Math.floor(t.height);return v({width:e-e%2,height:n-n%2})}(v({width:t,height:e}));this.Qa=i.height,this.e_=i.width;var r=this.Qa+"px",o=this.e_+"px";R(this.um).style.height=r,R(this.um).style.width=o,this.Nm.style.height=r,this.Nm.style.width=o,n?this.Jm(At.es(),performance.now()):this.Ui.$l()}}},{key:"Zv",value:function(t){void 0===t&&(t=At.es());for(var e=0;e<this.Dm.length;e++)this.Dm[e].Zv(t.Hn(e).Fn);this.cn.timeScale.visible&&this.$m.Zv(t.jn())}},{key:"Nh",value:function(t){var e=Qi(this.cn);this.Ui.Nh(t);var n=Qi(this.cn);n!==e&&this.jm(n),this.Xm(),this.Qm(t)}},{key:"Fp",value:function(){return this.up}},{key:"Wp",value:function(){return this.cp}},{key:"Wc",value:function(){return this.Mc}},{key:"tb",value:function(){null!==this.Bm&&(this.Jm(this.Bm,performance.now()),this.Bm=null);var t=this.ib(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=R(e.getContext("2d"));return this.ib(n),e}},{key:"nb",value:function(t){return("left"!==t||this.sb())&&("right"!==t||this.eb())?0===this.Dm.length?0:R("left"===t?this.Dm[0].Zp():this.Dm[0].Gp()).Xv():0}},{key:"rb",value:function(){return this.cn.autoSize&&null!==this.zm}},{key:"hb",value:function(){return this.um}},{key:"Vp",value:function(t){this.Em=t,this.Em?this.hb().style.setProperty("cursor",t):this.hb().style.removeProperty("cursor")}},{key:"lb",value:function(){return this.Em}},{key:"ab",value:function(){return N(this.Dm[0]).$p()}},{key:"Qm",value:function(t){(void 0!==t.autoSize||!this.zm||void 0===t.width&&void 0===t.height)&&(t.autoSize&&!this.zm&&this.Um(),!1===t.autoSize&&null!==this.zm&&this.Gm(),t.autoSize||void 0===t.width&&void 0===t.height||this.qm(t.width||this.e_,t.height||this.Qa))}},{key:"ib",value:function(t){var e=this,n=0,i=0,r=this.Dm[0],o=function(n,i){for(var r=0,o=0;o<e.Dm.length;o++){var a=e.Dm[o],s=R("left"===n?a.Zp():a.Gp()),u=s.sp();null!==t&&s.ep(t,i,r),r+=u.height}};this.sb()&&(o("left",0),n+=R(r.Zp()).sp().width);for(var a=0;a<this.Dm.length;a++){var s=this.Dm[a],u=s.sp();null!==t&&s.ep(t,n,i),i+=u.height}n+=r.sp().width,this.eb()&&(o("right",n),n+=R(r.Gp()).sp().width);var l=function(n,i,r){R("left"===n?e.$m.bm():e.$m.wm()).ep(R(t),i,r)};if(this.cn.timeScale.visible){var c=this.$m.sp();if(null!==t){var h=0;this.sb()&&(l("left",h,i),h=R(r.Zp()).sp().width),this.$m.ep(t,h,i),h+=c.width,this.eb()&&l("right",h,i)}i+=c.height}return v({width:n,height:i})}},{key:"ob",value:function(){var t,e=0,n=0,i=0,r=(0,a.Z)(this.Dm);try{for(r.s();!(t=r.n()).done;){var o=t.value;this.sb()&&(n=Math.max(n,R(o.Zp()).$v(),this.cn.leftPriceScale.minimumWidth)),this.eb()&&(i=Math.max(i,R(o.Gp()).$v(),this.cn.rightPriceScale.minimumWidth)),e+=o.v_()}}catch(_){r.e(_)}finally{r.f()}n=mi(n),i=mi(i);for(var s,u=this.e_,l=this.Qa,c=Math.max(u-n-i,0),h=this.cn.timeScale.visible,f=h?Math.max(this.$m.xm(),this.cn.timeScale.minimumHeight):0,d=0+(f=(s=f)+s%2),p=l<d?0:l-d,y=p/e,m=0,g=0;g<this.Dm.length;++g){var b=this.Dm[g];b.Tp(this.Ui.Lc()[g]);var k,w;w=g===this.Dm.length-1?p-m:Math.round(b.v_()*y),m+=k=Math.max(w,2),b.Yv(v({width:c,height:k})),this.sb()&&b.Hp(n,"left"),this.eb()&&b.Hp(i,"right"),b.Kv()&&this.Ui.jc(b.Kv(),k)}this.$m.Mm(v({width:h?c:0,height:f}),h?n:0,h?i:0),this.Ui.m_(c),this.Am!==n&&(this.Am=n),this.Vm!==i&&(this.Vm=i)}},{key:"jm",value:function(t){t?this.um.addEventListener("wheel",this.Fm,{passive:!1}):this.um.removeEventListener("wheel",this.Fm)}},{key:"_b",value:function(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return Hi?1/window.devicePixelRatio:1}},{key:"Wm",value:function(t){if(0!==t.deltaX&&this.cn.handleScroll.mouseWheel||0!==t.deltaY&&this.cn.handleScale.mouseWheel){var e=this._b(t),n=e*t.deltaX/100,i=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==i&&this.cn.handleScale.mouseWheel){var r=Math.sign(i)*Math.min(1,Math.abs(i)),o=t.clientX-this.um.getBoundingClientRect().left;this.qt().Uc(o,r)}0!==n&&this.cn.handleScroll.mouseWheel&&this.qt().qc(-80*n)}}},{key:"Jm",value:function(t,e){var n,i=t.jn();3===i&&this.ub(),3!==i&&2!==i||(this.cb(t),this.fb(t,e),this.$m.gt(),this.Dm.forEach((function(t){t.Rp()})),3===(null===(n=this.Bm)||void 0===n?void 0:n.jn())&&(this.Bm.ts(t),this.ub(),this.cb(this.Bm),this.fb(this.Bm,e),t=this.Bm,this.Bm=null)),this.Zv(t)}},{key:"fb",value:function(t,e){var n,i=(0,a.Z)(t.Qn());try{for(i.s();!(n=i.n()).done;){var r=n.value;this.ns(r,e)}}catch(o){i.e(o)}finally{i.f()}}},{key:"cb",value:function(t){for(var e=this.Ui.Lc(),n=0;n<e.length;n++)t.Hn(n).Wn&&e[n].V_()}},{key:"ns",value:function(t,e){var n=this.Ui.yt();switch(t.qn){case 0:n.Qu();break;case 1:n.tc(t.Vt);break;case 2:n.Gn(t.Vt);break;case 3:n.Jn(t.Vt);break;case 4:n.Fu();break;case 5:t.Vt.Yu(e)||n.Jn(t.Vt.Xu(e))}}},{key:"Sc",value:function(t){var e=this;null!==this.Bm?this.Bm.ts(t):this.Bm=t,this.Im||(this.Im=!0,this.Om=window.requestAnimationFrame((function(t){if(e.Im=!1,e.Om=0,null!==e.Bm){var n=e.Bm;e.Bm=null,e.Jm(n,t);var i,r=(0,a.Z)(n.Qn());try{for(r.s();!(i=r.n()).done;){var o=i.value;if(5===o.qn&&!o.Vt.Yu(t)){e.qt().Xn(o.Vt);break}}}catch(s){r.e(s)}finally{r.f()}}})))}},{key:"ub",value:function(){this.Ym()}},{key:"Ym",value:function(){for(var t=this.Ui.Lc(),e=t.length,n=this.Dm.length,i=e;i<n;i++){var r=N(this.Dm.pop());this.Nm.removeChild(r.jv()),r.Fp().p(this),r.Wp().p(this),r.S()}for(var o=n;o<e;o++){var a=new Ui(this,t[o]);a.Fp().l(this.vb.bind(this),this),a.Wp().l(this.pb.bind(this),this),this.Dm.push(a),this.Nm.insertBefore(a.jv(),this.$m.jv())}for(var s=0;s<e;s++){var u=t[s],l=this.Dm[s];l.Kv()!==u?l.Tp(u):l.Cp()}this.Xm(),this.ob()}},{key:"mb",value:function(t,e,n){var i,r,o=new Map;if(null!==t&&this.Ui.Mt().forEach((function(e){var n=e.In().nl(t);null!==n&&o.set(e,n)})),null!==t){var a=null===(i=this.Ui.yt().qi(t))||void 0===i?void 0:i.originalTime;void 0!==a&&(r=a)}var s=this.qt().Vc(),u=null!==s&&s.Ic instanceof vn?s.Ic:void 0,l=null!==s&&void 0!==s.pv?s.pv.wr:void 0;return{bb:r,se:null!=t?t:void 0,wb:null!=e?e:void 0,gb:u,Mb:o,xb:l,Sb:null!=n?n:void 0}}},{key:"vb",value:function(t,e,n){var i=this;this.up.m((function(){return i.mb(t,e,n)}))}},{key:"pb",value:function(t,e,n){var i=this;this.cp.m((function(){return i.mb(t,e,n)}))}},{key:"Hm",value:function(t,e,n){var i=this;this.Mc.m((function(){return i.mb(t,e,n)}))}},{key:"Xm",value:function(){var t=this.cn.timeScale.visible?"":"none";this.$m.jv().style.display=t}},{key:"sb",value:function(){return this.Dm[0].Kv().S_().W().visible}},{key:"eb",value:function(){return this.Dm[0].Kv().k_().W().visible}},{key:"Um",value:function(){var t=this;return"ResizeObserver"in window&&(this.zm=new ResizeObserver((function(e){var n=e.find((function(e){return e.target===t.Lm}));n&&t.qm(n.contentRect.width,n.contentRect.height)})),this.zm.observe(this.Lm,{box:"border-box"}),!0)}},{key:"Gm",value:function(){null!==this.zm&&this.zm.disconnect(),this.zm=null}}]),t}();function Qi(t){return Boolean(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function Yi(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function Xi(t,e,n,i){var r=n.value,o={se:e,ut:t,Vt:[r,r,r,r],bb:i};return void 0!==n.color&&(o.O=n.color),o}function Ji(t,e,n,i){var r=n.value,o={se:e,ut:t,Vt:[r,r,r,r],bb:i};return void 0!==n.lineColor&&(o._t=n.lineColor),void 0!==n.topColor&&(o.Ts=n.topColor),void 0!==n.bottomColor&&(o.Ps=n.bottomColor),o}function $i(t,e,n,i){var r=n.value,o={se:e,ut:t,Vt:[r,r,r,r],bb:i};return void 0!==n.topLineColor&&(o.Pe=n.topLineColor),void 0!==n.bottomLineColor&&(o.Re=n.bottomLineColor),void 0!==n.topFillColor1&&(o.Se=n.topFillColor1),void 0!==n.topFillColor2&&(o.ke=n.topFillColor2),void 0!==n.bottomFillColor1&&(o.ye=n.bottomFillColor1),void 0!==n.bottomFillColor2&&(o.Ce=n.bottomFillColor2),o}function tr(t,e,n,i){var r={se:e,ut:t,Vt:[n.open,n.high,n.low,n.close],bb:i};return void 0!==n.color&&(r.O=n.color),r}function er(t,e,n,i){var r={se:e,ut:t,Vt:[n.open,n.high,n.low,n.close],bb:i};return void 0!==n.color&&(r.O=n.color),void 0!==n.borderColor&&(r.Bt=n.borderColor),void 0!==n.wickColor&&(r.$h=n.wickColor),r}function nr(t,e,n,i,r){var o=N(r)(n),a=Math.max.apply(Math,(0,c.Z)(o)),s=Math.min.apply(Math,(0,c.Z)(o)),u=o[o.length-1],l=[u,a,s,u],h=n,f=(h.time,h.color);return{se:e,ut:t,Vt:l,bb:i,He:Yi(h,["time","color"]),O:f}}function ir(t){return void 0!==t.Vt}function rr(t,e){return void 0!==e.customValues&&(t.kb=e.customValues),t}function or(t){return function(e,n,i,r,o,a){return function(t,e){return e?e(t):void 0===(n=t).open&&void 0===n.value;var n}(i,a)?rr({ut:e,se:n,bb:r},i):rr(t(e,n,i,r,o),i)}}function ar(t){return{Candlestick:or(er),Bar:or(tr),Area:or(Ji),Baseline:or($i),Histogram:or(Xi),Line:or(Xi),Custom:or(nr)}[t]}function sr(t){return{se:0,yb:new Map,ia:t}}function ur(t,e){if(void 0!==t&&0!==t.length)return{Cb:e.key(t[0].ut),Tb:e.key(t[t.length-1].ut)}}function lr(t){var e;return t.forEach((function(t){void 0===e&&(e=t.bb)})),N(e)}var cr=function(){function t(e){(0,h.Z)(this,t),this.Pb=new Map,this.Rb=new Map,this.Db=new Map,this.Ob=[],this.N_=e}return(0,f.Z)(t,[{key:"S",value:function(){this.Pb.clear(),this.Rb.clear(),this.Db.clear(),this.Ob=[]}},{key:"Ab",value:function(t,e){var n=this,i=0!==this.Pb.size,r=!1,o=this.Rb.get(t);if(void 0!==o)if(1===this.Rb.size)i=!1,r=!0,this.Pb.clear();else{var s,u=(0,a.Z)(this.Ob);try{for(u.s();!(s=u.n()).done;){s.value.pointData.yb.delete(t)&&(r=!0)}}catch(m){u.e(m)}finally{u.f()}}var l=[];if(0!==e.length){var c=e.map((function(t){return t.time})),h=this.N_.createConverterToInternalObj(e),f=ar(t.Xh()),v=t.ga(),d=t.Ma();l=e.map((function(e,i){var o=h(e.time),a=n.N_.key(o),s=n.Pb.get(a);void 0===s&&(s=sr(o),n.Pb.set(a,s),r=!0);var u=f(o,s.se,e,c[i],v,d);return s.yb.set(t,u),u}))}i&&this.Vb(),this.Bb(t,l);var p=-1;if(r){var y=[];this.Pb.forEach((function(t){y.push({timeWeight:0,time:t.ia,pointData:t,originalTime:lr(t.yb)})})),y.sort((function(t,e){return n.N_.key(t.time)-n.N_.key(e.time)})),p=this.Ib(y)}return this.zb(t,p,function(t,e,n){var i=ur(t,n),r=ur(e,n);if(void 0!==i&&void 0!==r)return{Xl:i.Tb>=r.Tb&&i.Cb>=r.Cb}}(this.Rb.get(t),o,this.N_))}},{key:"hd",value:function(t){return this.Ab(t,[])}},{key:"Eb",value:function(t,e){var n=this,i=e;!function(t){void 0===t.bb&&(t.bb=t.time)}(i),this.N_.preprocessData(e);var r=this.N_.createConverterToInternalObj([e])(e.time),o=this.Db.get(t);if(void 0!==o&&this.N_.key(r)<this.N_.key(o))throw new Error("Cannot update oldest data, last time=".concat(o,", new time=").concat(r));var a=this.Pb.get(this.N_.key(r)),s=void 0===a;void 0===a&&(a=sr(r),this.Pb.set(this.N_.key(r),a));var u=ar(t.Xh()),l=t.ga(),c=t.Ma(),h=u(r,a.se,e,i.bb,l,c);a.yb.set(t,h),this.Lb(t,h);var f={Xl:ir(h)};if(!s)return this.zb(t,-1,f);var v={timeWeight:0,time:a.ia,pointData:a,originalTime:lr(a.yb)},d=Yt(this.Ob,this.N_.key(v.time),(function(t,e){return n.N_.key(t.time)<e}));this.Ob.splice(d,0,v);for(var p=d;p<this.Ob.length;++p)hr(this.Ob[p].pointData,p);return this.N_.fillWeightsForPoints(this.Ob,d),this.zb(t,d,f)}},{key:"Lb",value:function(t,e){var n=this.Rb.get(t);void 0===n&&(n=[],this.Rb.set(t,n));var i=0!==n.length?n[n.length-1]:null;null===i||this.N_.key(e.ut)>this.N_.key(i.ut)?ir(e)&&n.push(e):ir(e)?n[n.length-1]=e:n.splice(-1,1),this.Db.set(t,e.ut)}},{key:"Bb",value:function(t,e){0!==e.length?(this.Rb.set(t,e.filter(ir)),this.Db.set(t,e[e.length-1].ut)):(this.Rb.delete(t),this.Db.delete(t))}},{key:"Vb",value:function(){var t,e=(0,a.Z)(this.Ob);try{for(e.s();!(t=e.n()).done;){var n=t.value;0===n.pointData.yb.size&&this.Pb.delete(this.N_.key(n.time))}}catch(i){e.e(i)}finally{e.f()}}},{key:"Ib",value:function(t){for(var e=-1,n=0;n<this.Ob.length&&n<t.length;++n){var i=this.Ob[n],r=t[n];if(this.N_.key(i.time)!==this.N_.key(r.time)){e=n;break}r.timeWeight=i.timeWeight,hr(r.pointData,n)}if(-1===e&&this.Ob.length!==t.length&&(e=Math.min(this.Ob.length,t.length)),-1===e)return-1;for(var o=e;o<t.length;++o)hr(t[o].pointData,o);return this.N_.fillWeightsForPoints(t,e),this.Ob=t,e}},{key:"Nb",value:function(){if(0===this.Rb.size)return null;var t=0;return this.Rb.forEach((function(e){0!==e.length&&(t=Math.max(t,e[e.length-1].se))})),t}},{key:"zb",value:function(t,e,n){var i={Fb:new Map,yt:{Au:this.Nb()}};if(-1!==e)this.Rb.forEach((function(e,r){i.Fb.set(r,{He:e,Wb:r===t?n:void 0})})),this.Rb.has(t)||i.Fb.set(t,{He:[],Wb:n}),i.yt.jb=this.Ob,i.yt.Hb=e;else{var r=this.Rb.get(t);i.Fb.set(t,{He:r||[],Wb:n})}return i}}]),t}();function hr(t,e){t.se=e,t.yb.forEach((function(t){t.se=e}))}function fr(t){var e={value:t.Vt[3],time:t.bb};return void 0!==t.kb&&(e.customValues=t.kb),e}function vr(t){var e=fr(t);return void 0!==t.O&&(e.color=t.O),e}function dr(t){var e=fr(t);return void 0!==t._t&&(e.lineColor=t._t),void 0!==t.Ts&&(e.topColor=t.Ts),void 0!==t.Ps&&(e.bottomColor=t.Ps),e}function pr(t){var e=fr(t);return void 0!==t.Pe&&(e.topLineColor=t.Pe),void 0!==t.Re&&(e.bottomLineColor=t.Re),void 0!==t.Se&&(e.topFillColor1=t.Se),void 0!==t.ke&&(e.topFillColor2=t.ke),void 0!==t.ye&&(e.bottomFillColor1=t.ye),void 0!==t.Ce&&(e.bottomFillColor2=t.Ce),e}function yr(t){var e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.bb};return void 0!==t.kb&&(e.customValues=t.kb),e}function mr(t){var e=yr(t);return void 0!==t.O&&(e.color=t.O),e}function gr(t){var e=yr(t),n=t.O,i=t.Bt,r=t.$h;return void 0!==n&&(e.color=n),void 0!==i&&(e.borderColor=i),void 0!==r&&(e.wickColor=r),e}function br(t){return{Area:dr,Line:vr,Baseline:pr,Histogram:vr,Bar:mr,Candlestick:gr,Custom:kr}[t]}function kr(t){var e=t.bb;return Object.assign(Object.assign({},t.He),{time:e})}var wr={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},_r={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Er={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:et},xr={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},Sr={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0},Tr={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:et,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function Cr(){return{width:0,height:0,autoSize:!1,layout:Er,crosshair:wr,grid:_r,overlayPriceScales:Object.assign({},xr),leftPriceScale:Object.assign(Object.assign({},xr),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},xr),{visible:!0}),timeScale:Sr,watermark:Tr,localization:{locale:di?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}var Or=function(){function t(e,n){(0,h.Z)(this,t),this.$b=e,this.Ub=n}return(0,f.Z)(t,[{key:"applyOptions",value:function(t){this.$b.qt().zc(this.Ub,t)}},{key:"options",value:function(){return this.Li().W()}},{key:"width",value:function(){return Ot(this.Ub)?this.$b.nb(this.Ub):0}},{key:"Li",value:function(){return R(this.$b.qt().Ec(this.Ub)).At}}]),t}();function Ar(t,e,n){var i=Yi(t,["time","originalTime"]),r=Object.assign({time:e},i);return void 0!==n&&(r.originalTime=n),r}var Mr={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""},Zr=function(){function t(e){(0,h.Z)(this,t),this.Bh=e}return(0,f.Z)(t,[{key:"applyOptions",value:function(t){this.Bh.Nh(t)}},{key:"options",value:function(){return this.Bh.W()}},{key:"qb",value:function(){return this.Bh}}]),t}(),Ir=function(){function t(e,n,i,r,o){(0,h.Z)(this,t),this.Yb=new K,this.Es=e,this.Xb=n,this.Kb=i,this.N_=o,this.Zb=r}return(0,f.Z)(t,[{key:"S",value:function(){this.Yb.S()}},{key:"priceFormatter",value:function(){return this.Es.ca()}},{key:"priceToCoordinate",value:function(t){var e=this.Es.Pt();return null===e?null:this.Es.At().Ot(t,e.Vt)}},{key:"coordinateToPrice",value:function(t){var e=this.Es.Pt();return null===e?null:this.Es.At().pn(t,e.Vt)}},{key:"barsInLogicalRange",value:function(t){if(null===t)return null;var e=new jn(new Pn(t.from,t.to)).iu(),n=this.Es.In();if(n.Fi())return null;var i=n.nl(e.Os(),1),r=n.nl(e.di(),-1),o=R(n.Qh()),a=R(n.Bn());if(null!==i&&null!==r&&i.se>r.se)return{barsBefore:t.from-o,barsAfter:a-t.to};var s={barsBefore:null===i||i.se===o?t.from-o:i.se-o,barsAfter:null===r||r.se===a?a-t.to:a-r.se};return null!==i&&null!==r&&(s.from=i.bb,s.to=r.bb),s}},{key:"setData",value:function(t){this.N_,this.Es.Xh(),this.Xb.Gb(this.Es,t),this.Jb("full")}},{key:"update",value:function(t){this.Es.Xh(),this.Xb.Qb(this.Es,t),this.Jb("update")}},{key:"dataByIndex",value:function(t,e){var n=this.Es.In().nl(t,e);return null===n?null:br(this.seriesType())(n)}},{key:"data",value:function(){var t=br(this.seriesType());return this.Es.In().ie().map((function(e){return t(e)}))}},{key:"subscribeDataChanged",value:function(t){this.Yb.l(t)}},{key:"unsubscribeDataChanged",value:function(t){this.Yb.v(t)}},{key:"setMarkers",value:function(t){var e=this;this.N_;var n=t.map((function(t){return Ar(t,e.N_.convertHorzItemToInternal(t.time),t.time)}));this.Es.Zl(n)}},{key:"markers",value:function(){return this.Es.Gl().map((function(t){return Ar(t,t.originalTime,void 0)}))}},{key:"applyOptions",value:function(t){this.Es.Nh(t)}},{key:"options",value:function(){return J(this.Es.W())}},{key:"priceScale",value:function(){return this.Kb.priceScale(this.Es.At().xa())}},{key:"createPriceLine",value:function(t){var e=H(J(Mr),t),n=this.Es.Jl(e);return new Zr(n)}},{key:"removePriceLine",value:function(t){this.Es.Ql(t.qb())}},{key:"seriesType",value:function(){return this.Es.Xh()}},{key:"attachPrimitive",value:function(t){var e=this;this.Es.ba(t),t.attached&&t.attached({chart:this.Zb,series:this,requestUpdate:function(){return e.Es.qt().$l()}})}},{key:"detachPrimitive",value:function(t){this.Es.wa(t),t.detached&&t.detached()}},{key:"Jb",value:function(t){this.Yb.M()&&this.Yb.m(t)}}]),t}(),Lr=function(){function t(e,n,i){(0,h.Z)(this,t),this.tw=new K,this.uu=new K,this._m=new K,this.Ui=e,this.wl=e.yt(),this.$m=n,this.wl.Ku().l(this.iw.bind(this)),this.wl.Zu().l(this.nw.bind(this)),this.$m.gm().l(this.sw.bind(this)),this.N_=i}return(0,f.Z)(t,[{key:"S",value:function(){this.wl.Ku().p(this),this.wl.Zu().p(this),this.$m.gm().p(this),this.tw.S(),this.uu.S(),this._m.S()}},{key:"scrollPosition",value:function(){return this.wl.Eu()}},{key:"scrollToPosition",value:function(t,e){e?this.wl.qu(t,1e3):this.Ui.Jn(t)}},{key:"scrollToRealTime",value:function(){this.wl.Uu()}},{key:"getVisibleRange",value:function(){var t=this.wl.yu();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}},{key:"setVisibleRange",value:function(t){var e={from:this.N_.convertHorzItemToInternal(t.from),to:this.N_.convertHorzItemToInternal(t.to)},n=this.wl.Ru(e);this.Ui.ld(n)}},{key:"getVisibleLogicalRange",value:function(){var t=this.wl.ku();return null===t?null:{from:t.Os(),to:t.di()}}},{key:"setVisibleLogicalRange",value:function(t){L(t.from<=t.to,"The from index cannot be after the to index."),this.Ui.ld(t)}},{key:"resetTimeScale",value:function(){this.Ui.Zn()}},{key:"fitContent",value:function(){this.Ui.Qu()}},{key:"logicalToCoordinate",value:function(t){var e=this.Ui.yt();return e.Fi()?null:e.Et(t)}},{key:"coordinateToLogical",value:function(t){return this.wl.Fi()?null:this.wl.Vu(t)}},{key:"timeToCoordinate",value:function(t){var e=this.N_.convertHorzItemToInternal(t),n=this.wl.ya(e,!1);return null===n?null:this.wl.Et(n)}},{key:"coordinateToTime",value:function(t){var e=this.Ui.yt(),n=e.Vu(t),i=e.qi(n);return null===i?null:i.originalTime}},{key:"width",value:function(){return this.$m.$p().width}},{key:"height",value:function(){return this.$m.$p().height}},{key:"subscribeVisibleTimeRangeChange",value:function(t){this.tw.l(t)}},{key:"unsubscribeVisibleTimeRangeChange",value:function(t){this.tw.v(t)}},{key:"subscribeVisibleLogicalRangeChange",value:function(t){this.uu.l(t)}},{key:"unsubscribeVisibleLogicalRangeChange",value:function(t){this.uu.v(t)}},{key:"subscribeSizeChange",value:function(t){this._m.l(t)}},{key:"unsubscribeSizeChange",value:function(t){this._m.v(t)}},{key:"applyOptions",value:function(t){this.wl.Nh(t)}},{key:"options",value:function(){return Object.assign(Object.assign({},J(this.wl.W())),{barSpacing:this.wl.he()})}},{key:"iw",value:function(){this.tw.M()&&this.tw.m(this.getVisibleRange())}},{key:"nw",value:function(){this.uu.M()&&this.uu.m(this.getVisibleLogicalRange())}},{key:"sw",value:function(t){this._m.m(t.width,t.height)}}]),t}();function Nr(t){return function(t){if(X(t.handleScale)){var e=t.handleScale;t.handleScale={axisDoubleClickReset:{time:e,price:e},axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale){var n=t.handleScale,i=n.axisPressedMouseMove,r=n.axisDoubleClickReset;X(i)&&(t.handleScale.axisPressedMouseMove={time:i,price:i}),X(r)&&(t.handleScale.axisDoubleClickReset={time:r,price:r})}var o=t.handleScroll;X(o)&&(t.handleScroll={horzTouchDrag:o,vertTouchDrag:o,mouseWheel:o,pressedMouseMove:o})}(t),t}var Rr=function(){function t(e,n,i){var r=this;(0,h.Z)(this,t),this.ew=new Map,this.rw=new Map,this.hw=new K,this.lw=new K,this.aw=new K,this.ow=new cr(n);var o=void 0===i?J(Cr()):H(J(Cr()),Nr(i));this.N_=n,this.$b=new Gi(e,o,n),this.$b.Fp().l((function(t){r.hw.M()&&r.hw.m(r._w(t()))}),this),this.$b.Wp().l((function(t){r.lw.M()&&r.lw.m(r._w(t()))}),this),this.$b.Wc().l((function(t){r.aw.M()&&r.aw.m(r._w(t()))}),this);var a=this.$b.qt();this.uw=new Lr(a,this.$b.Zm(),this.N_)}return(0,f.Z)(t,[{key:"remove",value:function(){this.$b.Fp().p(this),this.$b.Wp().p(this),this.$b.Wc().p(this),this.uw.S(),this.$b.S(),this.ew.clear(),this.rw.clear(),this.hw.S(),this.lw.S(),this.aw.S(),this.ow.S()}},{key:"resize",value:function(t,e,n){this.autoSizeActive()||this.$b.qm(t,e,n)}},{key:"addCustomSeries",value:function(t,e){var n=D(t),i=Object.assign(Object.assign({},A),n.defaultOptions());return this.cw("Custom",i,e,n)}},{key:"addAreaSeries",value:function(t){return this.cw("Area",T,t)}},{key:"addBaselineSeries",value:function(t){return this.cw("Baseline",C,t)}},{key:"addBarSeries",value:function(t){return this.cw("Bar",x,t)}},{key:"addCandlestickSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}(t),this.cw("Candlestick",E,t)}},{key:"addHistogramSeries",value:function(t){return this.cw("Histogram",O,t)}},{key:"addLineSeries",value:function(t){return this.cw("Line",S,t)}},{key:"removeSeries",value:function(t){var e=N(this.ew.get(t)),n=this.ow.hd(e);this.$b.qt().hd(e),this.dw(n),this.ew.delete(t),this.rw.delete(e)}},{key:"Gb",value:function(t,e){this.dw(this.ow.Ab(t,e))}},{key:"Qb",value:function(t,e){this.dw(this.ow.Eb(t,e))}},{key:"subscribeClick",value:function(t){this.hw.l(t)}},{key:"unsubscribeClick",value:function(t){this.hw.v(t)}},{key:"subscribeCrosshairMove",value:function(t){this.aw.l(t)}},{key:"unsubscribeCrosshairMove",value:function(t){this.aw.v(t)}},{key:"subscribeDblClick",value:function(t){this.lw.l(t)}},{key:"unsubscribeDblClick",value:function(t){this.lw.v(t)}},{key:"priceScale",value:function(t){return new Or(this.$b,t)}},{key:"timeScale",value:function(){return this.uw}},{key:"applyOptions",value:function(t){this.$b.Nh(Nr(t))}},{key:"options",value:function(){return this.$b.W()}},{key:"takeScreenshot",value:function(){return this.$b.tb()}},{key:"autoSizeActive",value:function(){return this.$b.rb()}},{key:"chartElement",value:function(){return this.$b.hb()}},{key:"paneSize",value:function(){var t=this.$b.ab();return{height:t.height,width:t.width}}},{key:"setCrosshairPosition",value:function(t,e,n){var i=this.ew.get(n);if(void 0!==i){var r=this.$b.qt().cr(i);null!==r&&this.$b.qt().Qc(t,e,r)}}},{key:"clearCrosshairPosition",value:function(){this.$b.qt().td(!0)}},{key:"cw",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;!function(t){if(void 0!==t&&"custom"!==t.type){var e=t;void 0!==e.minMove&&void 0===e.precision&&(e.precision=function(t){if(t>=1)return 0;for(var e=0;e<8;e++){var n=Math.round(t);if(Math.abs(n-t)<1e-8)return e;t*=10}return e}(e.minMove))}}(n.priceFormat);var r=H(J(M),J(e),n),o=this.$b.qt().ed(t,r,i),a=new Ir(o,this,this,this,this.N_);return this.ew.set(a,o),this.rw.set(o,a),a}},{key:"dw",value:function(t){var e=this.$b.qt();e.nd(t.yt.Au,t.yt.jb,t.yt.Hb),t.Fb.forEach((function(t,e){return e.it(t.He,t.Wb)})),e.Iu()}},{key:"fw",value:function(t){return N(this.rw.get(t))}},{key:"_w",value:function(t){var e=this,n=new Map;t.Mb.forEach((function(t,i){var r=i.Xh(),o=br(r)(t);if("Custom"!==r)L(function(t){return void 0!==t.open||void 0!==t.value}(o));else{var a=i.Ma();L(!a||!1===a(o))}n.set(e.fw(i),o)}));var i=void 0===t.gb?void 0:this.fw(t.gb);return{time:t.bb,logical:t.se,point:t.wb,hoveredSeries:i,hoveredObjectId:t.xb,seriesData:n,sourceEvent:t.Sb}}}]),t}();function Dr(t,e){return function(t,e,n){var i;if(Y(t)){var r=document.getElementById(t);L(null!==r,"Cannot find element in DOM with id=".concat(t)),i=r}else i=t;var o=new Rr(i,e,n);return e.setOptions(o.options()),o}(t,new vi,vi.Td(e))}Object.assign(Object.assign({},M),A)}}]);
//# sourceMappingURL=81.85edbc42.chunk.js.map
/*! For license information please see 807.92d4ebb9.chunk.js.LICENSE.txt */
(self.webpackChunkcoin=self.webpackChunkcoin||[]).push([[807],{5854:function(t,e,n){"use strict";n.d(e,{BH:function(){return g},L:function(){return f},LL:function(){return x},P0:function(){return y},Sg:function(){return w},ZR:function(){return _},aH:function(){return m},eu:function(){return k},hl:function(){return b},m9:function(){return T},vZ:function(){return E}});var i=n(7326),r=n(3144),o=n(5671),a=n(136),s=n(7277),u=n(8664),l=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,u=r+2<t.length,l=u?t[r+2]:0,c=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|l>>6,d=63&l;u||(d=64,a||(f=64)),i.push(n[c],n[h],n[f],n[d])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var a=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(1023&a))}else{var s=t[n++],u=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&u)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0,s=++r<t.length?n[t.charAt(r)]:64,u=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==u)throw new h;var l=o<<2|a>>4;if(i.push(l),64!==s){var c=a<<4&240|s>>2;if(i.push(c),64!==u){var f=s<<6&192|u;i.push(f)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(){var t;return(0,o.Z)(this,n),(t=e.apply(this,arguments)).name="DecodeBase64StringError",t}return(0,r.Z)(n)}((0,u.Z)(Error)),f=function(t){return function(t){var e=l(t);return c.encodeByteArray(e,!0)}(t).replace(/\./g,"")},d=function(t){try{return c.decodeString(t,!0)}catch(e){}return null};var v=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},p=function(){try{return v()||function(){if("undefined"!==typeof process){var t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBt7N61CM97WwbVTWzB6prFW9Lr5uN6_ao",REACT_APP_APP_ID:"1:172183502444:web:69ea222ad17bc0d474e249",REACT_APP_AUTH_DOMAIN:"hell-study-113f7.firebaseapp.com",REACT_APP_FX_IDC_API_URL:"https://api.kimpro.site/exchange-rate",REACT_APP_GOOGLE_ANALYTICS_ID:"G-P305NXC3X0",REACT_APP_MESSAGING_SENDER_ID:"172183502444",REACT_APP_PROJECT_ID:"hell-study-113f7",REACT_APP_STORAGE_BUCKET:"hell-study-113f7.appspot.com"}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0}}()||function(){if("undefined"!==typeof document){var t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var e=t&&d(t[1]);return e&&JSON.parse(e)}}()}catch(t){return}},y=function(t){var e=function(t){var e,n;return null===(n=null===(e=p())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]}(t);if(e){var n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));var i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]}},m=function(){var t;return null===(t=p())||void 0===t?void 0:t.config},g=function(){function t(){var e=this;(0,o.Z)(this,t),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return(0,r.Z)(t,[{key:"wrapCallback",value:function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}}}]),t}();function w(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(o)),""].join(".")}function b(){try{return"object"===typeof indexedDB}catch(t){return!1}}function k(){return new Promise((function(t,e){try{var n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=function(){r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=function(){n=!1},r.onerror=function(){var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}var _=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t,r,a){var s;return(0,o.Z)(this,n),(s=e.call(this,r)).code=t,s.customData=a,s.name="FirebaseError",Object.setPrototypeOf((0,i.Z)(s),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,i.Z)(s),x.prototype.create),s}return(0,r.Z)(n)}((0,u.Z)(Error)),x=function(){function t(e,n,i){(0,o.Z)(this,t),this.service=e,this.serviceName=n,this.errors=i}return(0,r.Z)(t,[{key:"create",value:function(t){var e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),i=this.errors[t],r=i?function(t,e){return t.replace(S,(function(t,n){var i=e[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,e):"Error",o="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new _(n,o,e)}}]),t}();var S=/\{\$([^}]+)}/g;function E(t,e){if(t===e)return!0;for(var n=Object.keys(t),i=Object.keys(e),r=0,o=n;r<o.length;r++){var a=o[r];if(!i.includes(a))return!1;var s=t[a],u=e[a];if(C(s)&&C(u)){if(!E(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=i;l<c.length;l++){var h=c[l];if(!n.includes(h))return!1}return!0}function C(t){return null!==t&&"object"===typeof t}function T(t){return t&&t._delegate?t._delegate:t}},2618:function(t,e,n){var i;!function(){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen};void 0===(i=function(){return o}.call(e,n,e,t))||(t.exports=i)}()},763:function(t,e,n){var i;t=n.nmd(t),function(){var r,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,h=128,f=256,d=1/0,v=9007199254740991,p=NaN,y=4294967295,m=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",f]],g="[object Arguments]",w="[object Array]",b="[object Boolean]",k="[object Date]",_="[object Error]",x="[object Function]",S="[object GeneratorFunction]",E="[object Map]",C="[object Number]",T="[object Object]",A="[object Promise]",O="[object RegExp]",Z="[object Set]",M="[object String]",I="[object Symbol]",L="[object WeakMap]",R="[object ArrayBuffer]",N="[object DataView]",D="[object Float32Array]",P="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",V="[object Int32Array]",U="[object Uint8Array]",z="[object Uint8ClampedArray]",j="[object Uint16Array]",q="[object Uint32Array]",W=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,$=RegExp(G.source),J=RegExp(Q.source),X=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(rt.source),at=/^\s+/,st=/\s/,ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ft=/[()=,{}\[\]\/\s]/,dt=/\\(\\)?/g,vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pt=/\w*$/,yt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,wt=/^0o[0-7]+$/i,bt=/^(?:0|[1-9]\d*)$/,kt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_t=/($^)/,xt=/['\n\r\u2028\u2029\\]/g,St="\\ud800-\\udfff",Et="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ct="\\u2700-\\u27bf",Tt="a-z\\xdf-\\xf6\\xf8-\\xff",At="A-Z\\xc0-\\xd6\\xd8-\\xde",Ot="\\ufe0e\\ufe0f",Zt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mt="['\u2019]",It="["+St+"]",Lt="["+Zt+"]",Rt="["+Et+"]",Nt="\\d+",Dt="["+Ct+"]",Pt="["+Tt+"]",Ft="[^"+St+Zt+Nt+Ct+Tt+At+"]",Bt="\\ud83c[\\udffb-\\udfff]",Vt="[^"+St+"]",Ut="(?:\\ud83c[\\udde6-\\uddff]){2}",zt="[\\ud800-\\udbff][\\udc00-\\udfff]",jt="["+At+"]",qt="\\u200d",Wt="(?:"+Pt+"|"+Ft+")",Ht="(?:"+jt+"|"+Ft+")",Kt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Gt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Qt="(?:"+Rt+"|"+Bt+")"+"?",$t="["+Ot+"]?",Jt=$t+Qt+("(?:"+qt+"(?:"+[Vt,Ut,zt].join("|")+")"+$t+Qt+")*"),Xt="(?:"+[Dt,Ut,zt].join("|")+")"+Jt,Yt="(?:"+[Vt+Rt+"?",Rt,Ut,zt,It].join("|")+")",te=RegExp(Mt,"g"),ee=RegExp(Rt,"g"),ne=RegExp(Bt+"(?="+Bt+")|"+Yt+Jt,"g"),ie=RegExp([jt+"?"+Pt+"+"+Kt+"(?="+[Lt,jt,"$"].join("|")+")",Ht+"+"+Gt+"(?="+[Lt,jt+Wt,"$"].join("|")+")",jt+"?"+Wt+"+"+Kt,jt+"+"+Gt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Nt,Xt].join("|"),"g"),re=RegExp("["+qt+St+Et+Ot+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],se=-1,ue={};ue[D]=ue[P]=ue[F]=ue[B]=ue[V]=ue[U]=ue[z]=ue[j]=ue[q]=!0,ue[g]=ue[w]=ue[R]=ue[b]=ue[N]=ue[k]=ue[_]=ue[x]=ue[E]=ue[C]=ue[T]=ue[O]=ue[Z]=ue[M]=ue[L]=!1;var le={};le[g]=le[w]=le[R]=le[N]=le[b]=le[k]=le[D]=le[P]=le[F]=le[B]=le[V]=le[E]=le[C]=le[T]=le[O]=le[Z]=le[M]=le[I]=le[U]=le[z]=le[j]=le[q]=!0,le[_]=le[x]=le[L]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},he=parseFloat,fe=parseInt,de="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ve="object"==typeof self&&self&&self.Object===Object&&self,pe=de||ve||Function("return this")(),ye=e&&!e.nodeType&&e,me=ye&&t&&!t.nodeType&&t,ge=me&&me.exports===ye,we=ge&&de.process,be=function(){try{var t=me&&me.require&&me.require("util").types;return t||we&&we.binding&&we.binding("util")}catch(e){}}(),ke=be&&be.isArrayBuffer,_e=be&&be.isDate,xe=be&&be.isMap,Se=be&&be.isRegExp,Ee=be&&be.isSet,Ce=be&&be.isTypedArray;function Te(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ae(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function Oe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Ze(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Me(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Ie(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function Le(t,e){return!!(null==t?0:t.length)&&je(t,e,0)>-1}function Re(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Ne(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function De(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function Pe(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function Fe(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function Be(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var Ve=Ke("length");function Ue(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function ze(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function je(t,e,n){return e===e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):ze(t,We,n)}function qe(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function We(t){return t!==t}function He(t,e){var n=null==t?0:t.length;return n?$e(t,e)/n:p}function Ke(t){return function(e){return null==e?r:e[t]}}function Ge(t){return function(e){return null==t?r:t[e]}}function Qe(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function $e(t,e){for(var n,i=-1,o=t.length;++i<o;){var a=e(t[i]);a!==r&&(n=n===r?a:n+a)}return n}function Je(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function Xe(t){return t?t.slice(0,yn(t)+1).replace(at,""):t}function Ye(t){return function(e){return t(e)}}function tn(t,e){return Ne(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,i=t.length;++n<i&&je(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&je(e,t[n],0)>-1;);return n}var on=Ge({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Ge({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+ce[t]}function un(t){return re.test(t)}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function cn(t,e){return function(n){return t(e(n))}}function hn(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==s||(t[n]=s,o[r++]=n)}return o}function fn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function vn(t){return un(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):Ve(t)}function pn(t){return un(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function yn(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var mn=Ge({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function t(e){var n=(e=null==e?pe:gn.defaults(pe.Object(),e,gn.pick(pe,ae))).Array,i=e.Date,st=e.Error,St=e.Function,Et=e.Math,Ct=e.Object,Tt=e.RegExp,At=e.String,Ot=e.TypeError,Zt=n.prototype,Mt=St.prototype,It=Ct.prototype,Lt=e["__core-js_shared__"],Rt=Mt.toString,Nt=It.hasOwnProperty,Dt=0,Pt=function(){var t=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ft=It.toString,Bt=Rt.call(Ct),Vt=pe._,Ut=Tt("^"+Rt.call(Nt).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=ge?e.Buffer:r,jt=e.Symbol,qt=e.Uint8Array,Wt=zt?zt.allocUnsafe:r,Ht=cn(Ct.getPrototypeOf,Ct),Kt=Ct.create,Gt=It.propertyIsEnumerable,Qt=Zt.splice,$t=jt?jt.isConcatSpreadable:r,Jt=jt?jt.iterator:r,Xt=jt?jt.toStringTag:r,Yt=function(){try{var t=ho(Ct,"defineProperty");return t({},"",{}),t}catch(e){}}(),ne=e.clearTimeout!==pe.clearTimeout&&e.clearTimeout,re=i&&i.now!==pe.Date.now&&i.now,ce=e.setTimeout!==pe.setTimeout&&e.setTimeout,de=Et.ceil,ve=Et.floor,ye=Ct.getOwnPropertySymbols,me=zt?zt.isBuffer:r,we=e.isFinite,be=Zt.join,Ve=cn(Ct.keys,Ct),Ge=Et.max,wn=Et.min,bn=i.now,kn=e.parseInt,_n=Et.random,xn=Zt.reverse,Sn=ho(e,"DataView"),En=ho(e,"Map"),Cn=ho(e,"Promise"),Tn=ho(e,"Set"),An=ho(e,"WeakMap"),On=ho(Ct,"create"),Zn=An&&new An,Mn={},In=Fo(Sn),Ln=Fo(En),Rn=Fo(Cn),Nn=Fo(Tn),Dn=Fo(An),Pn=jt?jt.prototype:r,Fn=Pn?Pn.valueOf:r,Bn=Pn?Pn.toString:r;function Vn(t){if(es(t)&&!qa(t)&&!(t instanceof qn)){if(t instanceof jn)return t;if(Nt.call(t,"__wrapped__"))return Bo(t)}return new jn(t)}var Un=function(){function t(){}return function(e){if(!ts(e))return{};if(Kt)return Kt(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function zn(){}function jn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function qn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Kn;++e<n;)this.add(t[e])}function Qn(t){var e=this.__data__=new Hn(t);this.size=e.size}function $n(t,e){var n=qa(t),i=!n&&ja(t),r=!n&&!i&&Ga(t),o=!n&&!i&&!r&&ls(t),a=n||i||r||o,s=a?Je(t.length,At):[],u=s.length;for(var l in t)!e&&!Nt.call(t,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||wo(l,u))||s.push(l);return s}function Jn(t){var e=t.length;return e?t[Gi(0,e-1)]:r}function Xn(t,e){return No(Or(t),si(e,0,t.length))}function Yn(t){return No(Or(t))}function ti(t,e,n){(n!==r&&!Va(t[e],n)||n===r&&!(e in t))&&oi(t,e,n)}function ei(t,e,n){var i=t[e];Nt.call(t,e)&&Va(i,n)&&(n!==r||e in t)||oi(t,e,n)}function ni(t,e){for(var n=t.length;n--;)if(Va(t[n][0],e))return n;return-1}function ii(t,e,n,i){return fi(t,(function(t,r,o){e(i,t,n(t),o)})),i}function ri(t,e){return t&&Zr(e,Ms(e),t)}function oi(t,e,n){"__proto__"==e&&Yt?Yt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ai(t,e){for(var i=-1,o=e.length,a=n(o),s=null==t;++i<o;)a[i]=s?r:Cs(t,e[i]);return a}function si(t,e,n){return t===t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function ui(t,e,n,i,o,a){var s,u=1&e,l=2&e,c=4&e;if(n&&(s=o?n(t,i,o,a):n(t)),s!==r)return s;if(!ts(t))return t;var h=qa(t);if(h){if(s=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return Or(t,s)}else{var f=po(t),d=f==x||f==S;if(Ga(t))return xr(t,u);if(f==T||f==g||d&&!o){if(s=l||d?{}:mo(t),!u)return l?function(t,e){return Zr(t,vo(t),e)}(t,function(t,e){return t&&Zr(e,Is(e),t)}(s,t)):function(t,e){return Zr(t,fo(t),e)}(t,ri(s,t))}else{if(!le[f])return o?t:{};s=function(t,e,n){var i=t.constructor;switch(e){case R:return Sr(t);case b:case k:return new i(+t);case N:return function(t,e){var n=e?Sr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case D:case P:case F:case B:case V:case U:case z:case j:case q:return Er(t,n);case E:return new i;case C:case M:return new i(t);case O:return function(t){var e=new t.constructor(t.source,pt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case Z:return new i;case I:return r=t,Fn?Ct(Fn.call(r)):{}}var r}(t,f,u)}}a||(a=new Qn);var v=a.get(t);if(v)return v;a.set(t,s),as(t)?t.forEach((function(i){s.add(ui(i,e,n,i,t,a))})):ns(t)&&t.forEach((function(i,r){s.set(r,ui(i,e,n,r,t,a))}));var p=h?r:(c?l?ro:io:l?Is:Ms)(t);return Oe(p||t,(function(i,r){p&&(i=t[r=i]),ei(s,r,ui(i,e,n,r,t,a))})),s}function li(t,e,n){var i=n.length;if(null==t)return!i;for(t=Ct(t);i--;){var o=n[i],a=e[o],s=t[o];if(s===r&&!(o in t)||!a(s))return!1}return!0}function ci(t,e,n){if("function"!=typeof t)throw new Ot(o);return Mo((function(){t.apply(r,n)}),e)}function hi(t,e,n,i){var r=-1,o=Le,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=Ne(e,Ye(n))),i?(o=Re,a=!1):e.length>=200&&(o=en,a=!1,e=new Gn(e));t:for(;++r<s;){var c=t[r],h=null==n?c:n(c);if(c=i||0!==c?c:0,a&&h===h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(c)}else o(e,h,i)||u.push(c)}return u}Vn.templateSettings={escape:X,evaluate:Y,interpolate:tt,variable:"",imports:{_:Vn}},Vn.prototype=zn.prototype,Vn.prototype.constructor=Vn,jn.prototype=Un(zn.prototype),jn.prototype.constructor=jn,qn.prototype=Un(zn.prototype),qn.prototype.constructor=qn,Wn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Wn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wn.prototype.get=function(t){var e=this.__data__;if(On){var n=e[t];return n===a?r:n}return Nt.call(e,t)?e[t]:r},Wn.prototype.has=function(t){var e=this.__data__;return On?e[t]!==r:Nt.call(e,t)},Wn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=On&&e===r?a:e,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(t){var e=this.__data__,n=ni(e,t);return!(n<0)&&(n==e.length-1?e.pop():Qt.call(e,n,1),--this.size,!0)},Hn.prototype.get=function(t){var e=this.__data__,n=ni(e,t);return n<0?r:e[n][1]},Hn.prototype.has=function(t){return ni(this.__data__,t)>-1},Hn.prototype.set=function(t,e){var n=this.__data__,i=ni(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(En||Hn),string:new Wn}},Kn.prototype.delete=function(t){var e=lo(this,t).delete(t);return this.size-=e?1:0,e},Kn.prototype.get=function(t){return lo(this,t).get(t)},Kn.prototype.has=function(t){return lo(this,t).has(t)},Kn.prototype.set=function(t,e){var n=lo(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Gn.prototype.add=Gn.prototype.push=function(t){return this.__data__.set(t,a),this},Gn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Qn.prototype.get=function(t){return this.__data__.get(t)},Qn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Hn){var i=n.__data__;if(!En||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Kn(i)}return n.set(t,e),this.size=n.size,this};var fi=Lr(bi),di=Lr(ki,!0);function vi(t,e){var n=!0;return fi(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function pi(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(u===r?s===s&&!us(s):n(s,u)))var u=s,l=a}return l}function yi(t,e){var n=[];return fi(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function mi(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=go),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?mi(s,e-1,n,i,r):De(r,s):i||(r[r.length]=s)}return r}var gi=Rr(),wi=Rr(!0);function bi(t,e){return t&&gi(t,e,Ms)}function ki(t,e){return t&&wi(t,e,Ms)}function _i(t,e){return Ie(e,(function(e){return Ja(t[e])}))}function xi(t,e){for(var n=0,i=(e=wr(e,t)).length;null!=t&&n<i;)t=t[Po(e[n++])];return n&&n==i?t:r}function Si(t,e,n){var i=e(t);return qa(t)?i:De(i,n(t))}function Ei(t){return null==t?t===r?"[object Undefined]":"[object Null]":Xt&&Xt in Ct(t)?function(t){var e=Nt.call(t,Xt),n=t[Xt];try{t[Xt]=r;var i=!0}catch(a){}var o=Ft.call(t);i&&(e?t[Xt]=n:delete t[Xt]);return o}(t):function(t){return Ft.call(t)}(t)}function Ci(t,e){return t>e}function Ti(t,e){return null!=t&&Nt.call(t,e)}function Ai(t,e){return null!=t&&e in Ct(t)}function Oi(t,e,i){for(var o=i?Re:Le,a=t[0].length,s=t.length,u=s,l=n(s),c=1/0,h=[];u--;){var f=t[u];u&&e&&(f=Ne(f,Ye(e))),c=wn(f.length,c),l[u]=!i&&(e||a>=120&&f.length>=120)?new Gn(u&&f):r}f=t[0];var d=-1,v=l[0];t:for(;++d<a&&h.length<c;){var p=f[d],y=e?e(p):p;if(p=i||0!==p?p:0,!(v?en(v,y):o(h,y,i))){for(u=s;--u;){var m=l[u];if(!(m?en(m,y):o(t[u],y,i)))continue t}v&&v.push(y),h.push(p)}}return h}function Zi(t,e,n){var i=null==(t=Ao(t,e=wr(e,t)))?t:t[Po($o(e))];return null==i?r:Te(i,t,n)}function Mi(t){return es(t)&&Ei(t)==g}function Ii(t,e,n,i,o){return t===e||(null==t||null==e||!es(t)&&!es(e)?t!==t&&e!==e:function(t,e,n,i,o,a){var s=qa(t),u=qa(e),l=s?w:po(t),c=u?w:po(e),h=(l=l==g?T:l)==T,f=(c=c==g?T:c)==T,d=l==c;if(d&&Ga(t)){if(!Ga(e))return!1;s=!0,h=!1}if(d&&!h)return a||(a=new Qn),s||ls(t)?eo(t,e,n,i,o,a):function(t,e,n,i,r,o,a){switch(n){case N:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return!(t.byteLength!=e.byteLength||!o(new qt(t),new qt(e)));case b:case k:case C:return Va(+t,+e);case _:return t.name==e.name&&t.message==e.message;case O:case M:return t==e+"";case E:var s=ln;case Z:var u=1&i;if(s||(s=fn),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;i|=2,a.set(t,e);var c=eo(s(t),s(e),i,r,o,a);return a.delete(t),c;case I:if(Fn)return Fn.call(t)==Fn.call(e)}return!1}(t,e,l,n,i,o,a);if(!(1&n)){var v=h&&Nt.call(t,"__wrapped__"),p=f&&Nt.call(e,"__wrapped__");if(v||p){var y=v?t.value():t,m=p?e.value():e;return a||(a=new Qn),o(y,m,n,i,a)}}if(!d)return!1;return a||(a=new Qn),function(t,e,n,i,o,a){var s=1&n,u=io(t),l=u.length,c=io(e),h=c.length;if(l!=h&&!s)return!1;var f=l;for(;f--;){var d=u[f];if(!(s?d in e:Nt.call(e,d)))return!1}var v=a.get(t),p=a.get(e);if(v&&p)return v==e&&p==t;var y=!0;a.set(t,e),a.set(e,t);var m=s;for(;++f<l;){var g=t[d=u[f]],w=e[d];if(i)var b=s?i(w,g,d,e,t,a):i(g,w,d,t,e,a);if(!(b===r?g===w||o(g,w,n,i,a):b)){y=!1;break}m||(m="constructor"==d)}if(y&&!m){var k=t.constructor,_=e.constructor;k==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof k&&k instanceof k&&"function"==typeof _&&_ instanceof _||(y=!1)}return a.delete(t),a.delete(e),y}(t,e,n,i,o,a)}(t,e,n,i,Ii,o))}function Li(t,e,n,i){var o=n.length,a=o,s=!i;if(null==t)return!a;for(t=Ct(t);o--;){var u=n[o];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<a;){var l=(u=n[o])[0],c=t[l],h=u[1];if(s&&u[2]){if(c===r&&!(l in t))return!1}else{var f=new Qn;if(i)var d=i(c,h,l,t,e,f);if(!(d===r?Ii(h,c,3,i,f):d))return!1}}return!0}function Ri(t){return!(!ts(t)||(e=t,Pt&&Pt in e))&&(Ja(t)?Ut:gt).test(Fo(t));var e}function Ni(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?qa(t)?Ui(t[0],t[1]):Vi(t):fu(t)}function Di(t){if(!So(t))return Ve(t);var e=[];for(var n in Ct(t))Nt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Pi(t){if(!ts(t))return function(t){var e=[];if(null!=t)for(var n in Ct(t))e.push(n);return e}(t);var e=So(t),n=[];for(var i in t)("constructor"!=i||!e&&Nt.call(t,i))&&n.push(i);return n}function Fi(t,e){return t<e}function Bi(t,e){var i=-1,r=Ha(t)?n(t.length):[];return fi(t,(function(t,n,o){r[++i]=e(t,n,o)})),r}function Vi(t){var e=co(t);return 1==e.length&&e[0][2]?Co(e[0][0],e[0][1]):function(n){return n===t||Li(n,t,e)}}function Ui(t,e){return ko(t)&&Eo(e)?Co(Po(t),e):function(n){var i=Cs(n,t);return i===r&&i===e?Ts(n,t):Ii(e,i,3)}}function zi(t,e,n,i,o){t!==e&&gi(e,(function(a,s){if(o||(o=new Qn),ts(a))!function(t,e,n,i,o,a,s){var u=Oo(t,n),l=Oo(e,n),c=s.get(l);if(c)return void ti(t,n,c);var h=a?a(u,l,n+"",t,e,s):r,f=h===r;if(f){var d=qa(l),v=!d&&Ga(l),p=!d&&!v&&ls(l);h=l,d||v||p?qa(u)?h=u:Ka(u)?h=Or(u):v?(f=!1,h=xr(l,!0)):p?(f=!1,h=Er(l,!0)):h=[]:rs(l)||ja(l)?(h=u,ja(u)?h=ms(u):ts(u)&&!Ja(u)||(h=mo(l))):f=!1}f&&(s.set(l,h),o(h,l,i,a,s),s.delete(l));ti(t,n,h)}(t,e,s,n,zi,i,o);else{var u=i?i(Oo(t,s),a,s+"",t,e,o):r;u===r&&(u=a),ti(t,s,u)}}),Is)}function ji(t,e){var n=t.length;if(n)return wo(e+=e<0?n:0,n)?t[e]:r}function qi(t,e,n){e=e.length?Ne(e,(function(t){return qa(t)?function(e){return xi(e,1===t.length?t[0]:t)}:t})):[iu];var i=-1;e=Ne(e,Ye(uo()));var r=Bi(t,(function(t,n,r){var o=Ne(e,(function(e){return e(t)}));return{criteria:o,index:++i,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(r,(function(t,e){return function(t,e,n){var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;for(;++i<a;){var u=Cr(r[i],o[i]);if(u)return i>=s?u:u*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}))}function Wi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=xi(t,a);n(s,a)&&Yi(o,wr(a,t),s)}return o}function Hi(t,e,n,i){var r=i?qe:je,o=-1,a=e.length,s=t;for(t===e&&(e=Or(e)),n&&(s=Ne(t,Ye(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=r(s,c,u,i))>-1;)s!==t&&Qt.call(s,u,1),Qt.call(t,u,1);return t}function Ki(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;wo(r)?Qt.call(t,r,1):hr(t,r)}}return t}function Gi(t,e){return t+ve(_n()*(e-t+1))}function Qi(t,e){var n="";if(!t||e<1||e>v)return n;do{e%2&&(n+=t),(e=ve(e/2))&&(t+=t)}while(e);return n}function $i(t,e){return Io(To(t,e,iu),t+"")}function Ji(t){return Jn(Vs(t))}function Xi(t,e){var n=Vs(t);return No(n,si(e,0,n.length))}function Yi(t,e,n,i){if(!ts(t))return t;for(var o=-1,a=(e=wr(e,t)).length,s=a-1,u=t;null!=u&&++o<a;){var l=Po(e[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=s){var h=u[l];(c=i?i(h,l,u):r)===r&&(c=ts(h)?h:wo(e[o+1])?[]:{})}ei(u,l,c),u=u[l]}return t}var tr=Zn?function(t,e){return Zn.set(t,e),t}:iu,er=Yt?function(t,e){return Yt(t,"toString",{configurable:!0,enumerable:!1,value:tu(e),writable:!0})}:iu;function nr(t){return No(Vs(t))}function ir(t,e,i){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(i=i>o?o:i)<0&&(i+=o),o=e>i?0:i-e>>>0,e>>>=0;for(var a=n(o);++r<o;)a[r]=t[r+e];return a}function rr(t,e){var n;return fi(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function or(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!us(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return ar(t,e,iu,n)}function ar(t,e,n,i){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!==e,u=null===e,l=us(e),c=e===r;o<a;){var h=ve((o+a)/2),f=n(t[h]),d=f!==r,v=null===f,p=f===f,y=us(f);if(s)var m=i||p;else m=c?p&&(i||d):u?p&&d&&(i||!v):l?p&&d&&!v&&(i||!y):!v&&!y&&(i?f<=e:f<e);m?o=h+1:a=h}return wn(a,4294967294)}function sr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Va(s,u)){var u=s;o[r++]=0===a?0:a}}return o}function ur(t){return"number"==typeof t?t:us(t)?p:+t}function lr(t){if("string"==typeof t)return t;if(qa(t))return Ne(t,lr)+"";if(us(t))return Bn?Bn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function cr(t,e,n){var i=-1,r=Le,o=t.length,a=!0,s=[],u=s;if(n)a=!1,r=Re;else if(o>=200){var l=e?null:Qr(t);if(l)return fn(l);a=!1,r=en,u=new Gn}else u=e?[]:s;t:for(;++i<o;){var c=t[i],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(c)}else r(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}function hr(t,e){return null==(t=Ao(t,e=wr(e,t)))||delete t[Po($o(e))]}function fr(t,e,n,i){return Yi(t,e,n(xi(t,e)),i)}function dr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?ir(t,i?0:o,i?o+1:r):ir(t,i?o+1:0,i?r:o)}function vr(t,e){var n=t;return n instanceof qn&&(n=n.value()),Pe(e,(function(t,e){return e.func.apply(e.thisArg,De([t],e.args))}),n)}function pr(t,e,i){var r=t.length;if(r<2)return r?cr(t[0]):[];for(var o=-1,a=n(r);++o<r;)for(var s=t[o],u=-1;++u<r;)u!=o&&(a[o]=hi(a[o]||s,t[u],e,i));return cr(mi(a,1),e,i)}function yr(t,e,n){for(var i=-1,o=t.length,a=e.length,s={};++i<o;){var u=i<a?e[i]:r;n(s,t[i],u)}return s}function mr(t){return Ka(t)?t:[]}function gr(t){return"function"==typeof t?t:iu}function wr(t,e){return qa(t)?t:ko(t,e)?[t]:Do(gs(t))}var br=$i;function kr(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:ir(t,e,n)}var _r=ne||function(t){return pe.clearTimeout(t)};function xr(t,e){if(e)return t.slice();var n=t.length,i=Wt?Wt(n):new t.constructor(n);return t.copy(i),i}function Sr(t){var e=new t.constructor(t.byteLength);return new qt(e).set(new qt(t)),e}function Er(t,e){var n=e?Sr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Cr(t,e){if(t!==e){var n=t!==r,i=null===t,o=t===t,a=us(t),s=e!==r,u=null===e,l=e===e,c=us(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||i&&s&&l||!n&&l||!o)return 1;if(!i&&!a&&!c&&t<e||c&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!l)return-1}return 0}function Tr(t,e,i,r){for(var o=-1,a=t.length,s=i.length,u=-1,l=e.length,c=Ge(a-s,0),h=n(l+c),f=!r;++u<l;)h[u]=e[u];for(;++o<s;)(f||o<a)&&(h[i[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function Ar(t,e,i,r){for(var o=-1,a=t.length,s=-1,u=i.length,l=-1,c=e.length,h=Ge(a-u,0),f=n(h+c),d=!r;++o<h;)f[o]=t[o];for(var v=o;++l<c;)f[v+l]=e[l];for(;++s<u;)(d||o<a)&&(f[v+i[s]]=t[o++]);return f}function Or(t,e){var i=-1,r=t.length;for(e||(e=n(r));++i<r;)e[i]=t[i];return e}function Zr(t,e,n,i){var o=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],l=i?i(n[u],t[u],u,n,t):r;l===r&&(l=t[u]),o?oi(n,u,l):ei(n,u,l)}return n}function Mr(t,e){return function(n,i){var r=qa(n)?Ae:ii,o=e?e():{};return r(n,t,uo(i,2),o)}}function Ir(t){return $i((function(e,n){var i=-1,o=n.length,a=o>1?n[o-1]:r,s=o>2?n[2]:r;for(a=t.length>3&&"function"==typeof a?(o--,a):r,s&&bo(n[0],n[1],s)&&(a=o<3?r:a,o=1),e=Ct(e);++i<o;){var u=n[i];u&&t(e,u,i,a)}return e}))}function Lr(t,e){return function(n,i){if(null==n)return n;if(!Ha(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=Ct(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Rr(t){return function(e,n,i){for(var r=-1,o=Ct(e),a=i(e),s=a.length;s--;){var u=a[t?s:++r];if(!1===n(o[u],u,o))break}return e}}function Nr(t){return function(e){var n=un(e=gs(e))?pn(e):r,i=n?n[0]:e.charAt(0),o=n?kr(n,1).join(""):e.slice(1);return i[t]()+o}}function Dr(t){return function(e){return Pe(Js(js(e).replace(te,"")),t,"")}}function Pr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Un(t.prototype),i=t.apply(n,e);return ts(i)?i:n}}function Fr(t){return function(e,n,i){var o=Ct(e);if(!Ha(e)){var a=uo(n,3);e=Ms(e),n=function(t){return a(o[t],t,o)}}var s=t(e,n,i);return s>-1?o[a?e[s]:s]:r}}function Br(t){return no((function(e){var n=e.length,i=n,a=jn.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new Ot(o);if(a&&!u&&"wrapper"==ao(s))var u=new jn([],!0)}for(i=u?i:n;++i<n;){var l=ao(s=e[i]),c="wrapper"==l?oo(s):r;u=c&&_o(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ao(c[0])].apply(u,c[3]):1==s.length&&_o(s)?u[l]():u.thru(s)}return function(){var t=arguments,i=t[0];if(u&&1==t.length&&qa(i))return u.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))}function Vr(t,e,i,o,a,s,u,l,c,f){var d=e&h,v=1&e,p=2&e,y=24&e,m=512&e,g=p?r:Pr(t);return function h(){for(var w=arguments.length,b=n(w),k=w;k--;)b[k]=arguments[k];if(y)var _=so(h),x=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(b,_);if(o&&(b=Tr(b,o,a,y)),s&&(b=Ar(b,s,u,y)),w-=x,y&&w<f){var S=hn(b,_);return Kr(t,e,Vr,h.placeholder,i,b,S,l,c,f-w)}var E=v?i:this,C=p?E[t]:t;return w=b.length,l?b=function(t,e){var n=t.length,i=wn(e.length,n),o=Or(t);for(;i--;){var a=e[i];t[i]=wo(a,n)?o[a]:r}return t}(b,l):m&&w>1&&b.reverse(),d&&c<w&&(b.length=c),this&&this!==pe&&this instanceof h&&(C=g||Pr(C)),C.apply(E,b)}}function Ur(t,e){return function(n,i){return function(t,e,n,i){return bi(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function zr(t,e){return function(n,i){var o;if(n===r&&i===r)return e;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=lr(n),i=lr(i)):(n=ur(n),i=ur(i)),o=t(n,i)}return o}}function jr(t){return no((function(e){return e=Ne(e,Ye(uo())),$i((function(n){var i=this;return t(e,(function(t){return Te(t,i,n)}))}))}))}function qr(t,e){var n=(e=e===r?" ":lr(e)).length;if(n<2)return n?Qi(e,t):e;var i=Qi(e,de(t/vn(e)));return un(e)?kr(pn(i),0,t).join(""):i.slice(0,t)}function Wr(t){return function(e,i,o){return o&&"number"!=typeof o&&bo(e,i,o)&&(i=o=r),e=ds(e),i===r?(i=e,e=0):i=ds(i),function(t,e,i,r){for(var o=-1,a=Ge(de((e-t)/(i||1)),0),s=n(a);a--;)s[r?a:++o]=t,t+=i;return s}(e,i,o=o===r?e<i?1:-1:ds(o),t)}}function Hr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ys(e),n=ys(n)),t(e,n)}}function Kr(t,e,n,i,o,a,s,u,h,f){var d=8&e;e|=d?l:c,4&(e&=~(d?c:l))||(e&=-4);var v=[t,e,o,d?a:r,d?s:r,d?r:a,d?r:s,u,h,f],p=n.apply(r,v);return _o(t)&&Zo(p,v),p.placeholder=i,Lo(p,t,e)}function Gr(t){var e=Et[t];return function(t,n){if(t=ys(t),(n=null==n?0:wn(vs(n),292))&&we(t)){var i=(gs(t)+"e").split("e");return+((i=(gs(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Qr=Tn&&1/fn(new Tn([,-0]))[1]==d?function(t){return new Tn(t)}:uu;function $r(t){return function(e){var n=po(e);return n==E?ln(e):n==Z?dn(e):function(t,e){return Ne(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Jr(t,e,i,a,d,v,p,y){var m=2&e;if(!m&&"function"!=typeof t)throw new Ot(o);var g=a?a.length:0;if(g||(e&=-97,a=d=r),p=p===r?p:Ge(vs(p),0),y=y===r?y:vs(y),g-=d?d.length:0,e&c){var w=a,b=d;a=d=r}var k=m?r:oo(t),_=[t,e,i,a,d,w,b,v,p,y];if(k&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,a=i==h&&8==n||i==h&&n==f&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?Tr(l,u,e[4]):u,t[4]=l?hn(t[3],s):e[4]}(u=e[5])&&(l=t[5],t[5]=l?Ar(l,u,e[6]):u,t[6]=l?hn(t[5],s):e[6]);(u=e[7])&&(t[7]=u);i&h&&(t[8]=null==t[8]?e[8]:wn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(_,k),t=_[0],e=_[1],i=_[2],a=_[3],d=_[4],!(y=_[9]=_[9]===r?m?0:t.length:Ge(_[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)x=8==e||e==u?function(t,e,i){var o=Pr(t);return function a(){for(var s=arguments.length,u=n(s),l=s,c=so(a);l--;)u[l]=arguments[l];var h=s<3&&u[0]!==c&&u[s-1]!==c?[]:hn(u,c);return(s-=h.length)<i?Kr(t,e,Vr,a.placeholder,r,u,h,r,r,i-s):Te(this&&this!==pe&&this instanceof a?o:t,this,u)}}(t,e,y):e!=l&&33!=e||d.length?Vr.apply(r,_):function(t,e,i,r){var o=1&e,a=Pr(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=r.length,h=n(c+u),f=this&&this!==pe&&this instanceof e?a:t;++l<c;)h[l]=r[l];for(;u--;)h[l++]=arguments[++s];return Te(f,o?i:this,h)}}(t,e,i,a);else var x=function(t,e,n){var i=1&e,r=Pr(t);return function e(){return(this&&this!==pe&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,i);return Lo((k?tr:Zo)(x,_),t,e)}function Xr(t,e,n,i){return t===r||Va(t,It[n])&&!Nt.call(i,n)?e:t}function Yr(t,e,n,i,o,a){return ts(t)&&ts(e)&&(a.set(e,t),zi(t,e,r,Yr,a),a.delete(e)),t}function to(t){return rs(t)?r:t}function eo(t,e,n,i,o,a){var s=1&n,u=t.length,l=e.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(t),h=a.get(e);if(c&&h)return c==e&&h==t;var f=-1,d=!0,v=2&n?new Gn:r;for(a.set(t,e),a.set(e,t);++f<u;){var p=t[f],y=e[f];if(i)var m=s?i(y,p,f,e,t,a):i(p,y,f,t,e,a);if(m!==r){if(m)continue;d=!1;break}if(v){if(!Be(e,(function(t,e){if(!en(v,e)&&(p===t||o(p,t,n,i,a)))return v.push(e)}))){d=!1;break}}else if(p!==y&&!o(p,y,n,i,a)){d=!1;break}}return a.delete(t),a.delete(e),d}function no(t){return Io(To(t,r,Wo),t+"")}function io(t){return Si(t,Ms,fo)}function ro(t){return Si(t,Is,vo)}var oo=Zn?function(t){return Zn.get(t)}:uu;function ao(t){for(var e=t.name+"",n=Mn[e],i=Nt.call(Mn,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function so(t){return(Nt.call(Vn,"placeholder")?Vn:t).placeholder}function uo(){var t=Vn.iteratee||ru;return t=t===ru?Ni:t,arguments.length?t(arguments[0],arguments[1]):t}function lo(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function co(t){for(var e=Ms(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Eo(r)]}return e}function ho(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return Ri(n)?n:r}var fo=ye?function(t){return null==t?[]:(t=Ct(t),Ie(ye(t),(function(e){return Gt.call(t,e)})))}:pu,vo=ye?function(t){for(var e=[];t;)De(e,fo(t)),t=Ht(t);return e}:pu,po=Ei;function yo(t,e,n){for(var i=-1,r=(e=wr(e,t)).length,o=!1;++i<r;){var a=Po(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Ya(r)&&wo(a,r)&&(qa(t)||ja(t))}function mo(t){return"function"!=typeof t.constructor||So(t)?{}:Un(Ht(t))}function go(t){return qa(t)||ja(t)||!!($t&&t&&t[$t])}function wo(t,e){var n=typeof t;return!!(e=null==e?v:e)&&("number"==n||"symbol"!=n&&bt.test(t))&&t>-1&&t%1==0&&t<e}function bo(t,e,n){if(!ts(n))return!1;var i=typeof e;return!!("number"==i?Ha(n)&&wo(e,n.length):"string"==i&&e in n)&&Va(n[e],t)}function ko(t,e){if(qa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!us(t))||(nt.test(t)||!et.test(t)||null!=e&&t in Ct(e))}function _o(t){var e=ao(t),n=Vn[e];if("function"!=typeof n||!(e in qn.prototype))return!1;if(t===n)return!0;var i=oo(n);return!!i&&t===i[0]}(Sn&&po(new Sn(new ArrayBuffer(1)))!=N||En&&po(new En)!=E||Cn&&po(Cn.resolve())!=A||Tn&&po(new Tn)!=Z||An&&po(new An)!=L)&&(po=function(t){var e=Ei(t),n=e==T?t.constructor:r,i=n?Fo(n):"";if(i)switch(i){case In:return N;case Ln:return E;case Rn:return A;case Nn:return Z;case Dn:return L}return e});var xo=Lt?Ja:yu;function So(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||It)}function Eo(t){return t===t&&!ts(t)}function Co(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==r||t in Ct(n)))}}function To(t,e,i){return e=Ge(e===r?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=Ge(r.length-e,0),s=n(a);++o<a;)s[o]=r[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=r[o];return u[e]=i(s),Te(t,this,u)}}function Ao(t,e){return e.length<2?t:xi(t,ir(e,0,-1))}function Oo(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var Zo=Ro(tr),Mo=ce||function(t,e){return pe.setTimeout(t,e)},Io=Ro(er);function Lo(t,e,n){var i=e+"";return Io(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(ut,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Oe(m,(function(n){var i="_."+n[0];e&n[1]&&!Le(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(lt);return e?e[1].split(ct):[]}(i),n)))}function Ro(t){var e=0,n=0;return function(){var i=bn(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function No(t,e){var n=-1,i=t.length,o=i-1;for(e=e===r?i:e;++n<e;){var a=Gi(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var Do=function(t){var e=Ra(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(it,(function(t,n,i,r){e.push(i?r.replace(dt,"$1"):n||t)})),e}));function Po(t){if("string"==typeof t||us(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Fo(t){if(null!=t){try{return Rt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Bo(t){if(t instanceof qn)return t.clone();var e=new jn(t.__wrapped__,t.__chain__);return e.__actions__=Or(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Vo=$i((function(t,e){return Ka(t)?hi(t,mi(e,1,Ka,!0)):[]})),Uo=$i((function(t,e){var n=$o(e);return Ka(n)&&(n=r),Ka(t)?hi(t,mi(e,1,Ka,!0),uo(n,2)):[]})),zo=$i((function(t,e){var n=$o(e);return Ka(n)&&(n=r),Ka(t)?hi(t,mi(e,1,Ka,!0),r,n):[]}));function jo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:vs(n);return r<0&&(r=Ge(i+r,0)),ze(t,uo(e,3),r)}function qo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return n!==r&&(o=vs(n),o=n<0?Ge(i+o,0):wn(o,i-1)),ze(t,uo(e,3),o,!0)}function Wo(t){return(null==t?0:t.length)?mi(t,1):[]}function Ho(t){return t&&t.length?t[0]:r}var Ko=$i((function(t){var e=Ne(t,mr);return e.length&&e[0]===t[0]?Oi(e):[]})),Go=$i((function(t){var e=$o(t),n=Ne(t,mr);return e===$o(n)?e=r:n.pop(),n.length&&n[0]===t[0]?Oi(n,uo(e,2)):[]})),Qo=$i((function(t){var e=$o(t),n=Ne(t,mr);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?Oi(n,r,e):[]}));function $o(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Jo=$i(Xo);function Xo(t,e){return t&&t.length&&e&&e.length?Hi(t,e):t}var Yo=no((function(t,e){var n=null==t?0:t.length,i=ai(t,e);return Ki(t,Ne(e,(function(t){return wo(t,n)?+t:t})).sort(Cr)),i}));function ta(t){return null==t?t:xn.call(t)}var ea=$i((function(t){return cr(mi(t,1,Ka,!0))})),na=$i((function(t){var e=$o(t);return Ka(e)&&(e=r),cr(mi(t,1,Ka,!0),uo(e,2))})),ia=$i((function(t){var e=$o(t);return e="function"==typeof e?e:r,cr(mi(t,1,Ka,!0),r,e)}));function ra(t){if(!t||!t.length)return[];var e=0;return t=Ie(t,(function(t){if(Ka(t))return e=Ge(t.length,e),!0})),Je(e,(function(e){return Ne(t,Ke(e))}))}function oa(t,e){if(!t||!t.length)return[];var n=ra(t);return null==e?n:Ne(n,(function(t){return Te(e,r,t)}))}var aa=$i((function(t,e){return Ka(t)?hi(t,e):[]})),sa=$i((function(t){return pr(Ie(t,Ka))})),ua=$i((function(t){var e=$o(t);return Ka(e)&&(e=r),pr(Ie(t,Ka),uo(e,2))})),la=$i((function(t){var e=$o(t);return e="function"==typeof e?e:r,pr(Ie(t,Ka),r,e)})),ca=$i(ra);var ha=$i((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,oa(t,n)}));function fa(t){var e=Vn(t);return e.__chain__=!0,e}function da(t,e){return e(t)}var va=no((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return ai(e,t)};return!(e>1||this.__actions__.length)&&i instanceof qn&&wo(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:da,args:[o],thisArg:r}),new jn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(o)}));var pa=Mr((function(t,e,n){Nt.call(t,n)?++t[n]:oi(t,n,1)}));var ya=Fr(jo),ma=Fr(qo);function ga(t,e){return(qa(t)?Oe:fi)(t,uo(e,3))}function wa(t,e){return(qa(t)?Ze:di)(t,uo(e,3))}var ba=Mr((function(t,e,n){Nt.call(t,n)?t[n].push(e):oi(t,n,[e])}));var ka=$i((function(t,e,i){var r=-1,o="function"==typeof e,a=Ha(t)?n(t.length):[];return fi(t,(function(t){a[++r]=o?Te(e,t,i):Zi(t,e,i)})),a})),_a=Mr((function(t,e,n){oi(t,n,e)}));function xa(t,e){return(qa(t)?Ne:Bi)(t,uo(e,3))}var Sa=Mr((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Ea=$i((function(t,e){if(null==t)return[];var n=e.length;return n>1&&bo(t,e[0],e[1])?e=[]:n>2&&bo(e[0],e[1],e[2])&&(e=[e[0]]),qi(t,mi(e,1),[])})),Ca=re||function(){return pe.Date.now()};function Ta(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Jr(t,h,r,r,r,r,e)}function Aa(t,e){var n;if("function"!=typeof e)throw new Ot(o);return t=vs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var Oa=$i((function(t,e,n){var i=1;if(n.length){var r=hn(n,so(Oa));i|=l}return Jr(t,i,e,n,r)})),Za=$i((function(t,e,n){var i=3;if(n.length){var r=hn(n,so(Za));i|=l}return Jr(e,i,t,n,r)}));function Ma(t,e,n){var i,a,s,u,l,c,h=0,f=!1,d=!1,v=!0;if("function"!=typeof t)throw new Ot(o);function p(e){var n=i,o=a;return i=a=r,h=e,u=t.apply(o,n)}function y(t){var n=t-c;return c===r||n>=e||n<0||d&&t-h>=s}function m(){var t=Ca();if(y(t))return g(t);l=Mo(m,function(t){var n=e-(t-c);return d?wn(n,s-(t-h)):n}(t))}function g(t){return l=r,v&&i?p(t):(i=a=r,u)}function w(){var t=Ca(),n=y(t);if(i=arguments,a=this,c=t,n){if(l===r)return function(t){return h=t,l=Mo(m,e),f?p(t):u}(c);if(d)return _r(l),l=Mo(m,e),p(c)}return l===r&&(l=Mo(m,e)),u}return e=ys(e)||0,ts(n)&&(f=!!n.leading,s=(d="maxWait"in n)?Ge(ys(n.maxWait)||0,e):s,v="trailing"in n?!!n.trailing:v),w.cancel=function(){l!==r&&_r(l),h=0,i=c=a=l=r},w.flush=function(){return l===r?u:g(Ca())},w}var Ia=$i((function(t,e){return ci(t,1,e)})),La=$i((function(t,e,n){return ci(t,ys(e)||0,n)}));function Ra(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ot(o);var n=function n(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Ra.Cache||Kn),n}function Na(t){if("function"!=typeof t)throw new Ot(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ra.Cache=Kn;var Da=br((function(t,e){var n=(e=1==e.length&&qa(e[0])?Ne(e[0],Ye(uo())):Ne(mi(e,1),Ye(uo()))).length;return $i((function(i){for(var r=-1,o=wn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return Te(t,this,i)}))})),Pa=$i((function(t,e){var n=hn(e,so(Pa));return Jr(t,l,r,e,n)})),Fa=$i((function(t,e){var n=hn(e,so(Fa));return Jr(t,c,r,e,n)})),Ba=no((function(t,e){return Jr(t,f,r,r,r,e)}));function Va(t,e){return t===e||t!==t&&e!==e}var Ua=Hr(Ci),za=Hr((function(t,e){return t>=e})),ja=Mi(function(){return arguments}())?Mi:function(t){return es(t)&&Nt.call(t,"callee")&&!Gt.call(t,"callee")},qa=n.isArray,Wa=ke?Ye(ke):function(t){return es(t)&&Ei(t)==R};function Ha(t){return null!=t&&Ya(t.length)&&!Ja(t)}function Ka(t){return es(t)&&Ha(t)}var Ga=me||yu,Qa=_e?Ye(_e):function(t){return es(t)&&Ei(t)==k};function $a(t){if(!es(t))return!1;var e=Ei(t);return e==_||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!rs(t)}function Ja(t){if(!ts(t))return!1;var e=Ei(t);return e==x||e==S||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Xa(t){return"number"==typeof t&&t==vs(t)}function Ya(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=v}function ts(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function es(t){return null!=t&&"object"==typeof t}var ns=xe?Ye(xe):function(t){return es(t)&&po(t)==E};function is(t){return"number"==typeof t||es(t)&&Ei(t)==C}function rs(t){if(!es(t)||Ei(t)!=T)return!1;var e=Ht(t);if(null===e)return!0;var n=Nt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Rt.call(n)==Bt}var os=Se?Ye(Se):function(t){return es(t)&&Ei(t)==O};var as=Ee?Ye(Ee):function(t){return es(t)&&po(t)==Z};function ss(t){return"string"==typeof t||!qa(t)&&es(t)&&Ei(t)==M}function us(t){return"symbol"==typeof t||es(t)&&Ei(t)==I}var ls=Ce?Ye(Ce):function(t){return es(t)&&Ya(t.length)&&!!ue[Ei(t)]};var cs=Hr(Fi),hs=Hr((function(t,e){return t<=e}));function fs(t){if(!t)return[];if(Ha(t))return ss(t)?pn(t):Or(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=po(t);return(e==E?ln:e==Z?fn:Vs)(t)}function ds(t){return t?(t=ys(t))===d||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function vs(t){var e=ds(t),n=e%1;return e===e?n?e-n:e:0}function ps(t){return t?si(vs(t),0,y):0}function ys(t){if("number"==typeof t)return t;if(us(t))return p;if(ts(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ts(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Xe(t);var n=mt.test(t);return n||wt.test(t)?fe(t.slice(2),n?2:8):yt.test(t)?p:+t}function ms(t){return Zr(t,Is(t))}function gs(t){return null==t?"":lr(t)}var ws=Ir((function(t,e){if(So(e)||Ha(e))Zr(e,Ms(e),t);else for(var n in e)Nt.call(e,n)&&ei(t,n,e[n])})),bs=Ir((function(t,e){Zr(e,Is(e),t)})),ks=Ir((function(t,e,n,i){Zr(e,Is(e),t,i)})),_s=Ir((function(t,e,n,i){Zr(e,Ms(e),t,i)})),xs=no(ai);var Ss=$i((function(t,e){t=Ct(t);var n=-1,i=e.length,o=i>2?e[2]:r;for(o&&bo(e[0],e[1],o)&&(i=1);++n<i;)for(var a=e[n],s=Is(a),u=-1,l=s.length;++u<l;){var c=s[u],h=t[c];(h===r||Va(h,It[c])&&!Nt.call(t,c))&&(t[c]=a[c])}return t})),Es=$i((function(t){return t.push(r,Yr),Te(Rs,r,t)}));function Cs(t,e,n){var i=null==t?r:xi(t,e);return i===r?n:i}function Ts(t,e){return null!=t&&yo(t,e,Ai)}var As=Ur((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),t[e]=n}),tu(iu)),Os=Ur((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),Nt.call(t,e)?t[e].push(n):t[e]=[n]}),uo),Zs=$i(Zi);function Ms(t){return Ha(t)?$n(t):Di(t)}function Is(t){return Ha(t)?$n(t,!0):Pi(t)}var Ls=Ir((function(t,e,n){zi(t,e,n)})),Rs=Ir((function(t,e,n,i){zi(t,e,n,i)})),Ns=no((function(t,e){var n={};if(null==t)return n;var i=!1;e=Ne(e,(function(e){return e=wr(e,t),i||(i=e.length>1),e})),Zr(t,ro(t),n),i&&(n=ui(n,7,to));for(var r=e.length;r--;)hr(n,e[r]);return n}));var Ds=no((function(t,e){return null==t?{}:function(t,e){return Wi(t,e,(function(e,n){return Ts(t,n)}))}(t,e)}));function Ps(t,e){if(null==t)return{};var n=Ne(ro(t),(function(t){return[t]}));return e=uo(e),Wi(t,n,(function(t,n){return e(t,n[0])}))}var Fs=$r(Ms),Bs=$r(Is);function Vs(t){return null==t?[]:tn(t,Ms(t))}var Us=Dr((function(t,e,n){return e=e.toLowerCase(),t+(n?zs(e):e)}));function zs(t){return $s(gs(t).toLowerCase())}function js(t){return(t=gs(t))&&t.replace(kt,on).replace(ee,"")}var qs=Dr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ws=Dr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Hs=Nr("toLowerCase");var Ks=Dr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Gs=Dr((function(t,e,n){return t+(n?" ":"")+$s(e)}));var Qs=Dr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),$s=Nr("toUpperCase");function Js(t,e,n){return t=gs(t),(e=n?r:e)===r?function(t){return oe.test(t)}(t)?function(t){return t.match(ie)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var Xs=$i((function(t,e){try{return Te(t,r,e)}catch(n){return $a(n)?n:new st(n)}})),Ys=no((function(t,e){return Oe(e,(function(e){e=Po(e),oi(t,e,Oa(t[e],t))})),t}));function tu(t){return function(){return t}}var eu=Br(),nu=Br(!0);function iu(t){return t}function ru(t){return Ni("function"==typeof t?t:ui(t,1))}var ou=$i((function(t,e){return function(n){return Zi(n,t,e)}})),au=$i((function(t,e){return function(n){return Zi(t,n,e)}}));function su(t,e,n){var i=Ms(e),r=_i(e,i);null!=n||ts(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=_i(e,Ms(e)));var o=!(ts(n)&&"chain"in n)||!!n.chain,a=Ja(t);return Oe(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Or(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,De([this.value()],arguments))})})),t}function uu(){}var lu=jr(Ne),cu=jr(Me),hu=jr(Be);function fu(t){return ko(t)?Ke(Po(t)):function(t){return function(e){return xi(e,t)}}(t)}var du=Wr(),vu=Wr(!0);function pu(){return[]}function yu(){return!1}var mu=zr((function(t,e){return t+e}),0),gu=Gr("ceil"),wu=zr((function(t,e){return t/e}),1),bu=Gr("floor");var ku=zr((function(t,e){return t*e}),1),_u=Gr("round"),xu=zr((function(t,e){return t-e}),0);return Vn.after=function(t,e){if("function"!=typeof e)throw new Ot(o);return t=vs(t),function(){if(--t<1)return e.apply(this,arguments)}},Vn.ary=Ta,Vn.assign=ws,Vn.assignIn=bs,Vn.assignInWith=ks,Vn.assignWith=_s,Vn.at=xs,Vn.before=Aa,Vn.bind=Oa,Vn.bindAll=Ys,Vn.bindKey=Za,Vn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return qa(t)?t:[t]},Vn.chain=fa,Vn.chunk=function(t,e,i){e=(i?bo(t,e,i):e===r)?1:Ge(vs(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,s=0,u=n(de(o/e));a<o;)u[s++]=ir(t,a,a+=e);return u},Vn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},Vn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),i=arguments[0],r=t;r--;)e[r-1]=arguments[r];return De(qa(i)?Or(i):[i],mi(e,1))},Vn.cond=function(t){var e=null==t?0:t.length,n=uo();return t=e?Ne(t,(function(t){if("function"!=typeof t[1])throw new Ot(o);return[n(t[0]),t[1]]})):[],$i((function(n){for(var i=-1;++i<e;){var r=t[i];if(Te(r[0],this,n))return Te(r[1],this,n)}}))},Vn.conforms=function(t){return function(t){var e=Ms(t);return function(n){return li(n,t,e)}}(ui(t,1))},Vn.constant=tu,Vn.countBy=pa,Vn.create=function(t,e){var n=Un(t);return null==e?n:ri(n,e)},Vn.curry=function t(e,n,i){var o=Jr(e,8,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},Vn.curryRight=function t(e,n,i){var o=Jr(e,u,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},Vn.debounce=Ma,Vn.defaults=Ss,Vn.defaultsDeep=Es,Vn.defer=Ia,Vn.delay=La,Vn.difference=Vo,Vn.differenceBy=Uo,Vn.differenceWith=zo,Vn.drop=function(t,e,n){var i=null==t?0:t.length;return i?ir(t,(e=n||e===r?1:vs(e))<0?0:e,i):[]},Vn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?ir(t,0,(e=i-(e=n||e===r?1:vs(e)))<0?0:e):[]},Vn.dropRightWhile=function(t,e){return t&&t.length?dr(t,uo(e,3),!0,!0):[]},Vn.dropWhile=function(t,e){return t&&t.length?dr(t,uo(e,3),!0):[]},Vn.fill=function(t,e,n,i){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&bo(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=vs(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:vs(i))<0&&(i+=o),i=n>i?0:ps(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Vn.filter=function(t,e){return(qa(t)?Ie:yi)(t,uo(e,3))},Vn.flatMap=function(t,e){return mi(xa(t,e),1)},Vn.flatMapDeep=function(t,e){return mi(xa(t,e),d)},Vn.flatMapDepth=function(t,e,n){return n=n===r?1:vs(n),mi(xa(t,e),n)},Vn.flatten=Wo,Vn.flattenDeep=function(t){return(null==t?0:t.length)?mi(t,d):[]},Vn.flattenDepth=function(t,e){return(null==t?0:t.length)?mi(t,e=e===r?1:vs(e)):[]},Vn.flip=function(t){return Jr(t,512)},Vn.flow=eu,Vn.flowRight=nu,Vn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},Vn.functions=function(t){return null==t?[]:_i(t,Ms(t))},Vn.functionsIn=function(t){return null==t?[]:_i(t,Is(t))},Vn.groupBy=ba,Vn.initial=function(t){return(null==t?0:t.length)?ir(t,0,-1):[]},Vn.intersection=Ko,Vn.intersectionBy=Go,Vn.intersectionWith=Qo,Vn.invert=As,Vn.invertBy=Os,Vn.invokeMap=ka,Vn.iteratee=ru,Vn.keyBy=_a,Vn.keys=Ms,Vn.keysIn=Is,Vn.map=xa,Vn.mapKeys=function(t,e){var n={};return e=uo(e,3),bi(t,(function(t,i,r){oi(n,e(t,i,r),t)})),n},Vn.mapValues=function(t,e){var n={};return e=uo(e,3),bi(t,(function(t,i,r){oi(n,i,e(t,i,r))})),n},Vn.matches=function(t){return Vi(ui(t,1))},Vn.matchesProperty=function(t,e){return Ui(t,ui(e,1))},Vn.memoize=Ra,Vn.merge=Ls,Vn.mergeWith=Rs,Vn.method=ou,Vn.methodOf=au,Vn.mixin=su,Vn.negate=Na,Vn.nthArg=function(t){return t=vs(t),$i((function(e){return ji(e,t)}))},Vn.omit=Ns,Vn.omitBy=function(t,e){return Ps(t,Na(uo(e)))},Vn.once=function(t){return Aa(2,t)},Vn.orderBy=function(t,e,n,i){return null==t?[]:(qa(e)||(e=null==e?[]:[e]),qa(n=i?r:n)||(n=null==n?[]:[n]),qi(t,e,n))},Vn.over=lu,Vn.overArgs=Da,Vn.overEvery=cu,Vn.overSome=hu,Vn.partial=Pa,Vn.partialRight=Fa,Vn.partition=Sa,Vn.pick=Ds,Vn.pickBy=Ps,Vn.property=fu,Vn.propertyOf=function(t){return function(e){return null==t?r:xi(t,e)}},Vn.pull=Jo,Vn.pullAll=Xo,Vn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Hi(t,e,uo(n,2)):t},Vn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Hi(t,e,r,n):t},Vn.pullAt=Yo,Vn.range=du,Vn.rangeRight=vu,Vn.rearg=Ba,Vn.reject=function(t,e){return(qa(t)?Ie:yi)(t,Na(uo(e,3)))},Vn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=uo(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Ki(t,r),n},Vn.rest=function(t,e){if("function"!=typeof t)throw new Ot(o);return $i(t,e=e===r?e:vs(e))},Vn.reverse=ta,Vn.sampleSize=function(t,e,n){return e=(n?bo(t,e,n):e===r)?1:vs(e),(qa(t)?Xn:Xi)(t,e)},Vn.set=function(t,e,n){return null==t?t:Yi(t,e,n)},Vn.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:Yi(t,e,n,i)},Vn.shuffle=function(t){return(qa(t)?Yn:nr)(t)},Vn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&bo(t,e,n)?(e=0,n=i):(e=null==e?0:vs(e),n=n===r?i:vs(n)),ir(t,e,n)):[]},Vn.sortBy=Ea,Vn.sortedUniq=function(t){return t&&t.length?sr(t):[]},Vn.sortedUniqBy=function(t,e){return t&&t.length?sr(t,uo(e,2)):[]},Vn.split=function(t,e,n){return n&&"number"!=typeof n&&bo(t,e,n)&&(e=n=r),(n=n===r?y:n>>>0)?(t=gs(t))&&("string"==typeof e||null!=e&&!os(e))&&!(e=lr(e))&&un(t)?kr(pn(t),0,n):t.split(e,n):[]},Vn.spread=function(t,e){if("function"!=typeof t)throw new Ot(o);return e=null==e?0:Ge(vs(e),0),$i((function(n){var i=n[e],r=kr(n,0,e);return i&&De(r,i),Te(t,this,r)}))},Vn.tail=function(t){var e=null==t?0:t.length;return e?ir(t,1,e):[]},Vn.take=function(t,e,n){return t&&t.length?ir(t,0,(e=n||e===r?1:vs(e))<0?0:e):[]},Vn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?ir(t,(e=i-(e=n||e===r?1:vs(e)))<0?0:e,i):[]},Vn.takeRightWhile=function(t,e){return t&&t.length?dr(t,uo(e,3),!1,!0):[]},Vn.takeWhile=function(t,e){return t&&t.length?dr(t,uo(e,3)):[]},Vn.tap=function(t,e){return e(t),t},Vn.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Ot(o);return ts(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Ma(t,e,{leading:i,maxWait:e,trailing:r})},Vn.thru=da,Vn.toArray=fs,Vn.toPairs=Fs,Vn.toPairsIn=Bs,Vn.toPath=function(t){return qa(t)?Ne(t,Po):us(t)?[t]:Or(Do(gs(t)))},Vn.toPlainObject=ms,Vn.transform=function(t,e,n){var i=qa(t),r=i||Ga(t)||ls(t);if(e=uo(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:ts(t)&&Ja(o)?Un(Ht(t)):{}}return(r?Oe:bi)(t,(function(t,i,r){return e(n,t,i,r)})),n},Vn.unary=function(t){return Ta(t,1)},Vn.union=ea,Vn.unionBy=na,Vn.unionWith=ia,Vn.uniq=function(t){return t&&t.length?cr(t):[]},Vn.uniqBy=function(t,e){return t&&t.length?cr(t,uo(e,2)):[]},Vn.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?cr(t,r,e):[]},Vn.unset=function(t,e){return null==t||hr(t,e)},Vn.unzip=ra,Vn.unzipWith=oa,Vn.update=function(t,e,n){return null==t?t:fr(t,e,gr(n))},Vn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:fr(t,e,gr(n),i)},Vn.values=Vs,Vn.valuesIn=function(t){return null==t?[]:tn(t,Is(t))},Vn.without=aa,Vn.words=Js,Vn.wrap=function(t,e){return Pa(gr(e),t)},Vn.xor=sa,Vn.xorBy=ua,Vn.xorWith=la,Vn.zip=ca,Vn.zipObject=function(t,e){return yr(t||[],e||[],ei)},Vn.zipObjectDeep=function(t,e){return yr(t||[],e||[],Yi)},Vn.zipWith=ha,Vn.entries=Fs,Vn.entriesIn=Bs,Vn.extend=bs,Vn.extendWith=ks,su(Vn,Vn),Vn.add=mu,Vn.attempt=Xs,Vn.camelCase=Us,Vn.capitalize=zs,Vn.ceil=gu,Vn.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=ys(n))===n?n:0),e!==r&&(e=(e=ys(e))===e?e:0),si(ys(t),e,n)},Vn.clone=function(t){return ui(t,4)},Vn.cloneDeep=function(t){return ui(t,5)},Vn.cloneDeepWith=function(t,e){return ui(t,5,e="function"==typeof e?e:r)},Vn.cloneWith=function(t,e){return ui(t,4,e="function"==typeof e?e:r)},Vn.conformsTo=function(t,e){return null==e||li(t,e,Ms(e))},Vn.deburr=js,Vn.defaultTo=function(t,e){return null==t||t!==t?e:t},Vn.divide=wu,Vn.endsWith=function(t,e,n){t=gs(t),e=lr(e);var i=t.length,o=n=n===r?i:si(vs(n),0,i);return(n-=e.length)>=0&&t.slice(n,o)==e},Vn.eq=Va,Vn.escape=function(t){return(t=gs(t))&&J.test(t)?t.replace(Q,an):t},Vn.escapeRegExp=function(t){return(t=gs(t))&&ot.test(t)?t.replace(rt,"\\$&"):t},Vn.every=function(t,e,n){var i=qa(t)?Me:vi;return n&&bo(t,e,n)&&(e=r),i(t,uo(e,3))},Vn.find=ya,Vn.findIndex=jo,Vn.findKey=function(t,e){return Ue(t,uo(e,3),bi)},Vn.findLast=ma,Vn.findLastIndex=qo,Vn.findLastKey=function(t,e){return Ue(t,uo(e,3),ki)},Vn.floor=bu,Vn.forEach=ga,Vn.forEachRight=wa,Vn.forIn=function(t,e){return null==t?t:gi(t,uo(e,3),Is)},Vn.forInRight=function(t,e){return null==t?t:wi(t,uo(e,3),Is)},Vn.forOwn=function(t,e){return t&&bi(t,uo(e,3))},Vn.forOwnRight=function(t,e){return t&&ki(t,uo(e,3))},Vn.get=Cs,Vn.gt=Ua,Vn.gte=za,Vn.has=function(t,e){return null!=t&&yo(t,e,Ti)},Vn.hasIn=Ts,Vn.head=Ho,Vn.identity=iu,Vn.includes=function(t,e,n,i){t=Ha(t)?t:Vs(t),n=n&&!i?vs(n):0;var r=t.length;return n<0&&(n=Ge(r+n,0)),ss(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&je(t,e,n)>-1},Vn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:vs(n);return r<0&&(r=Ge(i+r,0)),je(t,e,r)},Vn.inRange=function(t,e,n){return e=ds(e),n===r?(n=e,e=0):n=ds(n),function(t,e,n){return t>=wn(e,n)&&t<Ge(e,n)}(t=ys(t),e,n)},Vn.invoke=Zs,Vn.isArguments=ja,Vn.isArray=qa,Vn.isArrayBuffer=Wa,Vn.isArrayLike=Ha,Vn.isArrayLikeObject=Ka,Vn.isBoolean=function(t){return!0===t||!1===t||es(t)&&Ei(t)==b},Vn.isBuffer=Ga,Vn.isDate=Qa,Vn.isElement=function(t){return es(t)&&1===t.nodeType&&!rs(t)},Vn.isEmpty=function(t){if(null==t)return!0;if(Ha(t)&&(qa(t)||"string"==typeof t||"function"==typeof t.splice||Ga(t)||ls(t)||ja(t)))return!t.length;var e=po(t);if(e==E||e==Z)return!t.size;if(So(t))return!Di(t).length;for(var n in t)if(Nt.call(t,n))return!1;return!0},Vn.isEqual=function(t,e){return Ii(t,e)},Vn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?Ii(t,e,r,n):!!i},Vn.isError=$a,Vn.isFinite=function(t){return"number"==typeof t&&we(t)},Vn.isFunction=Ja,Vn.isInteger=Xa,Vn.isLength=Ya,Vn.isMap=ns,Vn.isMatch=function(t,e){return t===e||Li(t,e,co(e))},Vn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,Li(t,e,co(e),n)},Vn.isNaN=function(t){return is(t)&&t!=+t},Vn.isNative=function(t){if(xo(t))throw new st("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ri(t)},Vn.isNil=function(t){return null==t},Vn.isNull=function(t){return null===t},Vn.isNumber=is,Vn.isObject=ts,Vn.isObjectLike=es,Vn.isPlainObject=rs,Vn.isRegExp=os,Vn.isSafeInteger=function(t){return Xa(t)&&t>=-9007199254740991&&t<=v},Vn.isSet=as,Vn.isString=ss,Vn.isSymbol=us,Vn.isTypedArray=ls,Vn.isUndefined=function(t){return t===r},Vn.isWeakMap=function(t){return es(t)&&po(t)==L},Vn.isWeakSet=function(t){return es(t)&&"[object WeakSet]"==Ei(t)},Vn.join=function(t,e){return null==t?"":be.call(t,e)},Vn.kebabCase=qs,Vn.last=$o,Vn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=vs(n))<0?Ge(i+o,0):wn(o,i-1)),e===e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,o):ze(t,We,o,!0)},Vn.lowerCase=Ws,Vn.lowerFirst=Hs,Vn.lt=cs,Vn.lte=hs,Vn.max=function(t){return t&&t.length?pi(t,iu,Ci):r},Vn.maxBy=function(t,e){return t&&t.length?pi(t,uo(e,2),Ci):r},Vn.mean=function(t){return He(t,iu)},Vn.meanBy=function(t,e){return He(t,uo(e,2))},Vn.min=function(t){return t&&t.length?pi(t,iu,Fi):r},Vn.minBy=function(t,e){return t&&t.length?pi(t,uo(e,2),Fi):r},Vn.stubArray=pu,Vn.stubFalse=yu,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=ku,Vn.nth=function(t,e){return t&&t.length?ji(t,vs(e)):r},Vn.noConflict=function(){return pe._===this&&(pe._=Vt),this},Vn.noop=uu,Vn.now=Ca,Vn.pad=function(t,e,n){t=gs(t);var i=(e=vs(e))?vn(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return qr(ve(r),n)+t+qr(de(r),n)},Vn.padEnd=function(t,e,n){t=gs(t);var i=(e=vs(e))?vn(t):0;return e&&i<e?t+qr(e-i,n):t},Vn.padStart=function(t,e,n){t=gs(t);var i=(e=vs(e))?vn(t):0;return e&&i<e?qr(e-i,n)+t:t},Vn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),kn(gs(t).replace(at,""),e||0)},Vn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&bo(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=ds(t),e===r?(e=t,t=0):e=ds(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=_n();return wn(t+o*(e-t+he("1e-"+((o+"").length-1))),e)}return Gi(t,e)},Vn.reduce=function(t,e,n){var i=qa(t)?Pe:Qe,r=arguments.length<3;return i(t,uo(e,4),n,r,fi)},Vn.reduceRight=function(t,e,n){var i=qa(t)?Fe:Qe,r=arguments.length<3;return i(t,uo(e,4),n,r,di)},Vn.repeat=function(t,e,n){return e=(n?bo(t,e,n):e===r)?1:vs(e),Qi(gs(t),e)},Vn.replace=function(){var t=arguments,e=gs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Vn.result=function(t,e,n){var i=-1,o=(e=wr(e,t)).length;for(o||(o=1,t=r);++i<o;){var a=null==t?r:t[Po(e[i])];a===r&&(i=o,a=n),t=Ja(a)?a.call(t):a}return t},Vn.round=_u,Vn.runInContext=t,Vn.sample=function(t){return(qa(t)?Jn:Ji)(t)},Vn.size=function(t){if(null==t)return 0;if(Ha(t))return ss(t)?vn(t):t.length;var e=po(t);return e==E||e==Z?t.size:Di(t).length},Vn.snakeCase=Ks,Vn.some=function(t,e,n){var i=qa(t)?Be:rr;return n&&bo(t,e,n)&&(e=r),i(t,uo(e,3))},Vn.sortedIndex=function(t,e){return or(t,e)},Vn.sortedIndexBy=function(t,e,n){return ar(t,e,uo(n,2))},Vn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=or(t,e);if(i<n&&Va(t[i],e))return i}return-1},Vn.sortedLastIndex=function(t,e){return or(t,e,!0)},Vn.sortedLastIndexBy=function(t,e,n){return ar(t,e,uo(n,2),!0)},Vn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=or(t,e,!0)-1;if(Va(t[n],e))return n}return-1},Vn.startCase=Gs,Vn.startsWith=function(t,e,n){return t=gs(t),n=null==n?0:si(vs(n),0,t.length),e=lr(e),t.slice(n,n+e.length)==e},Vn.subtract=xu,Vn.sum=function(t){return t&&t.length?$e(t,iu):0},Vn.sumBy=function(t,e){return t&&t.length?$e(t,uo(e,2)):0},Vn.template=function(t,e,n){var i=Vn.templateSettings;n&&bo(t,e,n)&&(e=r),t=gs(t),e=ks({},e,i,Xr);var o,a,s=ks({},e.imports,i.imports,Xr),u=Ms(s),l=tn(s,u),c=0,h=e.interpolate||_t,f="__p += '",d=Tt((e.escape||_t).source+"|"+h.source+"|"+(h===tt?vt:_t).source+"|"+(e.evaluate||_t).source+"|$","g"),v="//# sourceURL="+(Nt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++se+"]")+"\n";t.replace(d,(function(e,n,i,r,s,u){return i||(i=r),f+=t.slice(c,u).replace(xt,sn),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),f+="';\n";var p=Nt.call(e,"variable")&&e.variable;if(p){if(ft.test(p))throw new st("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(W,""):f).replace(H,"$1").replace(K,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=Xs((function(){return St(u,v+"return "+f).apply(r,l)}));if(y.source=f,$a(y))throw y;return y},Vn.times=function(t,e){if((t=vs(t))<1||t>v)return[];var n=y,i=wn(t,y);e=uo(e),t-=y;for(var r=Je(i,e);++n<t;)e(n);return r},Vn.toFinite=ds,Vn.toInteger=vs,Vn.toLength=ps,Vn.toLower=function(t){return gs(t).toLowerCase()},Vn.toNumber=ys,Vn.toSafeInteger=function(t){return t?si(vs(t),-9007199254740991,v):0===t?t:0},Vn.toString=gs,Vn.toUpper=function(t){return gs(t).toUpperCase()},Vn.trim=function(t,e,n){if((t=gs(t))&&(n||e===r))return Xe(t);if(!t||!(e=lr(e)))return t;var i=pn(t),o=pn(e);return kr(i,nn(i,o),rn(i,o)+1).join("")},Vn.trimEnd=function(t,e,n){if((t=gs(t))&&(n||e===r))return t.slice(0,yn(t)+1);if(!t||!(e=lr(e)))return t;var i=pn(t);return kr(i,0,rn(i,pn(e))+1).join("")},Vn.trimStart=function(t,e,n){if((t=gs(t))&&(n||e===r))return t.replace(at,"");if(!t||!(e=lr(e)))return t;var i=pn(t);return kr(i,nn(i,pn(e))).join("")},Vn.truncate=function(t,e){var n=30,i="...";if(ts(e)){var o="separator"in e?e.separator:o;n="length"in e?vs(e.length):n,i="omission"in e?lr(e.omission):i}var a=(t=gs(t)).length;if(un(t)){var s=pn(t);a=s.length}if(n>=a)return t;var u=n-vn(i);if(u<1)return i;var l=s?kr(s,0,u).join(""):t.slice(0,u);if(o===r)return l+i;if(s&&(u+=l.length-u),os(o)){if(t.slice(u).search(o)){var c,h=l;for(o.global||(o=Tt(o.source,gs(pt.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var f=c.index;l=l.slice(0,f===r?u:f)}}else if(t.indexOf(lr(o),u)!=u){var d=l.lastIndexOf(o);d>-1&&(l=l.slice(0,d))}return l+i},Vn.unescape=function(t){return(t=gs(t))&&$.test(t)?t.replace(G,mn):t},Vn.uniqueId=function(t){var e=++Dt;return gs(t)+e},Vn.upperCase=Qs,Vn.upperFirst=$s,Vn.each=ga,Vn.eachRight=wa,Vn.first=Ho,su(Vn,function(){var t={};return bi(Vn,(function(e,n){Nt.call(Vn.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),Vn.VERSION="4.17.21",Oe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Vn[t].placeholder=Vn})),Oe(["drop","take"],(function(t,e){qn.prototype[t]=function(n){n=n===r?1:Ge(vs(n),0);var i=this.__filtered__&&!e?new qn(this):this.clone();return i.__filtered__?i.__takeCount__=wn(n,i.__takeCount__):i.__views__.push({size:wn(n,y),type:t+(i.__dir__<0?"Right":"")}),i},qn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Oe(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;qn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:uo(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),Oe(["head","last"],(function(t,e){var n="take"+(e?"Right":"");qn.prototype[t]=function(){return this[n](1).value()[0]}})),Oe(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");qn.prototype[t]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(iu)},qn.prototype.find=function(t){return this.filter(t).head()},qn.prototype.findLast=function(t){return this.reverse().find(t)},qn.prototype.invokeMap=$i((function(t,e){return"function"==typeof t?new qn(this):this.map((function(n){return Zi(n,t,e)}))})),qn.prototype.reject=function(t){return this.filter(Na(uo(t)))},qn.prototype.slice=function(t,e){t=vs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new qn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=vs(e))<0?n.dropRight(-e):n.take(e-t)),n)},qn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},qn.prototype.toArray=function(){return this.take(y)},bi(qn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=Vn[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);o&&(Vn.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,u=e instanceof qn,l=s[0],c=u||qa(e),h=function(t){var e=o.apply(Vn,De([t],s));return i&&f?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,v=a&&!f,p=u&&!d;if(!a&&c){e=p?e:new qn(this);var y=t.apply(e,s);return y.__actions__.push({func:da,args:[h],thisArg:r}),new jn(y,f)}return v&&p?t.apply(this,s):(y=this.thru(h),v?i?y.value()[0]:y.value():y)})})),Oe(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Zt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Vn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(qa(r)?r:[],t)}return this[n]((function(n){return e.apply(qa(n)?n:[],t)}))}})),bi(qn.prototype,(function(t,e){var n=Vn[e];if(n){var i=n.name+"";Nt.call(Mn,i)||(Mn[i]=[]),Mn[i].push({name:e,func:n})}})),Mn[Vr(r,2).name]=[{name:"wrapper",func:r}],qn.prototype.clone=function(){var t=new qn(this.__wrapped__);return t.__actions__=Or(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Or(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Or(this.__views__),t},qn.prototype.reverse=function(){if(this.__filtered__){var t=new qn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},qn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=qa(t),i=e<0,r=n?t.length:0,o=function(t,e,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=wn(e,t+a);break;case"takeRight":t=Ge(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,u=s-a,l=i?s:a-1,c=this.__iteratees__,h=c.length,f=0,d=wn(u,this.__takeCount__);if(!n||!i&&r==u&&d==u)return vr(t,this.__actions__);var v=[];t:for(;u--&&f<d;){for(var p=-1,y=t[l+=e];++p<h;){var m=c[p],g=m.iteratee,w=m.type,b=g(y);if(2==w)y=b;else if(!b){if(1==w)continue t;break t}}v[f++]=y}return v},Vn.prototype.at=va,Vn.prototype.chain=function(){return fa(this)},Vn.prototype.commit=function(){return new jn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===r&&(this.__values__=fs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},Vn.prototype.plant=function(t){for(var e,n=this;n instanceof zn;){var i=Bo(n);i.__index__=0,i.__values__=r,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},Vn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof qn){var e=t;return this.__actions__.length&&(e=new qn(this)),(e=e.reverse()).__actions__.push({func:da,args:[ta],thisArg:r}),new jn(e,this.__chain__)}return this.thru(ta)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return vr(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,Jt&&(Vn.prototype[Jt]=function(){return this}),Vn}();pe._=gn,(i=function(){return gn}.call(e,n,e,t))===r||(t.exports=i)}.call(this)},888:function(t,e,n){"use strict";var i=n(9047);function r(){}function o(){}o.resetWarningCache=r,t.exports=function(){function t(t,e,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},2007:function(t,e,n){t.exports=n(888)()},9047:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3688:function(t,e,n){"use strict";function i(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function r(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function o(t,e){try{var n=this.props,i=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,s=null;if("function"===typeof e.componentWillMount?n="componentWillMount":"function"===typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof e.componentWillUpdate?s="componentWillUpdate":"function"===typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=t.displayName||t.name,l="function"===typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof t.getDerivedStateFromProps&&(e.componentWillMount=i,e.componentWillReceiveProps=r),"function"===typeof e.getSnapshotBeforeUpdate){if("function"!==typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=o;var c=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,t,e,i)}}return t}n.r(e),n.d(e,{polyfill:function(){return a}}),i.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},2240:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bodyOpenClassName=e.portalClassName=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(2791),a=v(o),s=v(n(4164)),u=v(n(2007)),l=v(n(4334)),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(5858)),h=n(3663),f=v(h),d=n(3688);function v(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var y=e.portalClassName="ReactModalPortal",m=e.bodyOpenClassName="ReactModal__Body--open",g=h.canUseDOM&&void 0!==s.default.createPortal,w=function(t){return document.createElement(t)},b=function(){return g?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function k(t){return t()}var _=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,u=Array(o),c=0;c<o;c++)u[c]=arguments[c];return n=r=p(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.removePortal=function(){!g&&s.default.unmountComponentAtNode(r.node);var t=k(r.props.parentSelector);t&&t.contains(r.node)&&t.removeChild(r.node)},r.portalRef=function(t){r.portal=t},r.renderPortal=function(t){var n=b()(r,a.default.createElement(l.default,i({defaultStyles:e.defaultStyles},t)),r.node);r.portalRef(n)},p(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"componentDidMount",value:function(){h.canUseDOM&&(g||(this.node=w("div")),this.node.className=this.props.portalClassName,k(this.props.parentSelector).appendChild(this.node),!g&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(t){return{prevParent:k(t.parentSelector),nextParent:k(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(t,e,n){if(h.canUseDOM){var i=this.props,r=i.isOpen,o=i.portalClassName;t.portalClassName!==o&&(this.node.className=o);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(t.isOpen||r)&&!g&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(h.canUseDOM&&this.node&&this.portal){var t=this.portal.state,e=Date.now(),n=t.isOpen&&this.props.closeTimeoutMS&&(t.closesAt||e+this.props.closeTimeoutMS);n?(t.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-e)):this.removePortal()}}},{key:"render",value:function(){return h.canUseDOM&&g?(!this.node&&g&&(this.node=w("div")),b()(a.default.createElement(l.default,i({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(t){c.setElement(t)}}]),e}(o.Component);_.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.oneOfType([u.default.instanceOf(f.default),u.default.instanceOf(h.SafeHTMLCollection),u.default.instanceOf(h.SafeNodeList),u.default.arrayOf(u.default.instanceOf(f.default))]),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func},_.defaultProps={isOpen:!1,portalClassName:y,bodyOpenClassName:m,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,e){return a.default.createElement("div",t,e)},contentElement:function(t,e){return a.default.createElement("div",t,e)}},_.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,d.polyfill)(_),e.default=_},4334:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2791),s=y(n(2007)),u=p(n(8844)),l=y(n(870)),c=p(n(5858)),h=p(n(6554)),f=n(3663),d=y(f),v=y(n(8484));function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function y(t){return t&&t.__esModule?t:{default:t}}n(5670);var m={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},g=0,w=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setOverlayRef=function(t){n.overlay=t,n.props.overlayRef&&n.props.overlayRef(t)},n.setContentRef=function(t){n.content=t,n.props.contentRef&&n.props.contentRef(t)},n.afterClose=function(){var t=n.props,e=t.appElement,i=t.ariaHideApp,r=t.htmlOpenClassName,o=t.bodyOpenClassName,a=t.parentSelector,s=a&&a().ownerDocument||document;o&&h.remove(s.body,o),r&&h.remove(s.getElementsByTagName("html")[0],r),i&&g>0&&0===(g-=1)&&c.show(e),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(u.returnFocus(n.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),v.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(u.setupScopedFocus(n.node),u.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var t=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:t},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(t){(function(t){return"Tab"===t.code||9===t.keyCode})(t)&&(0,l.default)(n.content,t),n.props.shouldCloseOnEsc&&function(t){return"Escape"===t.code||27===t.keyCode}(t)&&(t.stopPropagation(),n.requestClose(t))},n.handleOverlayOnClick=function(t){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(t):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(t){n.props.shouldCloseOnOverlayClick||t.target!=n.overlay||t.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(t){return n.ownerHandlesClose()&&n.props.onRequestClose(t)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(t,e){var i="object"===("undefined"===typeof e?"undefined":r(e))?e:{base:m[t],afterOpen:m[t]+"--after-open",beforeClose:m[t]+"--before-close"},o=i.base;return n.state.afterOpen&&(o=o+" "+i.afterOpen),n.state.beforeClose&&(o=o+" "+i.beforeClose),"string"===typeof e&&e?o+" "+e:o},n.attributesFromObject=function(t,e){return Object.keys(e).reduce((function(n,i){return n[t+"-"+i]=e[i],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(t,e){this.props.isOpen&&!t.isOpen?this.open():!this.props.isOpen&&t.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!e.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var t=this.props,e=t.appElement,n=t.ariaHideApp,i=t.htmlOpenClassName,r=t.bodyOpenClassName,o=t.parentSelector,a=o&&o().ownerDocument||document;r&&h.add(a.body,r),i&&h.add(a.getElementsByTagName("html")[0],i),n&&(g+=1,c.hide(e)),v.default.register(this)}},{key:"render",value:function(){var t=this.props,e=t.id,n=t.className,r=t.overlayClassName,o=t.defaultStyles,a=t.children,s=n?{}:o.content,u=r?{}:o.overlay;if(this.shouldBeClosed())return null;var l={ref:this.setOverlayRef,className:this.buildClassName("overlay",r),style:i({},u,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},c=i({id:e,ref:this.setContentRef,style:i({},s,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",i({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),h=this.props.contentElement(c,a);return this.props.overlayElement(l,h)}}]),e}(a.Component);w.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},w.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(d.default),s.default.instanceOf(f.SafeHTMLCollection),s.default.instanceOf(f.SafeNodeList),s.default.arrayOf(s.default.instanceOf(d.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},e.default=w,t.exports=e.default},5858:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resetState=function(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):null!=s.length?s.forEach((function(t){return t.removeAttribute("aria-hidden")})):document.querySelectorAll(s).forEach((function(t){return t.removeAttribute("aria-hidden")})));s=null},e.log=function(){0},e.assertNodeList=u,e.setElement=function(t){var e=t;if("string"===typeof e&&a.canUseDOM){var n=document.querySelectorAll(e);u(n,e),e=n}return s=e||s},e.validateElement=l,e.hide=function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=l(t)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.setAttribute("aria-hidden","true")}}catch(a){n=!0,i=a}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}},e.show=function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=l(t)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.removeAttribute("aria-hidden")}}catch(a){n=!0,i=a}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}},e.documentNotReadyOrSSRTesting=function(){s=null};var i,r=n(2391),o=(i=r)&&i.__esModule?i:{default:i},a=n(3663);var s=null;function u(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function l(t){var e=t||s;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},5670:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resetState=function(){for(var t=[a,s],e=0;e<t.length;e++){var n=t[e];n&&(n.parentNode&&n.parentNode.removeChild(n))}a=s=null,u=[]},e.log=function(){for(var t=[a,s],e=0;e<t.length;e++);};var i,r=n(8484),o=(i=r)&&i.__esModule?i:{default:i};var a=void 0,s=void 0,u=[];function l(){0!==u.length&&u[u.length-1].focusContent()}o.default.subscribe((function(t,e){a||s||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",l),(s=a.cloneNode()).addEventListener("focus",l)),(u=e).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))}))},6554:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resetState=function(){var t=document.getElementsByTagName("html")[0];for(var e in n)r(t,n[e]);var o=document.body;for(var a in i)r(o,i[a]);n={},i={}},e.log=function(){0};var n={},i={};function r(t,e){t.classList.remove(e)}e.add=function(t,e){return r=t.classList,o="html"==t.nodeName.toLowerCase()?n:i,void e.split(" ").forEach((function(t){!function(t,e){t[e]||(t[e]=0),t[e]+=1}(o,t),r.add(t)}));var r,o},e.remove=function(t,e){return r=t.classList,o="html"==t.nodeName.toLowerCase()?n:i,void e.split(" ").forEach((function(t){!function(t,e){t[e]&&(t[e]-=1)}(o,t),0===o[t]&&r.remove(t)}));var r,o}},8844:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resetState=function(){a=[]},e.log=function(){0},e.handleBlur=l,e.handleFocus=c,e.markForFocusLater=function(){a.push(document.activeElement)},e.returnFocus=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{return void(0!==a.length&&a.pop().focus({preventScroll:t}))}catch(e){}},e.popWithoutFocus=function(){a.length>0&&a.pop()},e.setupScopedFocus=function(t){s=t,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))},e.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))};var i,r=n(9750),o=(i=r)&&i.__esModule?i:{default:i};var a=[],s=null,u=!1;function l(){u=!0}function c(){if(u){if(u=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,o.default)(s)[0]||s).focus()}),0)}}},8484:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.log=function(){i.openInstances.forEach((function(t){}))},e.resetState=function(){i=new n};var n=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.register=function(t){-1===e.openInstances.indexOf(t)&&(e.openInstances.push(t),e.emit("register"))},this.deregister=function(t){var n=e.openInstances.indexOf(t);-1!==n&&(e.openInstances.splice(n,1),e.emit("deregister"))},this.subscribe=function(t){e.subscribers.push(t)},this.emit=function(t){e.subscribers.forEach((function(n){return n(t,e.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},i=new n;e.default=i},3663:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canUseDOM=e.SafeNodeList=e.SafeHTMLCollection=void 0;var i,r=n(2618);var o=((i=r)&&i.__esModule?i:{default:i}).default,a=o.canUseDOM?window.HTMLElement:{};e.SafeHTMLCollection=o.canUseDOM?window.HTMLCollection:{},e.SafeNodeList=o.canUseDOM?window.NodeList:{},e.canUseDOM=o.canUseDOM;e.default=a},870:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,o.default)(t);if(!n.length)return void e.preventDefault();var i=void 0,r=e.shiftKey,s=n[0],u=n[n.length-1],l=a();if(t===l){if(!r)return;i=u}u!==l||r||(i=s);s===l&&r&&(i=u);if(i)return e.preventDefault(),void i.focus();var c=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==c||"Chrome"==c[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var h=n.indexOf(l);h>-1&&(h+=r?-1:1);if("undefined"===typeof(i=n[h]))return e.preventDefault(),void(i=r?u:s).focus();e.preventDefault(),i.focus()};var i,r=n(9750),o=(i=r)&&i.__esModule?i:{default:i};function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return t.activeElement.shadowRoot?a(t.activeElement.shadowRoot):t.activeElement}t.exports=e.default},9750:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){var n=[].slice.call(e.querySelectorAll("*"),0).reduce((function(e,n){return e.concat(n.shadowRoot?t(n.shadowRoot):[n])}),[]);return n.filter(s)};var n="none",i="contents",r=/input|select|textarea|button|object|iframe/;function o(t){var e=t.offsetWidth<=0&&t.offsetHeight<=0;if(e&&!t.innerHTML)return!0;try{var r=window.getComputedStyle(t),o=r.getPropertyValue("display");return e?o!==i&&function(t,e){return"visible"!==e.getPropertyValue("overflow")||t.scrollWidth<=0&&t.scrollHeight<=0}(t,r):o===n}catch(a){return!1}}function a(t,e){var n=t.nodeName.toLowerCase();return(r.test(n)&&!t.disabled||"a"===n&&t.href||e)&&function(t){for(var e=t,n=t.getRootNode&&t.getRootNode();e&&e!==document.body;){if(n&&e===n&&(e=n.host.parentNode),o(e))return!1;e=e.parentNode}return!0}(t)}function s(t){var e=t.getAttribute("tabindex");null===e&&(e=void 0);var n=isNaN(e);return(n||e>=0)&&a(t,!n)}t.exports=e.default},7948:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(2240),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},2338:function(t,e,n){"use strict";n.d(e,{t7:function(){return b}});var i=n(7462),r=n(7326),o=n(4578),a=Number.isNaN||function(t){return"number"===typeof t&&t!==t};function s(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(i=t[n],r=e[n],!(i===r||a(i)&&a(r)))return!1;var i,r;return!0}var u=function(t,e){var n;void 0===e&&(e=s);var i,r=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&e(a,r)||(i=t.apply(this,a),o=!0,n=this,r=a),i}},l=n(2791),c="object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function h(t){cancelAnimationFrame(t.id)}function f(t,e){var n=c();var i={id:requestAnimationFrame((function r(){c()-n>=e?t.call(null):i.id=requestAnimationFrame(r)}))};return i}var d=-1;function v(t){if(void 0===t&&(t=!1),-1===d||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(e),d=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return d}var p=null;function y(t){if(void 0===t&&(t=!1),null===p||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var i=document.createElement("div"),r=i.style;return r.width="100px",r.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?p="positive-descending":(e.scrollLeft=1,p=0===e.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(e),p}return p}var m=function(t,e){return t};function g(t){var e,n=t.getItemOffset,a=t.getEstimatedTotalSize,s=t.getItemSize,c=t.getOffsetForIndexAndAlignment,d=t.getStartIndexForOffset,p=t.getStopIndexForStartIndex,g=t.initInstanceProps,b=t.shouldResetStyleCacheOnItemSizeChange,k=t.validateProps;return e=function(t){function e(e){var i;return(i=t.call(this,e)||this)._instanceProps=g(i.props,(0,r.Z)(i)),i._outerRef=void 0,i._resetIsScrollingTimeoutId=null,i.state={instance:(0,r.Z)(i),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof i.props.initialScrollOffset?i.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},i._callOnItemsRendered=void 0,i._callOnItemsRendered=u((function(t,e,n,r){return i.props.onItemsRendered({overscanStartIndex:t,overscanStopIndex:e,visibleStartIndex:n,visibleStopIndex:r})})),i._callOnScroll=void 0,i._callOnScroll=u((function(t,e,n){return i.props.onScroll({scrollDirection:t,scrollOffset:e,scrollUpdateWasRequested:n})})),i._getItemStyle=void 0,i._getItemStyle=function(t){var e,r=i.props,o=r.direction,a=r.itemSize,u=r.layout,l=i._getItemStyleCache(b&&a,b&&u,b&&o);if(l.hasOwnProperty(t))e=l[t];else{var c=n(i.props,t,i._instanceProps),h=s(i.props,t,i._instanceProps),f="horizontal"===o||"horizontal"===u,d="rtl"===o,v=f?c:0;l[t]=e={position:"absolute",left:d?void 0:v,right:d?v:void 0,top:f?0:c,height:f?"100%":h,width:f?h:"100%"}}return e},i._getItemStyleCache=void 0,i._getItemStyleCache=u((function(t,e,n){return{}})),i._onScrollHorizontal=function(t){var e=t.currentTarget,n=e.clientWidth,r=e.scrollLeft,o=e.scrollWidth;i.setState((function(t){if(t.scrollOffset===r)return null;var e=i.props.direction,a=r;if("rtl"===e)switch(y()){case"negative":a=-r;break;case"positive-descending":a=o-n-r}return a=Math.max(0,Math.min(a,o-n)),{isScrolling:!0,scrollDirection:t.scrollOffset<r?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}}),i._resetIsScrollingDebounced)},i._onScrollVertical=function(t){var e=t.currentTarget,n=e.clientHeight,r=e.scrollHeight,o=e.scrollTop;i.setState((function(t){if(t.scrollOffset===o)return null;var e=Math.max(0,Math.min(o,r-n));return{isScrolling:!0,scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!1}}),i._resetIsScrollingDebounced)},i._outerRefSetter=function(t){var e=i.props.outerRef;i._outerRef=t,"function"===typeof e?e(t):null!=e&&"object"===typeof e&&e.hasOwnProperty("current")&&(e.current=t)},i._resetIsScrollingDebounced=function(){null!==i._resetIsScrollingTimeoutId&&h(i._resetIsScrollingTimeoutId),i._resetIsScrollingTimeoutId=f(i._resetIsScrolling,150)},i._resetIsScrolling=function(){i._resetIsScrollingTimeoutId=null,i.setState({isScrolling:!1},(function(){i._getItemStyleCache(-1,null)}))},i}(0,o.Z)(e,t),e.getDerivedStateFromProps=function(t,e){return w(t,e),k(t),null};var _=e.prototype;return _.scrollTo=function(t){t=Math.max(0,t),this.setState((function(e){return e.scrollOffset===t?null:{scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},_.scrollToItem=function(t,e){void 0===e&&(e="auto");var n=this.props,i=n.itemCount,r=n.layout,o=this.state.scrollOffset;t=Math.max(0,Math.min(t,i-1));var a=0;if(this._outerRef){var s=this._outerRef;a="vertical"===r?s.scrollWidth>s.clientWidth?v():0:s.scrollHeight>s.clientHeight?v():0}this.scrollTo(c(this.props,t,e,o,this._instanceProps,a))},_.componentDidMount=function(){var t=this.props,e=t.direction,n=t.initialScrollOffset,i=t.layout;if("number"===typeof n&&null!=this._outerRef){var r=this._outerRef;"horizontal"===e||"horizontal"===i?r.scrollLeft=n:r.scrollTop=n}this._callPropsCallbacks()},_.componentDidUpdate=function(){var t=this.props,e=t.direction,n=t.layout,i=this.state,r=i.scrollOffset;if(i.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===e||"horizontal"===n)if("rtl"===e)switch(y()){case"negative":o.scrollLeft=-r;break;case"positive-ascending":o.scrollLeft=r;break;default:var a=o.clientWidth,s=o.scrollWidth;o.scrollLeft=s-a-r}else o.scrollLeft=r;else o.scrollTop=r}this._callPropsCallbacks()},_.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&h(this._resetIsScrollingTimeoutId)},_.render=function(){var t=this.props,e=t.children,n=t.className,r=t.direction,o=t.height,s=t.innerRef,u=t.innerElementType,c=t.innerTagName,h=t.itemCount,f=t.itemData,d=t.itemKey,v=void 0===d?m:d,p=t.layout,y=t.outerElementType,g=t.outerTagName,w=t.style,b=t.useIsScrolling,k=t.width,_=this.state.isScrolling,x="horizontal"===r||"horizontal"===p,S=x?this._onScrollHorizontal:this._onScrollVertical,E=this._getRangeToRender(),C=E[0],T=E[1],A=[];if(h>0)for(var O=C;O<=T;O++)A.push((0,l.createElement)(e,{data:f,key:v(O,f),index:O,isScrolling:b?_:void 0,style:this._getItemStyle(O)}));var Z=a(this.props,this._instanceProps);return(0,l.createElement)(y||g||"div",{className:n,onScroll:S,ref:this._outerRefSetter,style:(0,i.Z)({position:"relative",height:o,width:k,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:r},w)},(0,l.createElement)(u||c||"div",{children:A,ref:s,style:{height:x?"100%":Z,pointerEvents:_?"none":void 0,width:x?Z:"100%"}}))},_._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var t=this._getRangeToRender(),e=t[0],n=t[1],i=t[2],r=t[3];this._callOnItemsRendered(e,n,i,r)}if("function"===typeof this.props.onScroll){var o=this.state,a=o.scrollDirection,s=o.scrollOffset,u=o.scrollUpdateWasRequested;this._callOnScroll(a,s,u)}},_._getRangeToRender=function(){var t=this.props,e=t.itemCount,n=t.overscanCount,i=this.state,r=i.isScrolling,o=i.scrollDirection,a=i.scrollOffset;if(0===e)return[0,0,0,0];var s=d(this.props,a,this._instanceProps),u=p(this.props,s,a,this._instanceProps),l=r&&"backward"!==o?1:Math.max(1,n),c=r&&"forward"!==o?1:Math.max(1,n);return[Math.max(0,s-l),Math.max(0,Math.min(e-1,u+c)),s,u]},e}(l.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var w=function(t,e){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,e.instance},b=g({getItemOffset:function(t,e){return e*t.itemSize},getItemSize:function(t,e){return t.itemSize},getEstimatedTotalSize:function(t){var e=t.itemCount;return t.itemSize*e},getOffsetForIndexAndAlignment:function(t,e,n,i,r,o){var a=t.direction,s=t.height,u=t.itemCount,l=t.itemSize,c=t.layout,h=t.width,f="horizontal"===a||"horizontal"===c?h:s,d=Math.max(0,u*l-f),v=Math.min(d,e*l),p=Math.max(0,e*l-f+l+o);switch("smart"===n&&(n=i>=p-f&&i<=v+f?"auto":"center"),n){case"start":return v;case"end":return p;case"center":var y=Math.round(p+(v-p)/2);return y<Math.ceil(f/2)?0:y>d+Math.floor(f/2)?d:y;default:return i>=p&&i<=v?i:i<p?p:v}},getStartIndexForOffset:function(t,e){var n=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(e/i)))},getStopIndexForStartIndex:function(t,e,n){var i=t.direction,r=t.height,o=t.itemCount,a=t.itemSize,s=t.layout,u=t.width,l=e*a,c="horizontal"===i||"horizontal"===s?u:r,h=Math.ceil((c+n-l)/a);return Math.max(0,Math.min(o-1,e+h-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}})},6429:function(t,e,n){"use strict";t.exports=n(5274)},8857:function(t,e,n){"use strict";var i,r,o,a=n(5408),s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function u(){o=!1}function l(t){if(t){if(t!==i){if(t.length!==s.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. These characters were not unique: "+e.join(", "));i=t,u()}}else i!==s&&(i=s,u())}function c(){return o||(o=function(){i||l(s);for(var t,e=i.split(""),n=[],r=a.nextValue();e.length>0;)r=a.nextValue(),t=Math.floor(r*e.length),n.push(e.splice(t,1)[0]);return n.join("")}())}t.exports={get:function(){return i||s},characters:function(t){return l(t),i},seed:function(t){a.seed(t),r!==t&&(u(),r=t)},lookup:function(t){return c()[t]},shuffled:c}},7098:function(t,e,n){"use strict";var i,r,o=n(2226);n(8857);t.exports=function(t){var e="",n=Math.floor(.001*(Date.now()-1567752802062));return n===r?i++:(i=0,r=n),e+=o(7),e+=o(t),i>0&&(e+=o(i)),e+=o(n)}},2226:function(t,e,n){"use strict";var i=n(8857),r=n(9139),o=n(2483);t.exports=function(t){for(var e,n=0,a="";!e;)a+=o(r,i.get(),1),e=t<Math.pow(16,n+1),n++;return a}},5274:function(t,e,n){"use strict";var i=n(8857),r=n(7098),o=n(6046),a=n(5347)||0;function s(){return r(a)}t.exports=s,t.exports.generate=s,t.exports.seed=function(e){return i.seed(e),t.exports},t.exports.worker=function(e){return a=e,t.exports},t.exports.characters=function(t){return void 0!==t&&i.characters(t),i.shuffled()},t.exports.isValid=o},6046:function(t,e,n){"use strict";var i=n(8857);t.exports=function(t){return!(!t||"string"!==typeof t||t.length<6)&&!new RegExp("[^"+i.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(t)}},9139:function(t){"use strict";var e,n="object"===typeof window&&(window.crypto||window.msCrypto);e=n&&n.getRandomValues?function(t){return n.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},t.exports=e},5408:function(t){"use strict";var e=1;t.exports={nextValue:function(){return(e=(9301*e+49297)%233280)/233280},seed:function(t){e=t}}},5347:function(t){"use strict";t.exports=0},2483:function(t){t.exports=function(t,e,n){for(var i=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*i*n/e.length),o="";;)for(var a=t(r),s=r;s--;)if((o+=e[a[s]&i]||"").length===+n)return o}},1830:function(t,e,n){var i=n(6690).default,r=n(9728).default,o=n(1588).default,a=n(3808).default,s=n(1655).default,u=n(6389).default,l=n(3515).default,c=n(7424).default,h=n(861).default;t.exports=function(){"use strict";function t(t,e){return f(t,n(t,e,"get"))}function e(t,e,i){return d(t,n(t,e,"set"),i),i}function n(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function f(t,e){return e.get?e.get.call(t):e.value}function d(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function v(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function p(t,e,n){v(t,e),e.set(t,n)}var y=100,m={},g=function(){m.previousActiveElement instanceof HTMLElement?(m.previousActiveElement.focus(),m.previousActiveElement=null):document.body&&document.body.focus()},w=function(t){return new Promise((function(e){if(!t)return e();var n=window.scrollX,i=window.scrollY;m.restoreFocusTimeout=setTimeout((function(){g(),e()}),y),window.scrollTo(n,i)}))},b="swal2-",k=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((function(t,e){return t[e]=b+e,t}),{}),_=["success","warning","info","question","error"].reduce((function(t,e){return t[e]=b+e,t}),{}),x=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},S=function(t){},E=function(t){},C=[],T=function(t){C.includes(t)||(C.push(t),S(t))},A=function(t,e){T('"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(e,'" instead.'))},O=function(t){return"function"===typeof t?t():t},Z=function(t){return t&&"function"===typeof t.toPromise},M=function(t){return Z(t)?t.toPromise():Promise.resolve(t)},I=function(t){return t&&Promise.resolve(t)===t},L=function(){return document.body.querySelector(".".concat(k.container))},R=function(t){var e=L();return e?e.querySelector(t):null},N=function(t){return R(".".concat(t))},D=function(){return N(k.popup)},P=function(){return N(k.icon)},F=function(){return N(k["icon-content"])},B=function(){return N(k.title)},V=function(){return N(k["html-container"])},U=function(){return N(k.image)},z=function(){return N(k["progress-steps"])},j=function(){return N(k["validation-message"])},q=function(){return R(".".concat(k.actions," .").concat(k.confirm))},W=function(){return R(".".concat(k.actions," .").concat(k.cancel))},H=function(){return R(".".concat(k.actions," .").concat(k.deny))},K=function(){return N(k["input-label"])},G=function(){return R(".".concat(k.loader))},Q=function(){return N(k.actions)},$=function(){return N(k.footer)},J=function(){return N(k["timer-progress-bar"])},X=function(){return N(k.close)},Y='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',tt=function(){var t=D();if(!t)return[];var e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((function(t,e){var n=parseInt(t.getAttribute("tabindex")||"0"),i=parseInt(e.getAttribute("tabindex")||"0");return n>i?1:n<i?-1:0})),i=t.querySelectorAll(Y),r=Array.from(i).filter((function(t){return"-1"!==t.getAttribute("tabindex")}));return h(new Set(n.concat(r))).filter((function(t){return bt(t)}))},et=function(){return ot(document.body,k.shown)&&!ot(document.body,k["toast-shown"])&&!ot(document.body,k["no-backdrop"])},nt=function(){var t=D();return!!t&&ot(t,k.toast)},it=function(){var t=D();return!!t&&t.hasAttribute("data-loading")},rt=function(t,e){if(t.textContent="",e){var n=(new DOMParser).parseFromString(e,"text/html"),i=n.querySelector("head");i&&Array.from(i.childNodes).forEach((function(e){t.appendChild(e)}));var r=n.querySelector("body");r&&Array.from(r.childNodes).forEach((function(e){e instanceof HTMLVideoElement||e instanceof HTMLAudioElement?t.appendChild(e.cloneNode(!0)):t.appendChild(e)}))}},ot=function(t,e){if(!e)return!1;for(var n=e.split(/\s+/),i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},at=function(t,e){Array.from(t.classList).forEach((function(n){Object.values(k).includes(n)||Object.values(_).includes(n)||Object.values(e.showClass||{}).includes(n)||t.classList.remove(n)}))},st=function(t,e,n){if(at(t,e),e.customClass&&e.customClass[n]){if("string"!==typeof e.customClass[n]&&!e.customClass[n].forEach)return void S("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof e.customClass[n],'"'));ht(t,e.customClass[n])}},ut=function(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(".".concat(k.popup," > .").concat(k[e]));case"checkbox":return t.querySelector(".".concat(k.popup," > .").concat(k.checkbox," input"));case"radio":return t.querySelector(".".concat(k.popup," > .").concat(k.radio," input:checked"))||t.querySelector(".".concat(k.popup," > .").concat(k.radio," input:first-child"));case"range":return t.querySelector(".".concat(k.popup," > .").concat(k.range," input"));default:return t.querySelector(".".concat(k.popup," > .").concat(k.input))}},lt=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},ct=function(t,e,n){t&&e&&("string"===typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((function(e){Array.isArray(t)?t.forEach((function(t){n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},ht=function(t,e){ct(t,e,!0)},ft=function(t,e){ct(t,e,!1)},dt=function(t,e){for(var n=Array.from(t.children),i=0;i<n.length;i++){var r=n[i];if(r instanceof HTMLElement&&ot(r,e))return r}},vt=function(t,e,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?t.style[e]="number"===typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t&&(t.style.display=e)},yt=function(t){t&&(t.style.display="none")},mt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";t&&new MutationObserver((function(){wt(t,t.innerHTML,e)})).observe(t,{childList:!0,subtree:!0})},gt=function(t,e,n,i){var r=t.querySelector(e);r&&(r.style[n]=i)},wt=function(t,e){e?pt(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):yt(t)},bt=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},kt=function(){return!bt(q())&&!bt(H())&&!bt(W())},_t=function(t){return!!(t.scrollHeight>t.clientHeight)},xt=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},St=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=J();n&&bt(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"}),10))},Et=function(){var t=J();if(t){var e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=e/parseInt(window.getComputedStyle(t).width)*100;t.style.width="".concat(n,"%")}},Ct=function(){return"undefined"===typeof window||"undefined"===typeof document},Tt='\n <div aria-labelledby="'.concat(k.title,'" aria-describedby="').concat(k["html-container"],'" class="').concat(k.popup,'" tabindex="-1">\n   <button type="button" class="').concat(k.close,'"></button>\n   <ul class="').concat(k["progress-steps"],'"></ul>\n   <div class="').concat(k.icon,'"></div>\n   <img class="').concat(k.image,'" />\n   <h2 class="').concat(k.title,'" id="').concat(k.title,'"></h2>\n   <div class="').concat(k["html-container"],'" id="').concat(k["html-container"],'"></div>\n   <input class="').concat(k.input,'" id="').concat(k.input,'" />\n   <input type="file" class="').concat(k.file,'" />\n   <div class="').concat(k.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(k.select,'" id="').concat(k.select,'"></select>\n   <div class="').concat(k.radio,'"></div>\n   <label class="').concat(k.checkbox,'">\n     <input type="checkbox" id="').concat(k.checkbox,'" />\n     <span class="').concat(k.label,'"></span>\n   </label>\n   <textarea class="').concat(k.textarea,'" id="').concat(k.textarea,'"></textarea>\n   <div class="').concat(k["validation-message"],'" id="').concat(k["validation-message"],'"></div>\n   <div class="').concat(k.actions,'">\n     <div class="').concat(k.loader,'"></div>\n     <button type="button" class="').concat(k.confirm,'"></button>\n     <button type="button" class="').concat(k.deny,'"></button>\n     <button type="button" class="').concat(k.cancel,'"></button>\n   </div>\n   <div class="').concat(k.footer,'"></div>\n   <div class="').concat(k["timer-progress-bar-container"],'">\n     <div class="').concat(k["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),At=function(){var t=L();return!!t&&(t.remove(),ft([document.documentElement,document.body],[k["no-backdrop"],k["toast-shown"],k["has-column"]]),!0)},Ot=function(){m.currentInstance.resetValidationMessage()},Zt=function(){var t=D(),e=dt(t,k.input),n=dt(t,k.file),i=t.querySelector(".".concat(k.range," input")),r=t.querySelector(".".concat(k.range," output")),o=dt(t,k.select),a=t.querySelector(".".concat(k.checkbox," input")),s=dt(t,k.textarea);e.oninput=Ot,n.onchange=Ot,o.onchange=Ot,a.onchange=Ot,s.oninput=Ot,i.oninput=function(){Ot(),r.value=i.value},i.onchange=function(){Ot(),r.value=i.value}},Mt=function(t){return"string"===typeof t?document.querySelector(t):t},It=function(t){var e=D();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},Lt=function(t){"rtl"===window.getComputedStyle(t).direction&&ht(L(),k.rtl)},Rt=function(t){var e=At();if(Ct())E("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=k.container,e&&ht(n,k["no-transition"]),rt(n,Tt);var i=Mt(t.target);i.appendChild(n),It(t),Lt(i),Zt()}},Nt=function(t,e){t instanceof HTMLElement?e.appendChild(t):"object"===typeof t?Dt(t,e):t&&rt(e,t)},Dt=function(t,e){t.jquery?Pt(e,t):rt(e,t.toString())},Pt=function(t,e){if(t.textContent="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},Ft=function(){if(Ct())return!1;var t=document.createElement("div");return"undefined"!==typeof t.style.webkitAnimation?"webkitAnimationEnd":"undefined"!==typeof t.style.animation&&"animationend"}(),Bt=function(t,e){var n=Q(),i=G();n&&i&&(e.showConfirmButton||e.showDenyButton||e.showCancelButton?pt(n):yt(n),st(n,e,"actions"),Vt(n,i,e),rt(i,e.loaderHtml||""),st(i,e,"loader"))};function Vt(t,e,n){var i=q(),r=H(),o=W();i&&r&&o&&(zt(i,"confirm",n),zt(r,"deny",n),zt(o,"cancel",n),Ut(i,r,o,n),n.reverseButtons&&(n.toast?(t.insertBefore(o,i),t.insertBefore(r,i)):(t.insertBefore(o,e),t.insertBefore(r,e),t.insertBefore(i,e))))}function Ut(t,e,n,i){i.buttonsStyling?(ht([t,e,n],k.styled),i.confirmButtonColor&&(t.style.backgroundColor=i.confirmButtonColor,ht(t,k["default-outline"])),i.denyButtonColor&&(e.style.backgroundColor=i.denyButtonColor,ht(e,k["default-outline"])),i.cancelButtonColor&&(n.style.backgroundColor=i.cancelButtonColor,ht(n,k["default-outline"]))):ft([t,e,n],k.styled)}function zt(t,e,n){var i=x(e);wt(t,n["show".concat(i,"Button")],"inline-block"),rt(t,n["".concat(e,"ButtonText")]||""),t.setAttribute("aria-label",n["".concat(e,"ButtonAriaLabel")]||""),t.className=k[e],st(t,n,"".concat(e,"Button"))}var jt=function(t,e){var n=X();n&&(rt(n,e.closeButtonHtml||""),st(n,e,"closeButton"),wt(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},qt=function(t,e){var n=L();n&&(Wt(n,e.backdrop),Ht(n,e.position),Kt(n,e.grow),st(n,e,"container"))};function Wt(t,e){"string"===typeof e?t.style.background=e:e||ht([document.documentElement,document.body],k["no-backdrop"])}function Ht(t,e){e&&(e in k?ht(t,k[e]):(S('The "position" parameter is not valid, defaulting to "center"'),ht(t,k.center)))}function Kt(t,e){e&&ht(t,k["grow-".concat(e)])}var Gt={innerParams:new WeakMap,domCache:new WeakMap},Qt=["input","file","range","select","radio","checkbox","textarea"],$t=function(t,e){var n=D();if(n){var i=Gt.innerParams.get(t),r=!i||e.input!==i.input;Qt.forEach((function(t){var i=dt(n,k[t]);i&&(Yt(t,e.inputAttributes),i.className=k[t],r&&yt(i))})),e.input&&(r&&Jt(e),te(e))}},Jt=function(t){if(t.input)if(oe[t.input]){var e=ie(t.input),n=oe[t.input](e,t);pt(e),t.inputAutoFocus&&setTimeout((function(){lt(n)}))}else E("Unexpected type of input! Expected ".concat(Object.keys(oe).join(" | "),', got "').concat(t.input,'"'))},Xt=function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},Yt=function(t,e){var n=ut(D(),t);if(n)for(var i in Xt(n),e)n.setAttribute(i,e[i])},te=function(t){var e=ie(t.input);"object"===typeof t.customClass&&ht(e,t.customClass.input)},ee=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},ne=function(t,e,n){if(n.inputLabel){var i=document.createElement("label"),r=k["input-label"];i.setAttribute("for",t.id),i.className=r,"object"===typeof n.customClass&&ht(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},ie=function(t){return dt(D(),k[t]||k.input)},re=function(t,e){["string","number"].includes(typeof e)?t.value="".concat(e):I(e)||S('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof e,'"'))},oe={};oe.text=oe.email=oe.password=oe.number=oe.tel=oe.url=oe.search=oe.date=oe["datetime-local"]=oe.time=oe.week=oe.month=function(t,e){return re(t,e.inputValue),ne(t,t,e),ee(t,e),t.type=e.input,t},oe.file=function(t,e){return ne(t,t,e),ee(t,e),t},oe.range=function(t,e){var n=t.querySelector("input"),i=t.querySelector("output");return re(n,e.inputValue),n.type=e.input,re(i,e.inputValue),ne(n,t,e),t},oe.select=function(t,e){if(t.textContent="",e.inputPlaceholder){var n=document.createElement("option");rt(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return ne(t,t,e),t},oe.radio=function(t){return t.textContent="",t},oe.checkbox=function(t,e){var n=ut(D(),"checkbox");n.value="1",n.checked=Boolean(e.inputValue);var i=t.querySelector("span");return rt(i,e.inputPlaceholder),n},oe.textarea=function(t,e){re(t,e.inputValue),ee(t,e),ne(t,t,e);var n=function(t){return parseInt(window.getComputedStyle(t).marginLeft)+parseInt(window.getComputedStyle(t).marginRight)};return setTimeout((function(){if("MutationObserver"in window){var i=parseInt(window.getComputedStyle(D()).width);new MutationObserver((function(){if(document.body.contains(t)){var r=t.offsetWidth+n(t);r>i?D().style.width="".concat(r,"px"):vt(D(),"width",e.width)}})).observe(t,{attributes:!0,attributeFilter:["style"]})}})),t};var ae=function(t,e){var n=V();n&&(mt(n),st(n,e,"htmlContainer"),e.html?(Nt(e.html,n),pt(n,"block")):e.text?(n.textContent=e.text,pt(n,"block")):yt(n),$t(t,e))},se=function(t,e){var n=$();n&&(mt(n),wt(n,e.footer,"block"),e.footer&&Nt(e.footer,n),st(n,e,"footer"))},ue=function(t,e){var n=Gt.innerParams.get(t),i=P();if(i){if(n&&e.icon===n.icon)return de(i,e),void le(i,e);if(e.icon||e.iconHtml){if(e.icon&&-1===Object.keys(_).indexOf(e.icon))return E('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"')),void yt(i);pt(i),de(i,e),le(i,e),ht(i,e.showClass&&e.showClass.icon)}else yt(i)}},le=function(t,e){for(var n=0,i=Object.entries(_);n<i.length;n++){var r=c(i[n],2),o=r[0],a=r[1];e.icon!==o&&ft(t,a)}ht(t,e.icon&&_[e.icon]),ve(t,e),ce(),st(t,e,"icon")},ce=function(){var t=D();if(t)for(var e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),i=0;i<n.length;i++)n[i].style.backgroundColor=e},he='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',fe='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',de=function(t,e){if(e.icon||e.iconHtml){var n=t.innerHTML,i="";e.iconHtml?i=pe(e.iconHtml):"success"===e.icon?(i=he,n=n.replace(/ style=".*?"/g,"")):"error"===e.icon?i=fe:e.icon&&(i=pe({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==i.trim()&&rt(t,i)}},ve=function(t,e){if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(var n=0,i=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<i.length;n++){var r=i[n];gt(t,r,"backgroundColor",e.iconColor)}gt(t,".swal2-success-ring","borderColor",e.iconColor)}},pe=function(t){return'<div class="'.concat(k["icon-content"],'">').concat(t,"</div>")},ye=function(t,e){var n=U();n&&(e.imageUrl?(pt(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),vt(n,"width",e.imageWidth),vt(n,"height",e.imageHeight),n.className=k.image,st(n,e,"image")):yt(n))},me=function(t,e){var n=L(),i=D();if(n&&i){if(e.toast){vt(n,"width",e.width),i.style.width="100%";var r=G();r&&i.insertBefore(r,P())}else vt(i,"width",e.width);vt(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),yt(j()),ge(i,e)}},ge=function(t,e){var n=e.showClass||{};t.className="".concat(k.popup," ").concat(bt(t)?n.popup:""),e.toast?(ht([document.documentElement,document.body],k["toast-shown"]),ht(t,k.toast)):ht(t,k.modal),st(t,e,"popup"),"string"===typeof e.customClass&&ht(t,e.customClass),e.icon&&ht(t,k["icon-".concat(e.icon)])},we=function(t,e){var n=z();if(n){var i=e.progressSteps,r=e.currentProgressStep;i&&0!==i.length&&void 0!==r?(pt(n),n.textContent="",r>=i.length&&S("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((function(t,o){var a=be(t);if(n.appendChild(a),o===r&&ht(a,k["active-progress-step"]),o!==i.length-1){var s=ke(e);n.appendChild(s)}}))):yt(n)}},be=function(t){var e=document.createElement("li");return ht(e,k["progress-step"]),rt(e,t),e},ke=function(t){var e=document.createElement("li");return ht(e,k["progress-step-line"]),t.progressStepsDistance&&vt(e,"width",t.progressStepsDistance),e},_e=function(t,e){var n=B();n&&(mt(n),wt(n,e.title||e.titleText,"block"),e.title&&Nt(e.title,n),e.titleText&&(n.innerText=e.titleText),st(n,e,"title"))},xe=function(t,e){me(t,e),qt(t,e),we(t,e),ue(t,e),ye(t,e),_e(t,e),jt(t,e),ae(t,e),Bt(t,e),se(t,e);var n=D();"function"===typeof e.didRender&&n&&e.didRender(n)},Se=function(){return bt(D())},Ee=function(){var t;return null===(t=q())||void 0===t?void 0:t.click()},Ce=function(){var t;return null===(t=H())||void 0===t?void 0:t.click()},Te=function(){var t;return null===(t=W())||void 0===t?void 0:t.click()},Ae=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Oe=function(t){t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Ze=function(t,e,n){Oe(t),e.toast||(t.keydownHandler=function(t){return Re(e,t,n)},t.keydownTarget=e.keydownListenerCapture?window:D(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Me=function(t,e){var n,i=tt();if(i.length)return(t+=e)===i.length?t=0:-1===t&&(t=i.length-1),void i[t].focus();null===(n=D())||void 0===n||n.focus()},Ie=["ArrowRight","ArrowDown"],Le=["ArrowLeft","ArrowUp"],Re=function(t,e,n){t&&(e.isComposing||229===e.keyCode||(t.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?Ne(e,t):"Tab"===e.key?De(e):[].concat(Ie,Le).includes(e.key)?Pe(e.key):"Escape"===e.key&&Fe(e,t,n)))},Ne=function(t,e){if(O(e.allowEnterKey)){var n=ut(D(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;Ee(),t.preventDefault()}}},De=function(t){for(var e=t.target,n=tt(),i=-1,r=0;r<n.length;r++)if(e===n[r]){i=r;break}t.shiftKey?Me(i,-1):Me(i,1),t.stopPropagation(),t.preventDefault()},Pe=function(t){var e=Q(),n=q(),i=H(),r=W();if(e&&n&&i&&r){var o=[n,i,r];if(!(document.activeElement instanceof HTMLElement)||o.includes(document.activeElement)){var a=Ie.includes(t)?"nextElementSibling":"previousElementSibling",s=document.activeElement;if(s){for(var u=0;u<e.children.length;u++){if(!(s=s[a]))return;if(s instanceof HTMLButtonElement&&bt(s))break}s instanceof HTMLButtonElement&&s.focus()}}}},Fe=function(t,e,n){O(e.allowEscapeKey)&&(t.preventDefault(),n(Ae.esc))},Be={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Ve=function(){Array.from(document.body.children).forEach((function(t){t===L()||t.contains(L())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))}))},Ue=function(){Array.from(document.body.children).forEach((function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))},ze="undefined"!==typeof window&&!!window.GestureEvent,je=function(){if(ze&&!ot(document.body,k.iosfix)){var t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),ht(document.body,k.iosfix),qe()}},qe=function(){var t,e=L();e&&(e.ontouchstart=function(e){t=We(e)},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())})},We=function(t){var e=t.target,n=L(),i=V();return!(!n||!i)&&!He(t)&&!Ke(t)&&(e===n||!_t(n)&&e instanceof HTMLElement&&"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&(!_t(i)||!i.contains(e)))},He=function(t){return t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType},Ke=function(t){return t.touches&&t.touches.length>1},Ge=function(){if(ot(document.body,k.iosfix)){var t=parseInt(document.body.style.top,10);ft(document.body,k.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}},Qe=function(){var t=document.createElement("div");t.className=k["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},$e=null,Je=function(t){null===$e&&(document.body.scrollHeight>window.innerHeight||"scroll"===t)&&($e=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat($e+Qe(),"px"))},Xe=function(){null!==$e&&(document.body.style.paddingRight="".concat($e,"px"),$e=null)};function Ye(t,e,n,i){nt()?ln(t,i):(w(n).then((function(){return ln(t,i)})),Oe(m)),ze?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),et()&&(Xe(),Ge(),Ue()),tn()}function tn(){ft([document.documentElement,document.body],[k.shown,k["height-auto"],k["no-backdrop"],k["toast-shown"]])}function en(t){t=an(t);var e=Be.swalPromiseResolve.get(this),n=nn(this);this.isAwaitingPromise?t.isDismissed||(on(this),e(t)):n&&e(t)}var nn=function(t){var e=D();if(!e)return!1;var n=Gt.innerParams.get(t);if(!n||ot(e,n.hideClass.popup))return!1;ft(e,n.showClass.popup),ht(e,n.hideClass.popup);var i=L();return ft(i,n.showClass.backdrop),ht(i,n.hideClass.backdrop),sn(t,e,n),!0};function rn(t){var e=Be.swalPromiseReject.get(this);on(this),e&&e(t)}var on=function(t){t.isAwaitingPromise&&(delete t.isAwaitingPromise,Gt.innerParams.get(t)||t._destroy())},an=function(t){return"undefined"===typeof t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t)},sn=function(t,e,n){var i=L(),r=Ft&&xt(e);"function"===typeof n.willClose&&n.willClose(e),r?un(t,e,i,n.returnFocus,n.didClose):Ye(t,i,n.returnFocus,n.didClose)},un=function(t,e,n,i,r){Ft&&(m.swalCloseEventFinishedCallback=Ye.bind(null,t,n,i,r),e.addEventListener(Ft,(function(t){t.target===e&&(m.swalCloseEventFinishedCallback(),delete m.swalCloseEventFinishedCallback)})))},ln=function(t,e){setTimeout((function(){"function"===typeof e&&e.bind(t.params)(),t._destroy&&t._destroy()}))},cn=function(t){var e=D();if(e||new cr,e=D()){var n=G();nt()?yt(P()):hn(e,t),pt(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()}},hn=function(t,e){var n=Q(),i=G();n&&i&&(!e&&bt(q())&&(e=q()),pt(n),e&&(yt(e),i.setAttribute("data-button-to-replace",e.className),n.insertBefore(i,e)),ht([t,n],k.loading))},fn=function(t,e){"select"===e.input||"radio"===e.input?mn(t,e):["text","email","number","tel","textarea"].some((function(t){return t===e.input}))&&(Z(e.inputValue)||I(e.inputValue))&&(cn(q()),gn(t,e))},dn=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return vn(n);case"radio":return pn(n);case"file":return yn(n);default:return e.inputAutoTrim?n.value.trim():n.value}},vn=function(t){return t.checked?1:0},pn=function(t){return t.checked?t.value:null},yn=function(t){return t.files&&t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null},mn=function(t,e){var n=D();if(n){var i=function(t){"select"===e.input?wn(n,kn(t),e):"radio"===e.input&&bn(n,kn(t),e)};Z(e.inputOptions)||I(e.inputOptions)?(cn(q()),M(e.inputOptions).then((function(e){t.hideLoading(),i(e)}))):"object"===typeof e.inputOptions?i(e.inputOptions):E("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof e.inputOptions))}},gn=function(t,e){var n=t.getInput();n&&(yt(n),M(e.inputValue).then((function(i){n.value="number"===e.input?"".concat(parseFloat(i)||0):"".concat(i),pt(n),n.focus(),t.hideLoading()})).catch((function(e){E("Error in inputValue promise: ".concat(e)),n.value="",pt(n),n.focus(),t.hideLoading()})))};function wn(t,e,n){var i=dt(t,k.select);if(i){var r=function(t,e,i){var r=document.createElement("option");r.value=i,rt(r,e),r.selected=_n(i,n.inputValue),t.appendChild(r)};e.forEach((function(t){var e=t[0],n=t[1];if(Array.isArray(n)){var o=document.createElement("optgroup");o.label=e,o.disabled=!1,i.appendChild(o),n.forEach((function(t){return r(o,t[1],t[0])}))}else r(i,n,e)})),i.focus()}}function bn(t,e,n){var i=dt(t,k.radio);if(i){e.forEach((function(t){var e=t[0],r=t[1],o=document.createElement("input"),a=document.createElement("label");o.type="radio",o.name=k.radio,o.value=e,_n(e,n.inputValue)&&(o.checked=!0);var s=document.createElement("span");rt(s,r),s.className=k.label,a.appendChild(o),a.appendChild(s),i.appendChild(a)}));var r=i.querySelectorAll("input");r.length&&r[0].focus()}}var kn=function t(e){var n=[];return e instanceof Map?e.forEach((function(e,i){var r=e;"object"===typeof r&&(r=t(r)),n.push([i,r])})):Object.keys(e).forEach((function(i){var r=e[i];"object"===typeof r&&(r=t(r)),n.push([i,r])})),n},_n=function(t,e){return!!e&&e.toString()===t.toString()},xn=function(t){var e=Gt.innerParams.get(t);t.disableButtons(),e.input?Cn(t,"confirm"):Mn(t,!0)},Sn=function(t){var e=Gt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?Cn(t,"deny"):An(t,!1)},En=function(t,e){t.disableButtons(),e(Ae.cancel)},Cn=function(t,e){var n=Gt.innerParams.get(t);if(n.input){var i=t.getInput(),r=dn(t,n);n.inputValidator?Tn(t,r,e):i&&!i.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage)):"deny"===e?An(t,r):Mn(t,r)}else E('The "input" parameter is needed to be set when using returnInputValueOn'.concat(x(e)))},Tn=function(t,e,n){var i=Gt.innerParams.get(t);t.disableInput(),Promise.resolve().then((function(){return M(i.inputValidator(e,i.validationMessage))})).then((function(i){t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):"deny"===n?An(t,e):Mn(t,e)}))},An=function(t,e){var n=Gt.innerParams.get(t||void 0);n.showLoaderOnDeny&&cn(H()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then((function(){return M(n.preDeny(e,n.validationMessage))})).then((function(n){!1===n?(t.hideLoading(),on(t)):t.close({isDenied:!0,value:"undefined"===typeof n?e:n})})).catch((function(e){return Zn(t||void 0,e)}))):t.close({isDenied:!0,value:e})},On=function(t,e){t.close({isConfirmed:!0,value:e})},Zn=function(t,e){t.rejectPromise(e)},Mn=function(t,e){var n=Gt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&cn(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then((function(){return M(n.preConfirm(e,n.validationMessage))})).then((function(n){bt(j())||!1===n?(t.hideLoading(),on(t)):On(t,"undefined"===typeof n?e:n)})).catch((function(e){return Zn(t||void 0,e)}))):On(t,e)};function In(){var t=Gt.innerParams.get(this);if(t){var e=Gt.domCache.get(this);yt(e.loader),nt()?t.icon&&pt(P()):Ln(e),ft([e.popup,e.actions],k.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}}var Ln=function(t){var e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?pt(e[0],"inline-block"):kt()&&yt(t.actions)};function Rn(){var t=Gt.innerParams.get(this),e=Gt.domCache.get(this);return e?ut(e.popup,t.input):null}function Nn(t,e,n){var i=Gt.domCache.get(t);e.forEach((function(t){i[t].disabled=n}))}function Dn(t,e){var n=D();if(n&&t)if("radio"===t.type)for(var i=n.querySelectorAll('[name="'.concat(k.radio,'"]')),r=0;r<i.length;r++)i[r].disabled=e;else t.disabled=e}function Pn(){Nn(this,["confirmButton","denyButton","cancelButton"],!1)}function Fn(){Nn(this,["confirmButton","denyButton","cancelButton"],!0)}function Bn(){Dn(this.getInput(),!1)}function Vn(){Dn(this.getInput(),!0)}function Un(t){var e=Gt.domCache.get(this),n=Gt.innerParams.get(this);rt(e.validationMessage,t),e.validationMessage.className=k["validation-message"],n.customClass&&n.customClass.validationMessage&&ht(e.validationMessage,n.customClass.validationMessage),pt(e.validationMessage);var i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",k["validation-message"]),lt(i),ht(i,k.inputerror))}function zn(){var t=Gt.domCache.get(this);t.validationMessage&&yt(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),ft(e,k.inputerror))}var jn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},qn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Wn={},Hn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Kn=function(t){return Object.prototype.hasOwnProperty.call(jn,t)},Gn=function(t){return-1!==qn.indexOf(t)},Qn=function(t){return Wn[t]},$n=function(t){Kn(t)||S('Unknown parameter "'.concat(t,'"'))},Jn=function(t){Hn.includes(t)&&S('The parameter "'.concat(t,'" is incompatible with toasts'))},Xn=function(t){var e=Qn(t);e&&A(t,e)},Yn=function(t){for(var e in!1===t.backdrop&&t.allowOutsideClick&&S('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t)$n(e),t.toast&&Jn(e),Xn(e)};function ti(t){var e=D(),n=Gt.innerParams.get(this);if(e&&!ot(e,n.hideClass.popup)){var i=ei(t),r=Object.assign({},n,i);xe(this,r),Gt.innerParams.set(this,r),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}else S("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var ei=function(t){var e={};return Object.keys(t).forEach((function(n){Gn(n)?e[n]=t[n]:S("Invalid parameter to update: ".concat(n))})),e};function ni(){var t=Gt.domCache.get(this),e=Gt.innerParams.get(this);e?(t.popup&&m.swalCloseEventFinishedCallback&&(m.swalCloseEventFinishedCallback(),delete m.swalCloseEventFinishedCallback),"function"===typeof e.didDestroy&&e.didDestroy(),ii(this)):ri(this)}var ii=function(t){ri(t),delete t.params,delete m.keydownHandler,delete m.keydownTarget,delete m.currentInstance},ri=function(t){t.isAwaitingPromise?(oi(Gt,t),t.isAwaitingPromise=!0):(oi(Be,t),oi(Gt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},oi=function(t,e){for(var n in t)t[n].delete(e)},ai=Object.freeze({__proto__:null,_destroy:ni,close:en,closeModal:en,closePopup:en,closeToast:en,disableButtons:Fn,disableInput:Vn,disableLoading:In,enableButtons:Pn,enableInput:Bn,getInput:Rn,handleAwaitingPromise:on,hideLoading:In,rejectPromise:rn,resetValidationMessage:zn,showValidationMessage:Un,update:ti}),si=function(t,e,n){t.toast?ui(t,e,n):(hi(e),fi(e),di(t,e,n))},ui=function(t,e,n){e.popup.onclick=function(){t&&(li(t)||t.timer||t.input)||n(Ae.close)}},li=function(t){return!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton)},ci=!1,hi=function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=function(){},e.target===t.container&&(ci=!0)}}},fi=function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=function(){},(e.target===t.popup||e.target instanceof HTMLElement&&t.popup.contains(e.target))&&(ci=!0)}}},di=function(t,e,n){e.container.onclick=function(i){ci?ci=!1:i.target===e.container&&O(t.allowOutsideClick)&&n(Ae.backdrop)}},vi=function(t){return"object"===typeof t&&t.jquery},pi=function(t){return t instanceof Element||vi(t)},yi=function(t){var e={};return"object"!==typeof t[0]||pi(t[0])?["title","html","icon"].forEach((function(n,i){var r=t[i];"string"===typeof r||pi(r)?e[n]=r:void 0!==r&&E("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof r))})):Object.assign(e,t[0]),e};function mi(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return l(t,n)}function gi(t){var e=function(e){s(l,e);var n=u(l);function l(){return i(this,l),n.apply(this,arguments)}return r(l,[{key:"_main",value:function(e,n){return o(a(l.prototype),"_main",this).call(this,e,Object.assign({},t,n))}}]),l}(this);return e}var wi=function(){return m.timeout&&m.timeout.getTimerLeft()},bi=function(){if(m.timeout)return Et(),m.timeout.stop()},ki=function(){if(m.timeout){var t=m.timeout.start();return St(t),t}},_i=function(){var t=m.timeout;return t&&(t.running?bi():ki())},xi=function(t){if(m.timeout){var e=m.timeout.increase(t);return St(e,!0),e}},Si=function(){return!(!m.timeout||!m.timeout.isRunning())},Ei=!1,Ci={};function Ti(){Ci[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ei||(document.body.addEventListener("click",Oi),Ei=!0)}var Ai,Oi=function(t){for(var e=t.target;e&&e!==document;e=e.parentNode)for(var n in Ci){var i=e.getAttribute(n);if(i)return void Ci[n].fire({template:i})}},Zi=Object.freeze({__proto__:null,argsToParams:yi,bindClickHandler:Ti,clickCancel:Te,clickConfirm:Ee,clickDeny:Ce,enableLoading:cn,fire:mi,getActions:Q,getCancelButton:W,getCloseButton:X,getConfirmButton:q,getContainer:L,getDenyButton:H,getFocusableElements:tt,getFooter:$,getHtmlContainer:V,getIcon:P,getIconContent:F,getImage:U,getInputLabel:K,getLoader:G,getPopup:D,getProgressSteps:z,getTimerLeft:wi,getTimerProgressBar:J,getTitle:B,getValidationMessage:j,increaseTimer:xi,isDeprecatedParameter:Qn,isLoading:it,isTimerRunning:Si,isUpdatableParameter:Gn,isValidParameter:Kn,isVisible:Se,mixin:gi,resumeTimer:ki,showLoading:cn,stopTimer:bi,toggleTimer:_i}),Mi=function(){function t(e,n){i(this,t),this.callback=e,this.remaining=n,this.running=!1,this.start()}return r(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),Ii=["swal-title","swal-html","swal-footer"],Li=function(t){var e="string"===typeof t.template?document.querySelector(t.template):t.template;if(!e)return{};var n=e.content;return Ui(n),Object.assign(Ri(n),Ni(n),Di(n),Pi(n),Fi(n),Bi(n),Vi(n,Ii))},Ri=function(t){var e={};return Array.from(t.querySelectorAll("swal-param")).forEach((function(t){zi(t,["name","value"]);var n=t.getAttribute("name"),i=t.getAttribute("value");"boolean"===typeof jn[n]?e[n]="false"!==i:"object"===typeof jn[n]?e[n]=JSON.parse(i):e[n]=i})),e},Ni=function(t){var e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach((function(t){var n=t.getAttribute("name"),i=t.getAttribute("value");e[n]=new Function("return ".concat(i))()})),e},Di=function(t){var e={};return Array.from(t.querySelectorAll("swal-button")).forEach((function(t){zi(t,["type","color","aria-label"]);var n=t.getAttribute("type");e["".concat(n,"ButtonText")]=t.innerHTML,e["show".concat(x(n),"Button")]=!0,t.hasAttribute("color")&&(e["".concat(n,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e["".concat(n,"ButtonAriaLabel")]=t.getAttribute("aria-label"))})),e},Pi=function(t){var e={},n=t.querySelector("swal-image");return n&&(zi(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt"))),e},Fi=function(t){var e={},n=t.querySelector("swal-icon");return n&&(zi(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},Bi=function(t){var e={},n=t.querySelector("swal-input");n&&(zi(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));var i=Array.from(t.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach((function(t){zi(t,["value"]);var n=t.getAttribute("value"),i=t.innerHTML;e.inputOptions[n]=i}))),e},Vi=function(t,e){var n={};for(var i in e){var r=e[i],o=t.querySelector(r);o&&(zi(o,[]),n[r.replace(/^swal-/,"")]=o.innerHTML.trim())}return n},Ui=function(t){var e=Ii.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach((function(t){var n=t.tagName.toLowerCase();e.includes(n)||S("Unrecognized element <".concat(n,">"))}))},zi=function(t,e){Array.from(t.attributes).forEach((function(n){-1===e.indexOf(n.name)&&S(['Unrecognized attribute "'.concat(n.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])}))},ji=10,qi=function(t){var e=L(),n=D();"function"===typeof t.willOpen&&t.willOpen(n);var i=window.getComputedStyle(document.body).overflowY;Gi(e,n,t),setTimeout((function(){Hi(e,n)}),ji),et()&&(Ki(e,t.scrollbarPadding,i),Ve()),nt()||m.previousActiveElement||(m.previousActiveElement=document.activeElement),"function"===typeof t.didOpen&&setTimeout((function(){return t.didOpen(n)})),ft(e,k["no-transition"])},Wi=function t(e){var n=D();if(e.target===n&&Ft){var i=L();n.removeEventListener(Ft,t),i.style.overflowY="auto"}},Hi=function(t,e){Ft&&xt(e)?(t.style.overflowY="hidden",e.addEventListener(Ft,Wi)):t.style.overflowY="auto"},Ki=function(t,e,n){je(),e&&"hidden"!==n&&Je(n),setTimeout((function(){t.scrollTop=0}))},Gi=function(t,e,n){ht(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),pt(e,"grid"),setTimeout((function(){ht(e,n.showClass.popup),e.style.removeProperty("opacity")}),ji),ht([document.documentElement,document.body],k.shown),n.heightAuto&&n.backdrop&&!n.toast&&ht([document.documentElement,document.body],k["height-auto"])},Qi={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function $i(t){t.inputValidator||("email"===t.input&&(t.inputValidator=Qi.email),"url"===t.input&&(t.inputValidator=Qi.url))}function Ji(t){(!t.target||"string"===typeof t.target&&!document.querySelector(t.target)||"string"!==typeof t.target&&!t.target.appendChild)&&(S('Target parameter is not valid, defaulting to "body"'),t.target="body")}function Xi(t){$i(t),t.showLoaderOnConfirm&&!t.preConfirm&&S("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),Ji(t),"string"===typeof t.title&&(t.title=t.title.split("\n").join("<br />")),Rt(t)}var Yi=new WeakMap,tr=function(){function n(){if(i(this,n),p(this,Yi,{writable:!0,value:void 0}),"undefined"!==typeof window){Ai=this;for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=Object.freeze(this.constructor.argsToParams(r));this.params=a,this.isAwaitingPromise=!1,e(this,Yi,this._main(Ai.params))}}return r(n,[{key:"_main",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Yn(Object.assign({},e,t)),m.currentInstance&&(m.currentInstance._destroy(),et()&&Ue()),m.currentInstance=Ai;var n=nr(t,e);Xi(n),Object.freeze(n),m.timeout&&(m.timeout.stop(),delete m.timeout),clearTimeout(m.restoreFocusTimeout);var i=ir(Ai);return xe(Ai,n),Gt.innerParams.set(Ai,n),er(Ai,i,n)}},{key:"then",value:function(e){return t(this,Yi).then(e)}},{key:"finally",value:function(e){return t(this,Yi).finally(e)}}]),n}(),er=function(t,e,n){return new Promise((function(i,r){var o=function(e){t.close({isDismissed:!0,dismiss:e})};Be.swalPromiseResolve.set(t,i),Be.swalPromiseReject.set(t,r),e.confirmButton.onclick=function(){xn(t)},e.denyButton.onclick=function(){Sn(t)},e.cancelButton.onclick=function(){En(t,o)},e.closeButton.onclick=function(){o(Ae.close)},si(n,e,o),Ze(m,n,o),fn(t,n),qi(n),rr(m,n,o),or(e,n),setTimeout((function(){e.container.scrollTop=0}))}))},nr=function(t,e){var n=Li(t),i=Object.assign({},jn,e,n,t);return i.showClass=Object.assign({},jn.showClass,i.showClass),i.hideClass=Object.assign({},jn.hideClass,i.hideClass),i},ir=function(t){var e={popup:D(),container:L(),actions:Q(),confirmButton:q(),denyButton:H(),cancelButton:W(),loader:G(),closeButton:X(),validationMessage:j(),progressSteps:z()};return Gt.domCache.set(t,e),e},rr=function(t,e,n){var i=J();yt(i),e.timer&&(t.timeout=new Mi((function(){n("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(pt(i),st(i,e,"timerProgressBar"),setTimeout((function(){t.timeout&&t.timeout.running&&St(e.timer)}))))},or=function(t,e){e.toast||(O(e.allowEnterKey)?ar(t,e)||Me(-1,1):sr())},ar=function(t,e){return e.focusDeny&&bt(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&bt(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!bt(t.confirmButton))&&(t.confirmButton.focus(),!0)},sr=function(){document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!==typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var ur=new Date,lr=localStorage.getItem("swal-initiation");lr?(ur.getTime()-Date.parse(lr))/864e5>3&&setTimeout((function(){document.body.style.pointerEvents="none";var t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout((function(){t.play().catch((function(){}))}),2500)}),500):localStorage.setItem("swal-initiation","".concat(ur))}tr.prototype.disableButtons=Fn,tr.prototype.enableButtons=Pn,tr.prototype.getInput=Rn,tr.prototype.disableInput=Vn,tr.prototype.enableInput=Bn,tr.prototype.hideLoading=In,tr.prototype.disableLoading=In,tr.prototype.showValidationMessage=Un,tr.prototype.resetValidationMessage=zn,tr.prototype.close=en,tr.prototype.closePopup=en,tr.prototype.closeModal=en,tr.prototype.closeToast=en,tr.prototype.rejectPromise=rn,tr.prototype.update=ti,tr.prototype._destroy=ni,Object.assign(tr,Zi),Object.keys(ai).forEach((function(t){tr[t]=function(){var e;return Ai&&Ai[t]?(e=Ai)[t].apply(e,arguments):null}})),tr.DismissReason=Ae,tr.version="11.9.0";var cr=tr;return cr.default=cr,cr}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},2391:function(t){"use strict";var e=function(){};t.exports=e},3897:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i},t.exports.__esModule=!0,t.exports.default=t.exports},5372:function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},3405:function(t,e,n){var i=n(3897);t.exports=function(t){if(Array.isArray(t))return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},6115:function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},6690:function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},3515:function(t,e,n){var i=n(6015),r=n(9617);function o(e,n,a){return r()?(t.exports=o=Reflect.construct.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=o=function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&i(o,n.prototype),o},t.exports.__esModule=!0,t.exports.default=t.exports),o.apply(null,arguments)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},9728:function(t,e,n){var i=n(4062);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},6389:function(t,e,n){var i=n(3808),r=n(9617),o=n(4993);t.exports=function(t){var e=r();return function(){var n,r=i(t);if(e){var a=i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return o(this,n)}},t.exports.__esModule=!0,t.exports.default=t.exports},1588:function(t,e,n){var i=n(1753);function r(){return"undefined"!==typeof Reflect&&Reflect.get?(t.exports=r=Reflect.get.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=r=function(t,e,n){var r=i(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},t.exports.__esModule=!0,t.exports.default=t.exports),r.apply(this,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},3808:function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},1655:function(t,e,n){var i=n(6015);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},9617:function(t){t.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},9498:function(t){t.exports=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},8872:function(t){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=o.call(n)).done)&&(s.push(i.value),s.length!==e);u=!0);}catch(t){l=!0,r=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},2218:function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},2281:function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},4993:function(t,e,n){var i=n(8698).default,r=n(6115);t.exports=function(t,e){if(e&&("object"===i(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},6015:function(t){function e(n,i){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},7424:function(t,e,n){var i=n(5372),r=n(8872),o=n(6116),a=n(2218);t.exports=function(t,e){return i(t)||r(t,e)||o(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},1753:function(t,e,n){var i=n(3808);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},861:function(t,e,n){var i=n(3405),r=n(9498),o=n(6116),a=n(2281);t.exports=function(t){return i(t)||r(t)||o(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},5036:function(t,e,n){var i=n(8698).default;t.exports=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},4062:function(t,e,n){var i=n(8698).default,r=n(5036);t.exports=function(t){var e=r(t,"string");return"symbol"===i(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},8698:function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},6116:function(t,e,n){var i=n(3897);t.exports=function(t,e){if(t){if("string"===typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},1752:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(1120);function r(){return r="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,i.Z)(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},r.apply(this,arguments)}},7825:function(t,e,n){"use strict";n.d(e,{Jn:function(){return K},qX:function(){return j},Xd:function(){return z},Mq:function(){return Q},ZF:function(){return G},KN:function(){return $}});var i,r,o=n(3433),a=n(4165),s=n(5861),u=n(7762),l=n(4942),c=n(5671),h=n(3144),f=n(3258),d=n(6781),v=n(5854),p=n(1413),y=function(t,e){return e.some((function(e){return t instanceof e}))};var m=new WeakMap,g=new WeakMap,w=new WeakMap,b=new WeakMap,k=new WeakMap;var _={get:function(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return g.get(t);if("objectStoreNames"===e)return t.objectStoreNames||w.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return E(t[e])},set:function(t,e,n){return t[e]=n,!0},has:function(t,e){return t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t}};function x(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(C(this),n),E(m.get(this))}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return E(t.apply(C(this),n))}:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=t.call.apply(t,[C(this),e].concat(i));return w.set(o,e.sort?e.sort():[e]),E(o)}}function S(t){return"function"===typeof t?x(t):(t instanceof IDBTransaction&&function(t){if(!g.has(t)){var e=new Promise((function(e,n){var i=function(){t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=function(){e(),i()},o=function(){n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)}));g.set(t,e)}}(t),y(t,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,_):t)}function E(t){if(t instanceof IDBRequest)return function(t){var e=new Promise((function(e,n){var i=function(){t.removeEventListener("success",r),t.removeEventListener("error",o)},r=function(){e(E(t.result)),i()},o=function(){n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)}));return e.then((function(e){e instanceof IDBCursor&&m.set(e,t)})).catch((function(){})),k.set(e,t),e}(t);if(b.has(t))return b.get(t);var e=S(t);return e!==t&&(b.set(t,e),k.set(e,t)),e}var C=function(t){return k.get(t)};var T,A,O=["get","getKey","getAll","getAllKeys","count"],Z=["put","add","delete","clear"],M=new Map;function I(t,e){if(t instanceof IDBDatabase&&!(e in t)&&"string"===typeof e){if(M.get(e))return M.get(e);var n=e.replace(/FromIndex$/,""),i=e!==n,r=Z.includes(n);if(n in(i?IDBIndex:IDBObjectStore).prototype&&(r||O.includes(n))){var o=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(e){var o,s,u,l,c,h,f=arguments;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(s=this.transaction(e,r?"readwrite":"readonly"),u=s.store,l=f.length,c=new Array(l>1?l-1:0),h=1;h<l;h++)c[h-1]=f[h];return i&&(u=u.index(c.shift())),t.next=6,Promise.all([(o=u)[n].apply(o,c),r&&s.done]);case 6:return t.abrupt("return",t.sent[0]);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();return M.set(e,o),o}}}_=function(t){return(0,p.Z)((0,p.Z)({},t),{},{get:function(e,n,i){return I(e,n)||t.get(e,n,i)},has:function(e,n){return!!I(e,n)||t.has(e,n)}})}(_);var L=function(){function t(e){(0,c.Z)(this,t),this.container=e}return(0,h.Z)(t,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((function(t){return t})).join(" ")}}]),t}();var R="@firebase/app",N="0.9.22",D=new d.Yd("@firebase/app"),P="[DEFAULT]",F=(T={},(0,l.Z)(T,R,"fire-core"),(0,l.Z)(T,"@firebase/app-compat","fire-core-compat"),(0,l.Z)(T,"@firebase/analytics","fire-analytics"),(0,l.Z)(T,"@firebase/analytics-compat","fire-analytics-compat"),(0,l.Z)(T,"@firebase/app-check","fire-app-check"),(0,l.Z)(T,"@firebase/app-check-compat","fire-app-check-compat"),(0,l.Z)(T,"@firebase/auth","fire-auth"),(0,l.Z)(T,"@firebase/auth-compat","fire-auth-compat"),(0,l.Z)(T,"@firebase/database","fire-rtdb"),(0,l.Z)(T,"@firebase/database-compat","fire-rtdb-compat"),(0,l.Z)(T,"@firebase/functions","fire-fn"),(0,l.Z)(T,"@firebase/functions-compat","fire-fn-compat"),(0,l.Z)(T,"@firebase/installations","fire-iid"),(0,l.Z)(T,"@firebase/installations-compat","fire-iid-compat"),(0,l.Z)(T,"@firebase/messaging","fire-fcm"),(0,l.Z)(T,"@firebase/messaging-compat","fire-fcm-compat"),(0,l.Z)(T,"@firebase/performance","fire-perf"),(0,l.Z)(T,"@firebase/performance-compat","fire-perf-compat"),(0,l.Z)(T,"@firebase/remote-config","fire-rc"),(0,l.Z)(T,"@firebase/remote-config-compat","fire-rc-compat"),(0,l.Z)(T,"@firebase/storage","fire-gcs"),(0,l.Z)(T,"@firebase/storage-compat","fire-gcs-compat"),(0,l.Z)(T,"@firebase/firestore","fire-fst"),(0,l.Z)(T,"@firebase/firestore-compat","fire-fst-compat"),(0,l.Z)(T,"fire-js","fire-js"),(0,l.Z)(T,"firebase","fire-js-all"),T),B=new Map,V=new Map;function U(t,e){try{t.container.addComponent(e)}catch(n){D.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function z(t){var e=t.name;if(V.has(e))return D.debug("There were multiple attempts to register component ".concat(e,".")),!1;V.set(e,t);var n,i=(0,u.Z)(B.values());try{for(i.s();!(n=i.n()).done;){U(n.value,t)}}catch(r){i.e(r)}finally{i.f()}return!0}function j(t,e){var n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var q=(A={},(0,l.Z)(A,"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),(0,l.Z)(A,"bad-app-name","Illegal App name: '{$appName}"),(0,l.Z)(A,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,l.Z)(A,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,l.Z)(A,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,l.Z)(A,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,l.Z)(A,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,l.Z)(A,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,l.Z)(A,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,l.Z)(A,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,l.Z)(A,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),A),W=new v.LL("app","Firebase",q),H=function(){function t(e,n,i){var r=this;(0,c.Z)(this,t),this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new f.wA("app",(function(){return r}),"PUBLIC"))}return(0,h.Z)(t,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(t){this._isDeleted=t}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw W.create("app-deleted",{appName:this._name})}}]),t}(),K="10.5.2";function G(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;"object"!==typeof e&&(e={name:e});var i=Object.assign({name:P,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!==typeof r||!r)throw W.create("bad-app-name",{appName:String(r)});if(n||(n=(0,v.aH)()),!n)throw W.create("no-options");var o=B.get(r);if(o){if((0,v.vZ)(n,o.options)&&(0,v.vZ)(i,o.config))return o;throw W.create("duplicate-app",{appName:r})}var a,s=new f.H0(r),l=(0,u.Z)(V.values());try{for(l.s();!(a=l.n()).done;){var c=a.value;s.addComponent(c)}}catch(d){l.e(d)}finally{l.f()}var h=new H(n,i,s);return B.set(r,h),h}function Q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=B.get(t);if(!e&&t===P&&(0,v.aH)())return G();if(!e)throw W.create("no-app",{appName:t});return e}function $(t,e,n){var i,r=null!==(i=F[t])&&void 0!==i?i:t;n&&(r+="-".concat(n));var o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var s=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];return o&&s.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),o&&a&&s.push("and"),a&&s.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void D.warn(s.join(" "))}z(new f.wA("".concat(r,"-version"),(function(){return{library:r,version:e}}),"VERSION"))}var J="firebase-heartbeat-database",X=1,Y="firebase-heartbeat-store",tt=null;function et(){return tt||(tt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.blocked,r=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(t,e),u=E(s);return r&&s.addEventListener("upgradeneeded",(function(t){r(E(s.result),t.oldVersion,t.newVersion,E(s.transaction),t)})),i&&s.addEventListener("blocked",(function(t){return i(t.oldVersion,t.newVersion,t)})),u.then((function(t){a&&t.addEventListener("close",(function(){return a()})),o&&t.addEventListener("versionchange",(function(t){return o(t.oldVersion,t.newVersion,t)}))})).catch((function(){})),u}(J,X,{upgrade:function(t,e){if(0===e)t.createObjectStore(Y)}}).catch((function(t){throw W.create("idb-open",{originalErrorMessage:t.message})}))),tt}function nt(t){return it.apply(this,arguments)}function it(){return(it=(0,s.Z)((0,a.Z)().mark((function t(e){var n,i,r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,et();case 3:return n=t.sent,t.next=6,n.transaction(Y).objectStore(Y).get(at(e));case 6:return i=t.sent,t.abrupt("return",i);case 10:t.prev=10,t.t0=t.catch(0),t.t0 instanceof v.ZR?D.warn(t.t0.message):(r=W.create("idb-get",{originalErrorMessage:null===t.t0||void 0===t.t0?void 0:t.t0.message}),D.warn(r.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function rt(t,e){return ot.apply(this,arguments)}function ot(){return(ot=(0,s.Z)((0,a.Z)().mark((function t(e,n){var i,r,o,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,et();case 3:return i=t.sent,r=i.transaction(Y,"readwrite"),o=r.objectStore(Y),t.next=8,o.put(n,at(e));case 8:return t.next=10,r.done;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0 instanceof v.ZR?D.warn(t.t0.message):(s=W.create("idb-set",{originalErrorMessage:null===t.t0||void 0===t.t0?void 0:t.t0.message}),D.warn(s.message));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}function at(t){return"".concat(t.name,"!").concat(t.options.appId)}var st=function(){function t(e){var n=this;(0,c.Z)(this,t),this.container=e,this._heartbeatsCache=null;var i=this.container.getProvider("app").getImmediate();this._storage=new ht(i),this._heartbeatsCachePromise=this._storage.read().then((function(t){return n._heartbeatsCache=t,t}))}return(0,h.Z)(t,[{key:"triggerHeartbeat",value:function(){var t=(0,s.Z)((0,a.Z)().mark((function t(){var e,n,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.container.getProvider("platform-logger").getImmediate(),n=e.getPlatformInfoString(),i=ut(),null!==this._heartbeatsCache){t.next=7;break}return t.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=t.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((function(t){return t.date===i}))){t.next=11;break}return t.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:i,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(t){var e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),t.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var t=(0,s.Z)((0,a.Z)().mark((function t(){var e,n,i,r,o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this._heartbeatsCache){t.next=3;break}return t.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){t.next=5;break}return t.abrupt("return","");case 5:if(e=ut(),n=lt(this._heartbeatsCache.heartbeats),i=n.heartbeatsToSend,r=n.unsentEntries,o=(0,v.L)(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=e,!(r.length>0)){t.next=15;break}return this._heartbeatsCache.heartbeats=r,t.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:t.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return t.abrupt("return",o);case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}();function ut(){return(new Date).toISOString().substring(0,10)}function lt(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,i=[],r=t.slice(),o=(0,u.Z)(t);try{var a=function(){var t=e.value,o=i.find((function(e){return e.agent===t.agent}));if(o){if(o.dates.push(t.date),ft(i)>n)return o.dates.pop(),0}else if(i.push({agent:t.agent,dates:[t.date]}),ft(i)>n)return i.pop(),0;r=r.slice(1)};for(o.s();!(e=o.n()).done&&0!==a(););}catch(s){o.e(s)}finally{o.f()}return{heartbeatsToSend:i,unsentEntries:r}}var ct,ht=function(){function t(e){(0,c.Z)(this,t),this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,h.Z)(t,[{key:"runIndexedDBEnvironmentCheck",value:function(){var t=(0,s.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,v.hl)()){t.next=4;break}return t.abrupt("return",!1);case 4:return t.abrupt("return",(0,v.eu)().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"read",value:function(){var t=(0,s.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._canUseIndexedDBPromise;case 2:if(t.sent){t.next=7;break}return t.abrupt("return",{heartbeats:[]});case 7:return t.next=9,nt(this.app);case 9:return e=t.sent,t.abrupt("return",e||{heartbeats:[]});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"overwrite",value:function(){var t=(0,s.Z)((0,a.Z)().mark((function t(e){var n,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._canUseIndexedDBPromise;case 2:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.read();case 9:return i=t.sent,t.abrupt("return",rt(this.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats}));case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"add",value:function(){var t=(0,s.Z)((0,a.Z)().mark((function t(e){var n,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._canUseIndexedDBPromise;case 2:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.read();case 9:return i=t.sent,t.abrupt("return",rt(this.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:[].concat((0,o.Z)(i.heartbeats),(0,o.Z)(e.heartbeats))}));case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();function ft(t){return(0,v.L)(JSON.stringify({version:2,heartbeats:t})).length}ct="",z(new f.wA("platform-logger",(function(t){return new L(t)}),"PRIVATE")),z(new f.wA("heartbeat",(function(t){return new st(t)}),"PRIVATE")),$(R,N,ct),$(R,N,"esm2017"),$("fire-js","")},3258:function(t,e,n){"use strict";n.d(e,{H0:function(){return v},wA:function(){return h}});var i=n(4165),r=n(3433),o=n(5861),a=n(9439),s=n(7762),u=n(5671),l=n(3144),c=n(5854),h=function(){function t(e,n,i){(0,u.Z)(this,t),this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,l.Z)(t,[{key:"setInstantiationMode",value:function(t){return this.instantiationMode=t,this}},{key:"setMultipleInstances",value:function(t){return this.multipleInstances=t,this}},{key:"setServiceProps",value:function(t){return this.serviceProps=t,this}},{key:"setInstanceCreatedCallback",value:function(t){return this.onInstanceCreated=t,this}}]),t}(),f="[DEFAULT]",d=function(){function t(e,n){(0,u.Z)(this,t),this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,l.Z)(t,[{key:"get",value:function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new c.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch(r){}}return this.instancesDeferred.get(e).promise}},{key:"getImmediate",value:function(t){var e,n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:f})}catch(c){}var e,n=(0,s.Z)(this.instancesDeferred.entries());try{for(n.s();!(e=n.n()).done;){var i=(0,a.Z)(e.value,2),r=i[0],o=i[1],u=this.normalizeInstanceIdentifier(r);try{var l=this.getOrInitializeService({instanceIdentifier:u});o.resolve(l)}catch(c){}}}catch(h){n.e(h)}finally{n.f()}}}},{key:"clearInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}},{key:"delete",value:function(){var t=(0,o.Z)((0,i.Z)().mark((function t(){var e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Array.from(this.instances.values()),t.next=3,Promise.all([].concat((0,r.Z)(e.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()}))),(0,r.Z)(e.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instances.has(t)}},{key:"getOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instancesOptions.get(t)||{}}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.options,n=void 0===e?{}:e,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error("".concat(this.name,"(").concat(i,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var r,o=this.getOrInitializeService({instanceIdentifier:i,options:n}),u=(0,s.Z)(this.instancesDeferred.entries());try{for(u.s();!(r=u.n()).done;){var l=(0,a.Z)(r.value,2),c=l[0],h=l[1];i===this.normalizeInstanceIdentifier(c)&&h.resolve(o)}}catch(f){u.e(f)}finally{u.f()}return o}},{key:"onInit",value:function(t,e){var n,i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);var o=this.instances.get(i);return o&&t(o,i),function(){r.delete(t)}}},{key:"invokeOnInitCallbacks",value:function(t,e){var n=this.onInitCallbacks.get(e);if(n){var i,r=(0,s.Z)(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;try{o(t,e)}catch(a){}}}catch(u){r.e(u)}finally{r.f()}}}},{key:"getOrInitializeService",value:function(t){var e,n=t.instanceIdentifier,i=t.options,r=void 0===i?{}:i,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===f?void 0:e),options:r}),this.instances.set(n,o),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null}},{key:"normalizeInstanceIdentifier",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.component?this.component.multipleInstances?t:f:t}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),t}();var v=function(){function t(e){(0,u.Z)(this,t),this.name=e,this.providers=new Map}return(0,l.Z)(t,[{key:"addComponent",value:function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}},{key:"addOrOverwriteComponent",value:function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}},{key:"getProvider",value:function(t){if(this.providers.has(t))return this.providers.get(t);var e=new d(t,this);return this.providers.set(t,e),e}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),t}()},6781:function(t,e,n){"use strict";n.d(e,{Yd:function(){return d},in:function(){return r}});var i,r,o=n(5671),a=n(3144),s=n(4942),u=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r||(r={}));var l={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},c=r.INFO,h=(i={},(0,s.Z)(i,r.DEBUG,"log"),(0,s.Z)(i,r.VERBOSE,"log"),(0,s.Z)(i,r.INFO,"info"),(0,s.Z)(i,r.WARN,"warn"),(0,s.Z)(i,r.ERROR,"error"),i),f=function(t,e){if(!(e<t.logLevel)){var n=(new Date).toISOString(),i=h[e];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var r,o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(r=console)[i].apply(r,["[".concat(n,"]  ").concat(t.name,":")].concat(a))}},d=function(){function t(e){(0,o.Z)(this,t),this.name=e,this._logLevel=c,this._logHandler=f,this._userLogHandler=null,u.push(this)}return(0,a.Z)(t,[{key:"logLevel",get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}},{key:"setLogLevel",value:function(t){this._logLevel="string"===typeof t?l[t]:t}},{key:"logHandler",get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t}},{key:"debug",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,r.DEBUG].concat(e)),this._logHandler.apply(this,[this,r.DEBUG].concat(e))}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,r.VERBOSE].concat(e)),this._logHandler.apply(this,[this,r.VERBOSE].concat(e))}},{key:"info",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,r.INFO].concat(e)),this._logHandler.apply(this,[this,r.INFO].concat(e))}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,r.WARN].concat(e)),this._logHandler.apply(this,[this,r.WARN].concat(e))}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,r.ERROR].concat(e)),this._logHandler.apply(this,[this,r.ERROR].concat(e))}}]),t}()},1243:function(t,e,n){"use strict";function i(t,e){return function(){return t.apply(e,arguments)}}n.d(e,{Z:function(){return jt}});var r,o=Object.prototype.toString,a=Object.getPrototypeOf,s=(r=Object.create(null),function(t){var e=o.call(t);return r[e]||(r[e]=e.slice(8,-1).toLowerCase())}),u=function(t){return t=t.toLowerCase(),function(e){return s(e)===t}},l=function(t){return function(e){return typeof e===t}},c=Array.isArray,h=l("undefined");var f=u("ArrayBuffer");var d=l("string"),v=l("function"),p=l("number"),y=function(t){return null!==t&&"object"===typeof t},m=function(t){if("object"!==s(t))return!1;var e=a(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},g=u("Date"),w=u("File"),b=u("Blob"),k=u("FileList"),_=u("URLSearchParams");function x(t,e){var n,i,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,o=void 0!==r&&r;if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),c(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{var a,s=o?Object.getOwnPropertyNames(t):Object.keys(t),u=s.length;for(n=0;n<u;n++)a=s[n],e.call(null,t[a],a,t)}}function S(t,e){e=e.toLowerCase();for(var n,i=Object.keys(t),r=i.length;r-- >0;)if(e===(n=i[r]).toLowerCase())return n;return null}var E="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,C=function(t){return!h(t)&&t!==E};var T,A=(T="undefined"!==typeof Uint8Array&&a(Uint8Array),function(t){return T&&t instanceof T}),O=u("HTMLFormElement"),Z=function(t){var e=Object.prototype.hasOwnProperty;return function(t,n){return e.call(t,n)}}(),M=u("RegExp"),I=function(t,e){var n=Object.getOwnPropertyDescriptors(t),i={};x(n,(function(n,r){var o;!1!==(o=e(n,r,t))&&(i[r]=o||n)})),Object.defineProperties(t,i)},L="abcdefghijklmnopqrstuvwxyz",R="0123456789",N={DIGIT:R,ALPHA:L,ALPHA_DIGIT:L+L.toUpperCase()+R};var D=u("AsyncFunction"),P={isArray:c,isArrayBuffer:f,isBuffer:function(t){return null!==t&&!h(t)&&null!==t.constructor&&!h(t.constructor)&&v(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:function(t){var e;return t&&("function"===typeof FormData&&t instanceof FormData||v(t.append)&&("formdata"===(e=s(t))||"object"===e&&v(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&f(t.buffer)},isString:d,isNumber:p,isBoolean:function(t){return!0===t||!1===t},isObject:y,isPlainObject:m,isUndefined:h,isDate:g,isFile:w,isBlob:b,isRegExp:M,isFunction:v,isStream:function(t){return y(t)&&v(t.pipe)},isURLSearchParams:_,isTypedArray:A,isFileList:k,forEach:x,merge:function t(){for(var e=(C(this)&&this||{}).caseless,n={},i=function(i,r){var o=e&&S(n,r)||r;m(n[o])&&m(i)?n[o]=t(n[o],i):m(i)?n[o]=t({},i):c(i)?n[o]=i.slice():n[o]=i},r=0,o=arguments.length;r<o;r++)arguments[r]&&x(arguments[r],i);return n},extend:function(t,e,n){return x(e,(function(e,r){n&&v(e)?t[r]=i(e,n):t[r]=e}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),t},trim:function(t){return t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,n,i){t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:function(t,e,n,i){var r,o,s,u={};if(e=e||{},null==t)return e;do{for(o=(r=Object.getOwnPropertyNames(t)).length;o-- >0;)s=r[o],i&&!i(s,t,e)||u[s]||(e[s]=t[s],u[s]=!0);t=!1!==n&&a(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:s,kindOfTest:u,endsWith:function(t,e,n){t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;var i=t.indexOf(e,n);return-1!==i&&i===n},toArray:function(t){if(!t)return null;if(c(t))return t;var e=t.length;if(!p(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n},forEachEntry:function(t,e){for(var n,i=(t&&t[Symbol.iterator]).call(t);(n=i.next())&&!n.done;){var r=n.value;e.call(t,r[0],r[1])}},matchAll:function(t,e){for(var n,i=[];null!==(n=t.exec(e));)i.push(n);return i},isHTMLForm:O,hasOwnProperty:Z,hasOwnProp:Z,reduceDescriptors:I,freezeMethods:function(t){I(t,(function(e,n){if(v(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var i=t[n];v(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(t,e){var n={},i=function(t){t.forEach((function(t){n[t]=!0}))};return c(t)?i(t):i(String(t).split(e)),n},toCamelCase:function(t){return t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(t,e){return t=+t,Number.isFinite(t)?t:e},findKey:S,global:E,isContextDefined:C,ALPHABET:N,generateString:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.ALPHA_DIGIT,n="",i=e.length;t--;)n+=e[Math.random()*i|0];return n},isSpecCompliantForm:function(t){return!!(t&&v(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:function(t){var e=new Array(10);return function t(n,i){if(y(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;var r=c(n)?[]:{};return x(n,(function(e,n){var o=t(e,i+1);!h(o)&&(r[n]=o)})),e[i]=void 0,r}}return n}(t,0)},isAsyncFn:D,isThenable:function(t){return t&&(y(t)||v(t))&&v(t.then)&&v(t.catch)}},F=n(5671),B=n(3144);function V(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}P.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var U=V.prototype,z={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(t){z[t]={value:t}})),Object.defineProperties(V,z),Object.defineProperty(U,"isAxiosError",{value:!0}),V.from=function(t,e,n,i,r,o){var a=Object.create(U);return P.toFlatObject(t,a,(function(t){return t!==Error.prototype}),(function(t){return"isAxiosError"!==t})),V.call(a,t.message,e,n,i,r),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};var j=V;function q(t){return P.isPlainObject(t)||P.isArray(t)}function W(t){return P.endsWith(t,"[]")?t.slice(0,-2):t}function H(t,e,n){return t?t.concat(e).map((function(t,e){return t=W(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}var K=P.toFlatObject(P,{},null,(function(t){return/^is[A-Z]/.test(t)}));var G=function(t,e,n){if(!P.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;var i=(n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!P.isUndefined(e[t])}))).metaTokens,r=n.visitor||l,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(r))throw new TypeError("visitor must be a function");function u(t){if(null===t)return"";if(P.isDate(t))return t.toISOString();if(!s&&P.isBlob(t))throw new j("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(t)||P.isTypedArray(t)?s&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function l(t,n,r){var s=t;if(t&&!r&&"object"===typeof t)if(P.endsWith(n,"{}"))n=i?n:n.slice(0,-2),t=JSON.stringify(t);else if(P.isArray(t)&&function(t){return P.isArray(t)&&!t.some(q)}(t)||(P.isFileList(t)||P.endsWith(n,"[]"))&&(s=P.toArray(t)))return n=W(n),s.forEach((function(t,i){!P.isUndefined(t)&&null!==t&&e.append(!0===a?H([n],i,o):null===a?n:n+"[]",u(t))})),!1;return!!q(t)||(e.append(H(r,n,o),u(t)),!1)}var c=[],h=Object.assign(K,{defaultVisitor:l,convertValue:u,isVisitable:q});if(!P.isObject(t))throw new TypeError("data must be an object");return function t(n,i){if(!P.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+i.join("."));c.push(n),P.forEach(n,(function(n,o){!0===(!(P.isUndefined(n)||null===n)&&r.call(e,n,P.isString(o)?o.trim():o,i,h))&&t(n,i?i.concat(o):[o])})),c.pop()}}(t),e};function Q(t){var e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function $(t,e){this._pairs=[],t&&G(t,this,e)}var J=$.prototype;J.append=function(t,e){this._pairs.push([t,e])},J.toString=function(t){var e=t?function(e){return t.call(this,e,Q)}:Q;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var X=$;function Y(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tt(t,e,n){if(!e)return t;var i,r=n&&n.encode||Y,o=n&&n.serialize;if(i=o?o(e,n):P.isURLSearchParams(e)?e.toString():new X(e,n).toString(r)){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}var et=function(){function t(){(0,F.Z)(this,t),this.handlers=[]}return(0,B.Z)(t,[{key:"use",value:function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(t){this.handlers[t]&&(this.handlers[t]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(t){P.forEach(this.handlers,(function(e){null!==e&&t(e)}))}}]),t}(),nt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},it={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:X,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var t;return("undefined"===typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var rt=function(t){function e(t,n,i,r){var o=t[r++],a=Number.isFinite(+o),s=r>=t.length;return o=!o&&P.isArray(i)?i.length:o,s?(P.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):(i[o]&&P.isObject(i[o])||(i[o]=[]),e(t,n,i[o],r)&&P.isArray(i[o])&&(i[o]=function(t){var e,n,i={},r=Object.keys(t),o=r.length;for(e=0;e<o;e++)i[n=r[e]]=t[n];return i}(i[o])),!a)}if(P.isFormData(t)&&P.isFunction(t.entries)){var n={};return P.forEachEntry(t,(function(t,i){e(function(t){return P.matchAll(/\w+|\[(\w*)]/g,t).map((function(t){return"[]"===t[0]?"":t[1]||t[0]}))}(t),i,n,0)})),n}return null};var ot={transitional:nt,adapter:["xhr","http"],transformRequest:[function(t,e){var n,i=e.getContentType()||"",r=i.indexOf("application/json")>-1,o=P.isObject(t);if(o&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return r&&r?JSON.stringify(rt(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return G(t,new it.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,i){return it.isNode&&P.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((n=P.isFileList(t))||i.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return G(n?{"files[]":t}:t,a&&new a,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),function(t,e,n){if(P.isString(t))try{return(e||JSON.parse)(t),P.trim(t)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||ot.transitional,n=e&&e.forcedJSONParsing,i="json"===this.responseType;if(t&&P.isString(t)&&(n&&!this.responseType||i)){var r=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(r){if("SyntaxError"===o.name)throw j.from(o,j.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:it.classes.FormData,Blob:it.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],(function(t){ot.headers[t]={}}));var at=ot,st=n(9439),ut=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lt=Symbol("internals");function ct(t){return t&&String(t).trim().toLowerCase()}function ht(t){return!1===t||null==t?t:P.isArray(t)?t.map(ht):String(t)}function ft(t,e,n,i,r){return P.isFunction(i)?i.call(this,e,n):(r&&(e=n),P.isString(e)?P.isString(i)?-1!==e.indexOf(i):P.isRegExp(i)?i.test(e):void 0:void 0)}var dt=function(t,e){function n(t){(0,F.Z)(this,n),t&&this.set(t)}return(0,B.Z)(n,[{key:"set",value:function(t,e,n){var i=this;function r(t,e,n){var r=ct(e);if(!r)throw new Error("header name must be a non-empty string");var o=P.findKey(i,r);(!o||void 0===i[o]||!0===n||void 0===n&&!1!==i[o])&&(i[o||e]=ht(t))}var o=function(t,e){return P.forEach(t,(function(t,n){return r(t,n,e)}))};return P.isPlainObject(t)||t instanceof this.constructor?o(t,e):P.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?o(function(t){var e,n,i,r={};return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),e=t.substring(0,i).trim().toLowerCase(),n=t.substring(i+1).trim(),!e||r[e]&&ut[e]||("set-cookie"===e?r[e]?r[e].push(n):r[e]=[n]:r[e]=r[e]?r[e]+", "+n:n)})),r}(t),e):null!=t&&r(e,t,n),this}},{key:"get",value:function(t,e){if(t=ct(t)){var n=P.findKey(this,t);if(n){var i=this[n];if(!e)return i;if(!0===e)return function(t){for(var e,n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;e=i.exec(t);)n[e[1]]=e[2];return n}(i);if(P.isFunction(e))return e.call(this,i,n);if(P.isRegExp(e))return e.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(t,e){if(t=ct(t)){var n=P.findKey(this,t);return!(!n||void 0===this[n]||e&&!ft(0,this[n],n,e))}return!1}},{key:"delete",value:function(t,e){var n=this,i=!1;function r(t){if(t=ct(t)){var r=P.findKey(n,t);!r||e&&!ft(0,n[r],r,e)||(delete n[r],i=!0)}}return P.isArray(t)?t.forEach(r):r(t),i}},{key:"clear",value:function(t){for(var e=Object.keys(this),n=e.length,i=!1;n--;){var r=e[n];t&&!ft(0,this[r],r,t,!0)||(delete this[r],i=!0)}return i}},{key:"normalize",value:function(t){var e=this,n={};return P.forEach(this,(function(i,r){var o=P.findKey(n,r);if(o)return e[o]=ht(i),void delete e[r];var a=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n}))}(r):String(r).trim();a!==r&&delete e[r],e[a]=ht(i),n[a]=!0})),this}},{key:"concat",value:function(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=this.constructor).concat.apply(t,[this].concat(n))}},{key:"toJSON",value:function(t){var e=Object.create(null);return P.forEach(this,(function(n,i){null!=n&&!1!==n&&(e[i]=t&&P.isArray(n)?n.join(", "):n)})),e}},{key:t,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(t){var e=(0,st.Z)(t,2);return e[0]+": "+e[1]})).join("\n")}},{key:e,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(t){return t instanceof this?t:new this(t)}},{key:"concat",value:function(t){for(var e=new this(t),n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((function(t){return e.set(t)})),e}},{key:"accessor",value:function(t){var e=(this[lt]=this[lt]={accessors:{}}).accessors,n=this.prototype;function i(t){var i=ct(t);e[i]||(!function(t,e){var n=P.toCamelCase(" "+e);["get","set","has"].forEach((function(i){Object.defineProperty(t,i+n,{value:function(t,n,r){return this[i].call(this,e,t,n,r)},configurable:!0})}))}(n,t),e[i]=!0)}return P.isArray(t)?t.forEach(i):i(t),this}}]),n}(Symbol.iterator,Symbol.toStringTag);dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),P.reduceDescriptors(dt.prototype,(function(t,e){var n=t.value,i=e[0].toUpperCase()+e.slice(1);return{get:function(){return n},set:function(t){this[i]=t}}})),P.freezeMethods(dt);var vt=dt;function pt(t,e){var n=this||at,i=e||n,r=vt.from(i.headers),o=i.data;return P.forEach(t,(function(t){o=t.call(n,o,r.normalize(),e?e.status:void 0)})),r.normalize(),o}function yt(t){return!(!t||!t.__CANCEL__)}function mt(t,e,n){j.call(this,null==t?"canceled":t,j.ERR_CANCELED,e,n),this.name="CanceledError"}P.inherits(mt,j,{__CANCEL__:!0});var gt=mt;var wt=it.isStandardBrowserEnv?{write:function(t,e,n,i,r,o){var a=[];a.push(t+"="+encodeURIComponent(e)),P.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),P.isString(i)&&a.push("path="+i),P.isString(r)&&a.push("domain="+r),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function bt(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}var kt=it.isStandardBrowserEnv?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=P.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0};var _t=function(t,e){t=t||10;var n,i=new Array(t),r=new Array(t),o=0,a=0;return e=void 0!==e?e:1e3,function(s){var u=Date.now(),l=r[a];n||(n=u),i[o]=s,r[o]=u;for(var c=a,h=0;c!==o;)h+=i[c++],c%=t;if((o=(o+1)%t)===a&&(a=(a+1)%t),!(u-n<e)){var f=l&&u-l;return f?Math.round(1e3*h/f):void 0}}};function xt(t,e){var n=0,i=_t(50,250);return function(r){var o=r.loaded,a=r.lengthComputable?r.total:void 0,s=o-n,u=i(s);n=o;var l={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&o<=a?(a-o)/u:void 0,event:r};l[e?"download":"upload"]=!0,t(l)}}var St={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){var i,r,o=t.data,a=vt.from(t.headers).normalize(),s=t.responseType;function u(){t.cancelToken&&t.cancelToken.unsubscribe(i),t.signal&&t.signal.removeEventListener("abort",i)}P.isFormData(o)&&(it.isStandardBrowserEnv||it.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.getContentType(/^\s*multipart\/form-data/)?P.isString(r=a.getContentType())&&a.setContentType(r.replace(/^\s*(multipart\/form-data);+/,"$1")):a.setContentType("multipart/form-data"));var l=new XMLHttpRequest;if(t.auth){var c=t.auth.username||"",h=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+h))}var f=bt(t.baseURL,t.url);function d(){if(l){var i=vt.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new j("Request failed with status code "+n.status,[j.ERR_BAD_REQUEST,j.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),u()}),(function(t){n(t),u()}),{data:s&&"text"!==s&&"json"!==s?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:i,config:t,request:l}),l=null}}if(l.open(t.method.toUpperCase(),tt(f,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,"onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(d)},l.onabort=function(){l&&(n(new j("Request aborted",j.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new j("Network Error",j.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",i=t.transitional||nt;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new j(e,i.clarifyTimeoutError?j.ETIMEDOUT:j.ECONNABORTED,t,l)),l=null},it.isStandardBrowserEnv){var v=kt(f)&&t.xsrfCookieName&&wt.read(t.xsrfCookieName);v&&a.set(t.xsrfHeaderName,v)}void 0===o&&a.setContentType(null),"setRequestHeader"in l&&P.forEach(a.toJSON(),(function(t,e){l.setRequestHeader(e,t)})),P.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),s&&"json"!==s&&(l.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&l.addEventListener("progress",xt(t.onDownloadProgress,!0)),"function"===typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",xt(t.onUploadProgress)),(t.cancelToken||t.signal)&&(i=function(e){l&&(n(!e||e.type?new gt(null,t,l):e),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(i),t.signal&&(t.signal.aborted?i():t.signal.addEventListener("abort",i)));var p=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(f);p&&-1===it.protocols.indexOf(p)?n(new j("Unsupported protocol "+p+":",j.ERR_BAD_REQUEST,t)):l.send(o||null)}))}};P.forEach(St,(function(t,e){if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}}));var Et=function(t){return"- ".concat(t)},Ct=function(t){return P.isFunction(t)||null===t||!1===t},Tt=function(t){for(var e,n,i=(t=P.isArray(t)?t:[t]).length,r={},o=0;o<i;o++){var a=void 0;if(n=e=t[o],!Ct(e)&&void 0===(n=St[(a=String(e)).toLowerCase()]))throw new j("Unknown adapter '".concat(a,"'"));if(n)break;r[a||"#"+o]=n}if(!n){var s=Object.entries(r).map((function(t){var e=(0,st.Z)(t,2),n=e[0],i=e[1];return"adapter ".concat(n," ")+(!1===i?"is not supported by the environment":"is not available in the build")})),u=i?s.length>1?"since :\n"+s.map(Et).join("\n"):" "+Et(s[0]):"as no adapter specified";throw new j("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return n};function At(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gt(null,t)}function Ot(t){return At(t),t.headers=vt.from(t.headers),t.data=pt.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Tt(t.adapter||at.adapter)(t).then((function(e){return At(t),e.data=pt.call(t,t.transformResponse,e),e.headers=vt.from(e.headers),e}),(function(e){return yt(e)||(At(t),e&&e.response&&(e.response.data=pt.call(t,t.transformResponse,e.response),e.response.headers=vt.from(e.response.headers))),Promise.reject(e)}))}var Zt=function(t){return t instanceof vt?t.toJSON():t};function Mt(t,e){e=e||{};var n={};function i(t,e,n){return P.isPlainObject(t)&&P.isPlainObject(e)?P.merge.call({caseless:n},t,e):P.isPlainObject(e)?P.merge({},e):P.isArray(e)?e.slice():e}function r(t,e,n){return P.isUndefined(e)?P.isUndefined(t)?void 0:i(void 0,t,n):i(t,e,n)}function o(t,e){if(!P.isUndefined(e))return i(void 0,e)}function a(t,e){return P.isUndefined(e)?P.isUndefined(t)?void 0:i(void 0,t):i(void 0,e)}function s(n,r,o){return o in e?i(n,r):o in t?i(void 0,n):void 0}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:function(t,e){return r(Zt(t),Zt(e),!0)}};return P.forEach(Object.keys(Object.assign({},t,e)),(function(i){var o=u[i]||r,a=o(t[i],e[i],i);P.isUndefined(a)&&o!==s||(n[i]=a)})),n}var It="1.6.0",Lt={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){Lt[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var Rt={};Lt.transitional=function(t,e,n){return function(i,r,o){if(!1===t)throw new j(function(t,e){return"[Axios v1.6.0] Transitional option '"+t+"'"+e+(n?". "+n:"")}(r," has been removed"+(e?" in "+e:"")),j.ERR_DEPRECATED);return e&&!Rt[r]&&(Rt[r]=!0),!t||t(i,r,o)}};var Nt={assertOptions:function(t,e,n){if("object"!==typeof t)throw new j("options must be an object",j.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(t),r=i.length;r-- >0;){var o=i[r],a=e[o];if(a){var s=t[o],u=void 0===s||a(s,o,t);if(!0!==u)throw new j("option "+o+" must be "+u,j.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new j("Unknown option "+o,j.ERR_BAD_OPTION)}},validators:Lt},Dt=Nt.validators,Pt=function(){function t(e){(0,F.Z)(this,t),this.defaults=e,this.interceptors={request:new et,response:new et}}return(0,B.Z)(t,[{key:"request",value:function(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{};var n=e=Mt(this.defaults,e),i=n.transitional,r=n.paramsSerializer,o=n.headers;void 0!==i&&Nt.assertOptions(i,{silentJSONParsing:Dt.transitional(Dt.boolean),forcedJSONParsing:Dt.transitional(Dt.boolean),clarifyTimeoutError:Dt.transitional(Dt.boolean)},!1),null!=r&&(P.isFunction(r)?e.paramsSerializer={serialize:r}:Nt.assertOptions(r,{encode:Dt.function,serialize:Dt.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();var a=o&&P.merge(o.common,o[e.method]);o&&P.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete o[t]})),e.headers=vt.concat(a,o);var s=[],u=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(u=u&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));var l,c=[];this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)}));var h,f=0;if(!u){var d=[Ot.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,c),h=d.length,l=Promise.resolve(e);f<h;)l=l.then(d[f++],d[f++]);return l}h=s.length;var v=e;for(f=0;f<h;){var p=s[f++],y=s[f++];try{v=p(v)}catch(m){y.call(this,m);break}}try{l=Ot.call(this,v)}catch(m){return Promise.reject(m)}for(f=0,h=c.length;f<h;)l=l.then(c[f++],c[f++]);return l}},{key:"getUri",value:function(t){return tt(bt((t=Mt(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}]),t}();P.forEach(["delete","get","head","options"],(function(t){Pt.prototype[t]=function(e,n){return this.request(Mt(n||{},{method:t,url:e,data:(n||{}).data}))}})),P.forEach(["post","put","patch"],(function(t){function e(e){return function(n,i,r){return this.request(Mt(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Pt.prototype[t]=e(),Pt.prototype[t+"Form"]=e(!0)}));var Ft=Pt,Bt=function(){function t(e){if((0,F.Z)(this,t),"function"!==typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(t){n=t}));var i=this;this.promise.then((function(t){if(i._listeners){for(var e=i._listeners.length;e-- >0;)i._listeners[e](t);i._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){i.subscribe(t),e=t})).then(t);return n.cancel=function(){i.unsubscribe(e)},n},e((function(t,e,r){i.reason||(i.reason=new gt(t,e,r),n(i.reason))}))}return(0,B.Z)(t,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}},{key:"unsubscribe",value:function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}}}],[{key:"source",value:function(){var e;return{token:new t((function(t){e=t})),cancel:e}}}]),t}();var Vt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vt).forEach((function(t){var e=(0,st.Z)(t,2),n=e[0],i=e[1];Vt[i]=n}));var Ut=Vt;var zt=function t(e){var n=new Ft(e),r=i(Ft.prototype.request,n);return P.extend(r,Ft.prototype,n,{allOwnKeys:!0}),P.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(Mt(e,n))},r}(at);zt.Axios=Ft,zt.CanceledError=gt,zt.CancelToken=Bt,zt.isCancel=yt,zt.VERSION=It,zt.toFormData=G,zt.AxiosError=j,zt.Cancel=zt.CanceledError,zt.all=function(t){return Promise.all(t)},zt.spread=function(t){return function(e){return t.apply(null,e)}},zt.isAxiosError=function(t){return P.isObject(t)&&!0===t.isAxiosError},zt.mergeConfig=Mt,zt.AxiosHeaders=vt,zt.formToJSON=function(t){return rt(P.isHTMLForm(t)?new FormData(t):t)},zt.getAdapter=Tt,zt.HttpStatusCode=Ut,zt.default=zt;var jt=zt},4702:function(t,e,n){"use strict";n.d(e,{ZF:function(){return i.ZF}});var i=n(7825);(0,i.KN)("firebase","10.5.2","app")},2481:function(t,e,n){"use strict";n.d(e,{ET:function(){return If},hJ:function(){return Oh},ad:function(){return Lh},b9:function(){return mf},cf:function(){return Lf},Xo:function(){return pf},IO:function(){return hf},Bt:function(){return Df},TQ:function(){return wf}});var i,r=n(5647),o=n(1752),a=n(1120),s=n(9439),u=n(8664),l=n(7762),c=n(4165),h=n(5861),f=n(136),d=n(7277),v=n(3433),p=n(5671),y=n(3144),m=n(7825),g=n(3258),w=n(6781),b=n(5854),k="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_={},x=x||{},S=k||self;function E(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function C(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var T="closure_uid_"+(1e9*Math.random()>>>0),A=0;function O(t,e,n){return t.call.apply(t.bind,arguments)}function Z(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function M(t,e,n){return(M=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?O:Z).apply(null,arguments)}function I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function L(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function R(){this.s=this.s,this.o=this.o}R.prototype.s=!1,R.prototype.sa=function(){var t;!this.s&&(this.s=!0,this.N(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,T)&&t[T]||(t[T]=++A))},R.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var N=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function D(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function P(t,e){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(E(i)){var r=t.length||0,o=i.length||0;t.length=r+o;for(var a=0;a<o;a++)t[r+a]=i[a]}else t.push(i)}}function F(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var B=function(){if(!S.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{S.addEventListener("test",(function(){}),e),S.removeEventListener("test",(function(){}),e)}catch(n){}return t}();function V(t){return/^[\s\xa0]*$/.test(t)}function U(){var t=S.navigator;return t&&(t=t.userAgent)?t:""}function z(t){return-1!=U().indexOf(t)}function j(t){return j[" "](t),t}j[" "]=function(){};var q,W,H=z("Opera"),K=z("Trident")||z("MSIE"),G=z("Edge"),Q=G||K,$=z("Gecko")&&!(-1!=U().toLowerCase().indexOf("webkit")&&!z("Edge"))&&!(z("Trident")||z("MSIE"))&&!z("Edge"),J=-1!=U().toLowerCase().indexOf("webkit")&&!z("Edge");function X(){var t=S.document;return t?t.documentMode:void 0}t:{var Y="",tt=function(){var t=U();return $?/rv:([^\);]+)(\)|;)/.exec(t):G?/Edge\/([\d\.]+)/.exec(t):K?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):J?/WebKit\/(\S+)/.exec(t):H?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(tt&&(Y=tt?tt[1]:""),K){var et=X();if(null!=et&&et>parseFloat(Y)){q=String(et);break t}}q=Y}if(S.document&&K){var nt=X();W=nt||(parseInt(q,10)||void 0)}else W=void 0;var it=W;function rt(t,e){if(F.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($){t:{try{j(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ot[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&rt.$.h.call(this)}}L(rt,F);var ot={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),st=0;function ut(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++st,this.fa=this.ia=!1}function lt(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ct(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function ht(t){var e={};for(var n in t)e[n]=t[n];return e}var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<ft.length;o++)n=ft[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function vt(t){this.src=t,this.g={},this.h=0}function pt(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],o=N(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(lt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function yt(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}vt.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=yt(t,e,i,r);return-1<a?(e=t[a],n||(e.ia=!1)):((e=new ut(e,this.src,o,!!i,r)).ia=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function wt(t,e,n,i,r){if(i&&i.once)return kt(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)wt(t,e[o],n,i,r);return null}return n=At(n),t&&t[at]?t.O(e,n,C(i)?!!i.capture:!!i,r):bt(t,e,n,!1,i,r)}function bt(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=C(r)?!!r.capture:!!r,s=Ct(t);if(s||(t[mt]=s=new vt(t)),(n=s.add(e,n,i,a,o)).proxy)return n;if(i=function(){function t(n){return e.call(t.src,t.listener,n)}var e=Et;return t}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)B||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(St(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function kt(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)kt(t,e[o],n,i,r);return null}return n=At(n),t&&t[at]?t.P(e,n,C(i)?!!i.capture:!!i,r):bt(t,e,n,!0,i,r)}function _t(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)_t(t,e[o],n,i,r);else i=C(i)?!!i.capture:!!i,n=At(n),t&&t[at]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=yt(o=t.g[e],n,i,r))&&(lt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=Ct(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yt(e,n,i,r)),(n=-1<t?e[t]:null)&&xt(n))}function xt(t){if("number"!==typeof t&&t&&!t.fa){var e=t.src;if(e&&e[at])pt(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(St(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Ct(e))?(pt(n,t),0==n.h&&(n.src=null,e[mt]=null)):lt(t)}}}function St(t){return t in gt?gt[t]:gt[t]="on"+t}function Et(t,e){if(t.fa)t=!0;else{e=new rt(e,this);var n=t.listener,i=t.la||t.src;t.ia&&xt(t),t=n.call(i,e)}return t}function Ct(t){return(t=t[mt])instanceof vt?t:null}var Tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(t){return"function"===typeof t?t:(t[Tt]||(t[Tt]=function(e){return t.handleEvent(e)}),t[Tt])}function Ot(){R.call(this),this.i=new vt(this),this.S=this,this.J=null}function Zt(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,"string"===typeof e)e=new F(e,t);else if(e instanceof F)e.target=e.target||t;else{var r=e;dt(e=new F(i,t),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];r=Mt(a,i,!0,e)&&r}if(r=Mt(a=e.g=t,i,!0,e)&&r,r=Mt(a,i,!1,e)&&r,n)for(o=0;o<n.length;o++)r=Mt(a=e.g=n[o],i,!1,e)&&r}function Mt(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,u=a.la||a.src;a.ia&&pt(t.i,a),r=!1!==s.call(u,i)&&r}}return r&&!i.defaultPrevented}L(Ot,R),Ot.prototype[at]=!0,Ot.prototype.removeEventListener=function(t,e,n,i){_t(this,t,e,n,i)},Ot.prototype.N=function(){if(Ot.$.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)lt(n[i]);delete e.g[t],e.h--}}this.J=null},Ot.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},Ot.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var It=S.JSON.stringify,Lt=function(){function t(e,n){(0,p.Z)(this,t),this.i=e,this.j=n,this.h=0,this.g=null}return(0,y.Z)(t,[{key:"get",value:function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}]),t}();function Rt(){var t=zt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Nt=function(){function t(){(0,p.Z)(this,t),this.h=this.g=null}return(0,y.Z)(t,[{key:"add",value:function(t,e){var n=Dt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}}]),t}(),Dt=new Lt((function(){return new Pt}),(function(t){return t.reset()})),Pt=function(){function t(){(0,p.Z)(this,t),this.next=this.g=this.h=null}return(0,y.Z)(t,[{key:"set",value:function(t,e){this.h=t,this.g=e,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),t}();function Ft(t){var e=1;t=t.split(":");for(var n=[];0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Bt(t){S.setTimeout((function(){throw t}),0)}var Vt,Ut=!1,zt=new Nt,jt=function(){var t=S.Promise.resolve(void 0);Vt=function(){t.then(qt)}},qt=function(){for(var t;t=Rt();){try{t.h.call(t.g)}catch(n){Bt(n)}var e=Dt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ut=!1};function Wt(t,e){Ot.call(this),this.h=t||1,this.g=e||S,this.j=M(this.qb,this),this.l=Date.now()}function Ht(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Kt(t,e,n){if("function"===typeof t)n&&(t=M(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=M(t.handleEvent,t)}return 2147483647<Number(e)?-1:S.setTimeout(t,e||0)}function Gt(t){t.g=Kt((function(){t.g=null,t.i&&(t.i=!1,Gt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}L(Wt,Ot),(i=Wt.prototype).ga=!1,i.T=null,i.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zt(this,"tick"),this.ga&&(Ht(this),this.start()))}},i.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.N=function(){Wt.$.N.call(this),Ht(this),delete this.g};var Qt=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this)).m=t,r.j=i,r.h=null,r.i=!1,r.g=null,r}return(0,y.Z)(n,[{key:"l",value:function(t){this.h=arguments,this.g?this.i=!0:Gt(this)}},{key:"N",value:function(){(0,o.Z)((0,a.Z)(n.prototype),"N",this).call(this),this.g&&(S.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(R);function $t(t){R.call(this),this.h=t,this.g={}}L($t,R);var Jt=[];function Xt(t,e,n,i){Array.isArray(n)||(n&&(Jt[0]=n.toString()),n=Jt);for(var r=0;r<n.length;r++){var o=wt(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Yt(t){ct(t.g,(function(t,e){this.g.hasOwnProperty(e)&&xt(t)}),t),t.g={}}function te(){this.g=!0}function ee(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<r.length;a++)r[a]=""}}}return It(n)}catch(s){return e}}(t,n)+(i?" "+i:"")}))}$t.prototype.N=function(){$t.$.N.call(this),Yt(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},te.prototype.Ea=function(){this.g=!1},te.prototype.info=function(){};var ne={},ie=null;function re(){return ie=ie||new Ot}function oe(t){F.call(this,ne.Ta,t)}function ae(t){var e=re();Zt(e,new oe(e))}function se(t,e){F.call(this,ne.STAT_EVENT,t),this.stat=e}function ue(t){var e=re();Zt(e,new se(e,t))}function le(t,e){F.call(this,ne.Ua,t),this.size=e}function ce(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return S.setTimeout((function(){t()}),e)}ne.Ta="serverreachability",L(oe,F),ne.STAT_EVENT="statevent",L(se,F),ne.Ua="timingevent",L(le,F);var he={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},fe={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function de(){}function ve(t){return t.h||(t.h=t.i())}function pe(){}de.prototype.h=null;var ye,me={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ge(){F.call(this,"d")}function we(){F.call(this,"c")}function be(){}function ke(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new $t(this),this.P=xe,t=Q?125:void 0,this.V=new Wt(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}L(ge,F),L(we,F),L(be,de),be.prototype.g=function(){return new XMLHttpRequest},be.prototype.i=function(){return{}},ye=new be;var xe=45e3,Se={},Ee={};function Ce(t,e,n){t.L=1,t.v=We(Ve(e)),t.s=n,t.S=!0,Te(t,null)}function Te(t,e){t.G=Date.now(),Me(t),t.A=Ve(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),on(n.i,"t",i),t.C=0,n=t.l.J,t.h=new _e,t.g=ai(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Qt(M(t.Pa,t,t.g),t.O)),Xt(t.U,t.g,"readystatechange",t.nb),e=t.I?ht(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ae(),function(t,e,n,i,r,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.W,t.s)}function Ae(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.l.Ha)}function Oe(t,e,n){for(var i,r=!0;!t.J&&t.C<n.length;){if((i=Ze(t,n))==Ee){4==e&&(t.o=4,ue(14),r=!1),ee(t.j,t.m,null,"[Incomplete Response]");break}if(i==Se){t.o=4,ue(15),ee(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ee(t.j,t.m,i,null),De(t,i)}Ae(t)&&i!=Ee&&i!=Se&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ue(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xn(e),e.M=!0,ue(11))):(ee(t.j,t.m,n,"[Invalid Chunked Response]"),Ne(t),Re(t))}function Ze(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?Ee:(n=Number(e.substring(n,i)),isNaN(n)?Se:(i+=1)+n>e.length?Ee:(e=e.slice(i,i+n),t.C=i+n,e))}function Me(t){t.Y=Date.now()+t.P,Ie(t,t.P)}function Ie(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ce(M(t.lb,t),e)}function Le(t){t.B&&(S.clearTimeout(t.B),t.B=null)}function Re(t){0==t.l.H||t.J||ei(t.l,t)}function Ne(t){Le(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Ht(t.V),Yt(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function De(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||fn(n.i,t)))if(!t.K&&fn(n.i,t)&&3==n.H){try{var i=n.Ja.g.parse(e)}catch(o){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break t;ti(n),qn(n)}Jn(n),ue(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&0==n.A&&!n.v&&(n.v=ce(M(n.ib,n),6e3));if(1>=hn(n.i)&&n.oa){try{n.oa()}catch(o){}n.oa=void 0}}else ii(n,11)}else if((t.K||n.g==t)&&ti(n),!V(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){var o=r[e];if(n.V=o[0],o=o[1],2==n.H)if("c"==o[0]){n.K=o[1],n.pa=o[2];var a=o[3];null!=a&&(n.ra=a,n.l.info("VER="+n.ra));var s=o[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;var l=t.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=i.i;h.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(dn(h,h.h),h.h=null))}if(i.F){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(i.Da=f,qe(i.I,i.F,f))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=t;if((i=n).wa=oi(i,i.J?i.pa:null,i.Y),d.K){vn(i.i,d);var v=d,p=i.L;p&&v.setTimeout(p),v.B&&(Le(v),Me(v)),i.g=d}else $n(i);0<n.j.length&&Hn(n)}else"stop"!=o[0]&&"close"!=o[0]||ii(n,7);else 3==n.H&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?ii(n,7):jn(n):"noop"!=o[0]&&n.h&&n.h.Aa(o),n.A=0)}ae()}catch(o){}}function Pe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(E(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(E(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}}(t),i=function(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(E(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(i=ke.prototype).setTimeout=function(t){this.P=t},i.nb=function(t){t=t.target;var e=this.M;e&&3==Pn(t)?e.l():this.Pa(t)},i.Pa=function(t){try{if(t==this.g)t:{var e=Pn(this.g),n=this.g.Ia();this.g.da();if(!(3>e)&&(3!=e||Q||this.g&&(this.h.h||this.g.ja()||Fn(this.g)))){this.J||4!=e||7==n||ae(),Le(this);var i=this.g.da();this.ca=i;e:if(Ae(this)){var r=Fn(this.g);t="";var o=r.length,a=4==Pn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ne(this),Re(this);var s="";break e}this.h.i=new S.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(r[n],{stream:a&&n==o-1});r.splice(0,o),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==i,function(t,e,n,i,r,o,a){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.W,e,i),this.i){if(this.aa&&!this.K){e:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(u)){var c=u;break e}}c=null}if(!(i=c)){this.i=!1,this.o=3,ue(12),Ne(this),Re(this);break t}ee(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,De(this,i)}this.S?(Oe(this,e,s),Q&&this.i&&3==e&&(Xt(this.U,this.V,"tick",this.mb),this.V.start())):(ee(this.j,this.m,s,null),De(this,s)),4==e&&Ne(this),this.i&&!this.J&&(4==e?ei(this.l,this):(this.i=!1,Me(this)))}else(function(t){var e={};t=(t.g&&2<=Pn(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<t.length;n++)if(!V(t[n])){var i=Ft(t[n]),r=i[0];if("string"===typeof(i=i[1])){i=i.trim();var o=e[r]||[];e[r]=o,o.push(i)}}!function(t,e){for(var n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ue(12)):(this.o=0,ue(13)),Ne(this),Re(this)}}}catch(e){}},i.mb=function(){if(this.g){var t=Pn(this.g),e=this.g.ja();this.C<e.length&&(Le(this),Oe(this,t,e),this.i&&4!=t&&Me(this))}},i.cancel=function(){this.J=!0,Ne(this)},i.lb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.L&&(ae(),ue(17)),Ne(this),this.o=2,Re(this)):Ie(this,this.Y-t)};var Fe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Be(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Be){this.h=t.h,Ue(this,t.j),this.s=t.s,this.g=t.g,ze(this,t.m),this.l=t.l;var e=t.i,n=new tn;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),je(this,n),this.o=t.o}else t&&(e=String(t).match(Fe))?(this.h=!1,Ue(this,e[1]||"",!0),this.s=He(e[2]||""),this.g=He(e[3]||"",!0),ze(this,e[4]),this.l=He(e[5]||"",!0),je(this,e[6]||"",!0),this.o=He(e[7]||"")):(this.h=!1,this.i=new tn(null,this.h))}function Ve(t){return new Be(t)}function Ue(t,e,n){t.j=n?He(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ze(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function je(t,e,n){e instanceof tn?(t.i=e,function(t,e){e&&!t.j&&(en(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(nn(this,e),on(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=Ke(e,Xe)),t.i=new tn(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function We(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function He(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ke(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Ge),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ge(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Be.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ke(e,Qe,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ke(e,Qe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ke(n,"/"==n.charAt(0)?Je:$e,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ke(n,Ye)),t.join("")};var Qe=/[#\/\?@]/g,$e=/[#\?:]/g,Je=/[#\?]/g,Xe=/[#\?@]/g,Ye=/#/g;function tn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function en(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function nn(t,e){en(t),e=an(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rn(t,e){return en(t),e=an(t,e),t.g.has(e)}function on(t,e,n){nn(t,e),0<n.length&&(t.i=null,t.g.set(an(t,e),D(n)),t.h+=n.length)}function an(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(i=tn.prototype).add=function(t,e){en(this),this.i=null,t=an(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},i.forEach=function(t,e){en(this),this.g.forEach((function(n,i){n.forEach((function(n){t.call(e,n,i,this)}),this)}),this)},i.ta=function(){en(this);for(var t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},i.Z=function(t){en(this);var e=[];if("string"===typeof t)rn(this,t)&&(e=e.concat(this.g.get(an(this,t))));else{t=Array.from(this.g.values());for(var n=0;n<t.length;n++)e=e.concat(t[n])}return e},i.set=function(t,e){return en(this),this.i=null,rn(this,t=an(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},i.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=Array.from(this.g.keys()),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var a=r;""!==o[i]&&(a+="="+encodeURIComponent(String(o[i]))),t.push(a)}}return this.i=t.join("&")};var sn=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.g=e,this.map=n}));function un(t){this.l=t||ln,S.PerformanceNavigationTiming?t=0<(t=S.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(S.g&&S.g.Ka&&S.g.Ka()&&S.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ln=10;function cn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function hn(t){return t.h?1:t.g?t.g.size:0}function fn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function dn(t,e){t.g?t.g.add(e):t.h=e}function vn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function pn(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){var e,n=t.i,i=(0,l.Z)(t.g.values());try{for(i.s();!(e=i.n()).done;){var r=e.value;n=n.concat(r.F)}}catch(o){i.e(o)}finally{i.f()}return n}return D(t.i)}un.prototype.cancel=function(){if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var t,e=(0,l.Z)(this.g.values());try{for(e.s();!(t=e.n()).done;){t.value.cancel()}}catch(n){e.e(n)}finally{e.f()}this.g.clear()}};var yn,mn=function(){function t(){(0,p.Z)(this,t)}return(0,y.Z)(t,[{key:"stringify",value:function(t){return S.JSON.stringify(t,void 0)}},{key:"parse",value:function(t){return S.JSON.parse(t,void 0)}}]),t}();function gn(){this.g=new mn}function wn(t,e,n){var i=n||"";try{Pe(t,(function(t,n){var r=t;C(t)&&(r=It(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function bn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}function kn(t){this.l=t.ec||null,this.j=t.ob||!1}function _n(t,e){Ot.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=xn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}L(kn,de),kn.prototype.g=function(){return new _n(this.l,this.j)},kn.prototype.i=(yn={},function(){return yn}),L(_n,Ot);var xn=0;function Sn(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function En(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Cn(t)}function Cn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(i=_n.prototype).open=function(t,e){if(this.readyState!=xn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Cn(this)},i.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||S).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,En(this)),this.readyState=xn},i.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Cn(this)),this.g&&(this.readyState=3,Cn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof S.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sn(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},i.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?En(this):Cn(this),3==this.readyState&&Sn(this)}},i.Za=function(t){this.g&&(this.response=this.responseText=t,En(this))},i.Ya=function(t){this.g&&(this.response=t,En(this))},i.ka=function(){this.g&&En(this)},i.setRequestHeader=function(t,e){this.v.append(t,e)},i.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(_n.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Tn=S.JSON.parse;function An(t){Ot.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=On,this.L=this.M=!1}L(An,Ot);var On="",Zn=/^https?$/i,Mn=["POST","PUT"];function In(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ln(t),Nn(t)}function Ln(t){t.F||(t.F=!0,Zt(t,"complete"),Zt(t,"error"))}function Rn(t){if(t.h&&"undefined"!=typeof x&&(!t.C[1]||4!=Pn(t)||2!=t.da()))if(t.v&&4==Pn(t))Kt(t.La,0,t);else if(Zt(t,"readystatechange"),4==Pn(t)){t.h=!1;try{var e,n=t.da();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.I).match(Fe)[1]||null;!o&&S.self&&S.self.location&&(o=S.self.location.protocol.slice(0,-1)),r=!Zn.test(o?o.toLowerCase():"")}e=r}if(e)Zt(t,"complete"),Zt(t,"success");else{t.m=6;try{var a=2<Pn(t)?t.g.statusText:""}catch(s){a=""}t.j=a+" ["+t.da()+"]",Ln(t)}}finally{Nn(t)}}}function Nn(t,e){if(t.g){Dn(t);var n=t.g,i=t.C[0]?function(){}:null;t.g=null,t.C=null,e||Zt(t,"ready");try{n.onreadystatechange=i}catch(r){}}}function Dn(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(S.clearTimeout(t.A),t.A=null)}function Pn(t){return t.g?t.g.readyState:0}function Fn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case On:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(Wi){return null}}function Bn(t){var e="";return ct(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Vn(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Bn(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):qe(t,e,n))}function Un(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zn(t){this.Ga=0,this.j=[],this.l=new te,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Un("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Un("baseRetryDelayMs",5e3,t),this.hb=Un("retryDelaySeedMs",1e4,t),this.eb=Un("forwardChannelMaxRetries",2,t),this.xa=Un("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new un(t&&t.concurrentRequestLimit),this.Ja=new gn,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function jn(t){if(Wn(t),3==t.H){var e=t.W++,n=Ve(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),Gn(t,n),(e=new ke(t,t.l,e)).L=2,e.v=We(Ve(n)),n=!1,S.navigator&&S.navigator.sendBeacon)try{n=S.navigator.sendBeacon(e.v.toString(),"")}catch(i){}!n&&S.Image&&((new Image).src=e.v,n=!0),n||(e.g=ai(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Me(e)}ri(t)}function qn(t){t.g&&(Xn(t),t.g.cancel(),t.g=null)}function Wn(t){qn(t),t.u&&(S.clearTimeout(t.u),t.u=null),ti(t),t.i.cancel(),t.m&&("number"===typeof t.m&&S.clearTimeout(t.m),t.m=null)}function Hn(t){if(!cn(t.i)&&!t.m){t.m=!0;var e=t.Na;Vt||jt(),Ut||(Vt(),Ut=!0),zt.add(e,t),t.C=0}}function Kn(t,e){var n;n=e?e.m:t.W++;var i=Ve(t.I);qe(i,"SID",t.K),qe(i,"RID",n),qe(i,"AID",t.V),Gn(t,i),t.o&&t.s&&Vn(i,t.o,t.s),n=new ke(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Qn(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),dn(t.i,n),Ce(n,i,e)}function Gn(t,e){t.na&&ct(t.na,(function(t,n){qe(e,n,t)})),t.h&&Pe({},(function(t,n){qe(e,n,t)}))}function Qn(t,e,n){n=Math.min(t.j.length,n);var i=t.h?M(t.h.Va,t.h,t):null;t:for(var r=t.j,o=-1;;){var a=["count="+n];-1==o?0<n?(o=r[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var l=r[u].g,c=r[u].map;if(0>(l-=o))o=Math.max(0,r[u].g-100),s=!1;else try{wn(c,a,"req"+l+"_")}catch(h){i&&i(c)}}if(s){i=a.join("&");break t}}return t=t.j.splice(0,n),e.F=t,i}function $n(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Vt||jt(),Ut||(Vt(),Ut=!0),zt.add(e,t),t.A=0}}function Jn(t){return!(t.g||t.u||3<=t.A)&&(t.ba++,t.u=ce(M(t.Ma,t),ni(t,t.A)),t.A++,!0)}function Xn(t){null!=t.B&&(S.clearTimeout(t.B),t.B=null)}function Yn(t){t.g=new ke(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ve(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),Gn(t,e),t.o&&t.s&&Vn(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=We(Ve(e)),n.s=null,n.S=!0,Te(n,t)}function ti(t){null!=t.v&&(S.clearTimeout(t.v),t.v=null)}function ei(t,e){var n=null;if(t.g==e){ti(t),Xn(t),t.g=null;var i=2}else{if(!fn(t.i,e))return;n=e.F,vn(t.i,e),i=1}if(0!=t.H)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;Zt(i=re(),new le(i,n)),Hn(t)}else $n(t);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function(t,e){return!(hn(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.j=e.F.concat(t.j),!0):!(1==t.H||2==t.H||t.C>=(t.cb?0:t.eb))&&(t.m=ce(M(t.Na,t,e),ni(t,t.C)),t.C++,!0))}(t,e)||2==i&&Jn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:ii(t,5);break;case 4:ii(t,10);break;case 3:ii(t,6);break;default:ii(t,2)}}function ni(t,e){var n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ii(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var i=M(t.pb,t);n||(n=new Be("//www.google.com/images/cleardot.gif"),S.location&&"http"==S.location.protocol||Ue(n,"https"),We(n)),function(t,e){var n=new te;if(S.Image){var i=new Image;i.onload=I(bn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=I(bn,n,i,"TestLoadImage: error",!1,e),i.onabort=I(bn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=I(bn,n,i,"TestLoadImage: timeout",!1,e),S.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else ue(2);t.H=0,t.h&&t.h.za(e),ri(t),Wn(t)}function ri(t){if(t.H=0,t.ma=[],t.h){var e=pn(t.i);0==e.length&&0==t.j.length||(P(t.ma,e),P(t.ma,t.j),t.i.i.length=0,D(t.j),t.j.length=0),t.h.ya()}}function oi(t,e,n){var i=n instanceof Be?Ve(n):new Be(n);if(""!=i.g)e&&(i.g=e+"."+i.g),ze(i,i.m);else{var r=S.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Be(null);i&&Ue(o,i),e&&(o.g=e),r&&ze(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&qe(i,n,e),qe(i,"VER",t.ra),Gn(t,i),i}function ai(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ha&&!t.va?new An(new kn({ob:!0})):new An(t.va)).Oa(t.J),e}function si(){}function ui(){if(K&&!(10<=Number(it)))throw Error("Environmental error: no available transport.")}function li(t,e){Ot.call(this),this.g=new zn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!V(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!V(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new fi(this)}function ci(t){ge.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function hi(){we.call(this),this.status=1}function fi(t){this.g=t}function di(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function vi(t,e,n){n||(n=0);var i=Array(16);if("string"===typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],a=e+(o^n&(r^o))+i[0]+3614090360&4294967295;a=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=n+(a<<7&4294967295|a>>>25))+((a=o+(r^e&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^o&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^n&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^e&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^o&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^n&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^e&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^o&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^n&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^e&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^o&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(r^o&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^r&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(e^n&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(r^o&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^r&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(e^n&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(r^o&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^r&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(e^n&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(r^o&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^r&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(e^n&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(n^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^r^o)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^e^n)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(r^(n|~o))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(e^(o|~n))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(r^(n|~o))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(e^(o|~n))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(r^(n|~o))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(e^(o|~n))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(e=n+((a=e+(r^(n|~o))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=o+((a=r+(e^(o|~n))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}function pi(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=0|t[r];i&&o==e||(n[r]=o,i=!1)}this.g=n}(i=An.prototype).Oa=function(t){this.M=t},i.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ye.g(),this.C=this.u?ve(this.u):ve(ye),this.g.onreadystatechange=M(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(u){return void In(this,u)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));var o,a=(0,l.Z)(i.keys());try{for(a.s();!(o=a.n()).done;){var u=o.value;n.set(u,i.get(u))}}catch(p){a.e(p)}finally{a.f()}}i=Array.from(n.keys()).find((function(t){return"content-type"==t.toLowerCase()})),r=S.FormData&&t instanceof S.FormData,!(0<=N(Mn,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,h=(0,l.Z)(n);try{for(h.s();!(c=h.n()).done;){var f=(0,s.Z)(c.value,2),d=f[0],v=f[1];this.g.setRequestHeader(d,v)}}catch(p){h.e(p)}finally{h.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Dn(this),0<this.B&&((this.L=function(t){return K&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=M(this.ua,this)):this.A=Kt(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){In(this,u)}},i.ua=function(){"undefined"!=typeof x&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zt(this,"timeout"),this.abort(8))},i.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Zt(this,"complete"),Zt(this,"abort"),Nn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nn(this,!0)),An.$.N.call(this)},i.La=function(){this.s||(this.G||this.v||this.l?Rn(this):this.kb())},i.kb=function(){Rn(this)},i.isActive=function(){return!!this.g},i.da=function(){try{return 2<Pn(this)?this.g.status:-1}catch(yn){return-1}},i.ja=function(){try{return this.g?this.g.responseText:""}catch(yn){return""}},i.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Tn(e)}},i.Ia=function(){return this.m},i.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(i=zn.prototype).ra=8,i.H=1,i.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;var e=new ke(this,this.l,t),n=this.s;if(this.U&&(n?dt(n=ht(n),this.U):n=this.U),null!==this.o||this.O||(e.I=n,n=null),this.P)t:{for(var i=0,r=0;r<this.j.length;r++){var o=this.j[r];if(void 0===(o="__data__"in o.map&&"string"===typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(i+=o)){i=r;break t}if(4096===i||r===this.j.length-1){i=r+1;break t}}i=1e3}else i=1e3;i=Qn(this,e,i),qe(r=Ve(this.I),"RID",t),qe(r,"CVER",22),this.F&&qe(r,"X-HTTP-Session-Id",this.F),Gn(this,r),n&&(this.O?i="headers="+encodeURIComponent(String(Bn(n)))+"&"+i:this.o&&Vn(r,this.o,n)),dn(this.i,e),this.bb&&qe(r,"TYPE","init"),this.P?(qe(r,"$req",i),qe(r,"SID","null"),e.aa=!0,Ce(e,r,null)):Ce(e,r,i),this.H=2}}else 3==this.H&&(t?Kn(this,t):0==this.j.length||cn(this.i)||Kn(this))},i.Ma=function(){if(this.u=null,Yn(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ce(M(this.jb,this),t)}},i.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ue(10),qn(this),Yn(this))},i.ib=function(){null!=this.v&&(this.v=null,qn(this),Jn(this),ue(19))},i.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ue(2)):(this.l.info("Failed to ping google.com"),ue(1))},i.isActive=function(){return!!this.h&&this.h.isActive(this)},(i=si.prototype).Ba=function(){},i.Aa=function(){},i.za=function(){},i.ya=function(){},i.isActive=function(){return!0},i.Va=function(){},ui.prototype.g=function(t,e){return new li(t,e)},L(li,Ot),li.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ue(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=oi(t,null,t.Y),Hn(t)},li.prototype.close=function(){jn(this.g)},li.prototype.u=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=It(t),t=n);e.j.push(new sn(e.fb++,t)),3==e.H&&Hn(e)},li.prototype.N=function(){this.g.h=null,delete this.j,jn(this.g),delete this.g,li.$.N.call(this)},L(ci,ge),L(hi,we),L(fi,si),fi.prototype.Ba=function(){Zt(this.g,"a")},fi.prototype.Aa=function(t){Zt(this.g,new ci(t))},fi.prototype.za=function(t){Zt(this.g,new hi)},fi.prototype.ya=function(){Zt(this.g,"b")},L(di,(function(){this.blockSize=-1})),di.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},di.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=n;)vi(this,t,o),o+=this.blockSize;if("string"===typeof t){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){vi(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){vi(this,i),r=0;break}}this.h=r,this.i+=e},di.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};var yi={};function mi(t){return-128<=t&&128>t?function(t,e){var n=yi;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new pi([0|t],0>t?-1:0)})):new pi([0|t],0>t?-1:0)}function gi(t){if(isNaN(t)||!isFinite(t))return bi;if(0>t)return Ei(gi(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=wi;return new pi(e,0)}var wi=4294967296,bi=mi(0),ki=mi(1),_i=mi(16777216);function xi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Si(t){return-1==t.h}function Ei(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new pi(n,~t.h).add(ki)}function Ci(t,e){return t.add(Ei(e))}function Ti(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ai(t,e){this.g=t,this.h=e}function Oi(t,e){if(xi(e))throw Error("division by zero");if(xi(t))return new Ai(bi,bi);if(Si(t))return e=Oi(Ei(t),e),new Ai(Ei(e.g),Ei(e.h));if(Si(e))return e=Oi(t,Ei(e)),new Ai(Ei(e.g),e.h);if(30<t.g.length){if(Si(t)||Si(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ki,i=e;0>=i.X(t);)n=Zi(n),i=Zi(i);var r=Mi(n,1),o=Mi(i,1);for(i=Mi(i,2),n=Mi(n,2);!xi(i);){var a=o.add(i);0>=a.X(t)&&(r=r.add(n),o=a),i=Mi(i,1),n=Mi(n,1)}return e=Ci(t,r.R(e)),new Ai(r,e)}for(r=bi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),a=(o=gi(n)).R(e);Si(a)||0<a.X(t);)a=(o=gi(n-=i)).R(e);xi(o)&&(o=ki),r=r.add(o),t=Ci(t,a)}return new Ai(r,t)}function Zi(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new pi(n,t.h)}function Mi(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new pi(r,t.h)}(i=pi.prototype).ea=function(){if(Si(this))return-Ei(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:wi+i)*e,e*=wi}return t},i.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(xi(this))return"0";if(Si(this))return"-"+Ei(this).toString(t);for(var e=gi(Math.pow(t,6)),n=this,i="";;){var r=Oi(n,e).g,o=((0<(n=Ci(n,r.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(xi(n=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},i.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},i.X=function(t){return Si(t=Ci(this,t))?-1:xi(t)?0:1},i.abs=function(){return Si(this)?Ei(this):this},i.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&t.D(r)),a=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=a>>>16,o&=65535,a&=65535,n[r]=a<<16|o}return new pi(n,-2147483648&n[n.length-1]?-1:0)},i.R=function(t){if(xi(this)||xi(t))return bi;if(Si(this))return Si(t)?Ei(this).R(Ei(t)):Ei(Ei(this).R(t));if(Si(t))return Ei(this.R(Ei(t)));if(0>this.X(_i)&&0>t.X(_i))return gi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,a=65535&this.D(i),s=t.D(r)>>>16,u=65535&t.D(r);n[2*i+2*r]+=a*u,Ti(n,2*i+2*r),n[2*i+2*r+1]+=o*u,Ti(n,2*i+2*r+1),n[2*i+2*r+1]+=a*s,Ti(n,2*i+2*r+1),n[2*i+2*r+2]+=o*s,Ti(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new pi(n,0)},i.gb=function(t){return Oi(this,t).h},i.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new pi(n,this.h&t.h)},i.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new pi(n,this.h|t.h)},i.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new pi(n,this.h^t.h)},ui.prototype.createWebChannel=ui.prototype.g,li.prototype.send=li.prototype.u,li.prototype.open=li.prototype.m,li.prototype.close=li.prototype.close,he.NO_ERROR=0,he.TIMEOUT=8,he.HTTP_ERROR=6,fe.COMPLETE="complete",pe.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",Ot.prototype.listen=Ot.prototype.O,An.prototype.listenOnce=An.prototype.P,An.prototype.getLastError=An.prototype.Sa,An.prototype.getLastErrorCode=An.prototype.Ia,An.prototype.getStatus=An.prototype.da,An.prototype.getResponseJson=An.prototype.Wa,An.prototype.getResponseText=An.prototype.ja,An.prototype.send=An.prototype.ha,An.prototype.setWithCredentials=An.prototype.Oa,di.prototype.digest=di.prototype.l,di.prototype.reset=di.prototype.reset,di.prototype.update=di.prototype.j,pi.prototype.add=pi.prototype.add,pi.prototype.multiply=pi.prototype.R,pi.prototype.modulo=pi.prototype.gb,pi.prototype.compare=pi.prototype.X,pi.prototype.toNumber=pi.prototype.ea,pi.prototype.toString=pi.prototype.toString,pi.prototype.getBits=pi.prototype.D,pi.fromNumber=gi,pi.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return Ei(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=gi(Math.pow(n,8)),r=bi,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),s=parseInt(e.substring(o,o+a),n);8>a?(a=gi(Math.pow(n,a)),r=r.R(a).add(gi(s))):r=(r=r.R(i)).add(gi(s))}return r};var Ii=_.createWebChannelTransport=function(){return new ui},Li=_.getStatEventTarget=function(){return re()},Ri=_.ErrorCode=he,Ni=_.EventType=fe,Di=_.Event=ne,Pi=_.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fi=_.FetchXmlHttpFactory=kn,Bi=_.WebChannel=pe,Vi=_.XhrIo=An,Ui=_.Md5=di,zi=_.Integer=pi,ji="@firebase/firestore",qi=function(){function t(e){(0,p.Z)(this,t),this.uid=e}return(0,y.Z)(t,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(t){return t.uid===this.uid}}]),t}();qi.UNAUTHENTICATED=new qi(null),qi.GOOGLE_CREDENTIALS=new qi("google-credentials-uid"),qi.FIRST_PARTY=new qi("first-party-uid"),qi.MOCK_USER=new qi("mock-user");var Wi="10.5.2",Hi=new w.Yd("@firebase/firestore");function Ki(){return Hi.logLevel}function Gi(t){if(Hi.logLevel<=w.in.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=n.map(Ji);Hi.debug.apply(Hi,["Firestore (".concat(Wi,"): ").concat(t)].concat((0,v.Z)(r)))}}function Qi(t){if(Hi.logLevel<=w.in.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=n.map(Ji);Hi.error.apply(Hi,["Firestore (".concat(Wi,"): ").concat(t)].concat((0,v.Z)(r)))}}function $i(t){if(Hi.logLevel<=w.in.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=n.map(Ji);Hi.warn.apply(Hi,["Firestore (".concat(Wi,"): ").concat(t)].concat((0,v.Z)(r)))}}function Ji(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function Xi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",e="FIRESTORE (".concat(Wi,") INTERNAL ASSERTION FAILED: ")+t;throw Qi(e),new Error(e)}function Yi(t,e){t||Xi()}function tr(t,e){return t}var er={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},nr=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this,t,i)).code=t,r.message=i,r.toString=function(){return"".concat(r.name,": [code=").concat(r.code,"]: ").concat(r.message)},r}return(0,y.Z)(n)}(b.ZR),ir=(0,y.Z)((function t(){var e=this;(0,p.Z)(this,t),this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))})),rr=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))})),or=function(){function t(){(0,p.Z)(this,t)}return(0,y.Z)(t,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(t,e){t.enqueueRetryable((function(){return e(qi.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),t}(),ar=function(){function t(e){(0,p.Z)(this,t),this.token=e,this.changeListener=null}return(0,y.Z)(t,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),t}(),sr=function(){function t(e){(0,p.Z)(this,t),this.t=e,this.currentUser=qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,y.Z)(t,[{key:"start",value:function(t,e){var n=this,i=this.i,r=function(t){return n.i!==i?(i=n.i,e(t)):Promise.resolve()},o=new ir;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new ir,t.enqueueRetryable((function(){return r(n.currentUser)}))};var a=function(){var e=o;t.enqueueRetryable((0,h.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.promise;case 2:return t.next=4,r(n.currentUser);case 4:case"end":return t.stop()}}),t)}))))},s=function(t){Gi("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=t,n.auth.addAuthTokenListener(n.o),a()};this.t.onInit((function(t){return s(t)})),setTimeout((function(){if(!n.auth){var t=n.t.getImmediate({optional:!0});t?s(t):(Gi("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ir)}}),0),a()}},{key:"getToken",value:function(){var t=this,e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.i!==e?(Gi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Yi("string"==typeof n.accessToken),new rr(n.accessToken,t.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var t=this.auth&&this.auth.getUid();return Yi(null===t||"string"==typeof t),new qi(t)}}]),t}(),ur=function(){function t(e,n,i){(0,p.Z)(this,t),this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=qi.FIRST_PARTY,this.I=new Map}return(0,y.Z)(t,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),t}(),lr=function(){function t(e,n,i){(0,p.Z)(this,t),this.l=e,this.h=n,this.P=i}return(0,y.Z)(t,[{key:"getToken",value:function(){return Promise.resolve(new ur(this.l,this.h,this.P))}},{key:"start",value:function(t,e){t.enqueueRetryable((function(){return e(qi.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),t}(),cr=(0,y.Z)((function t(e){(0,p.Z)(this,t),this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),hr=function(){function t(e){(0,p.Z)(this,t),this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}return(0,y.Z)(t,[{key:"start",value:function(t,e){var n=this,i=function(t){null!=t.error&&Gi("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));var i=t.token!==n.R;return n.R=t.token,Gi("FirebaseAppCheckTokenProvider","Received ".concat(i?"new":"existing"," token.")),i?e(t.token):Promise.resolve()};this.o=function(e){t.enqueueRetryable((function(){return i(e)}))};var r=function(t){Gi("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=t,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(t){return r(t)})),setTimeout((function(){if(!n.appCheck){var t=n.A.getImmediate({optional:!0});t?r(t):Gi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var t=this,e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Yi("string"==typeof e.token),t.R=e.token,new cr(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),t}();function fr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var dr=function(){function t(){(0,p.Z)(this,t)}return(0,y.Z)(t,null,[{key:"newId",value:function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62),n="";n.length<20;)for(var i=fr(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%62));return n}}]),t}();function vr(t,e){return t<e?-1:t>e?1:0}function pr(t,e,n){return t.length===e.length&&t.every((function(t,i){return n(t,e[i])}))}var yr=function(){function t(e,n){if((0,p.Z)(this,t),this.seconds=e,this.nanoseconds=n,n<0)throw new nr(er.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new nr(er.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new nr(er.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nr(er.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return(0,y.Z)(t,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(t){return this.seconds===t.seconds?vr(this.nanoseconds,t.nanoseconds):vr(this.seconds,t.seconds)}},{key:"isEqual",value:function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return t.fromMillis(Date.now())}},{key:"fromDate",value:function(e){return t.fromMillis(e.getTime())}},{key:"fromMillis",value:function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))}}]),t}(),mr=function(){function t(e){(0,p.Z)(this,t),this.timestamp=e}return(0,y.Z)(t,[{key:"compareTo",value:function(t){return this.timestamp._compareTo(t.timestamp)}},{key:"isEqual",value:function(t){return this.timestamp.isEqual(t.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(e){return new t(e)}},{key:"min",value:function(){return new t(new yr(0,0))}},{key:"max",value:function(){return new t(new yr(253402300799,999999999))}}]),t}(),gr=function(){function t(e,n,i){(0,p.Z)(this,t),void 0===n?n=0:n>e.length&&Xi(),void 0===i?i=e.length-n:i>e.length-n&&Xi(),this.segments=e,this.offset=n,this.len=i}return(0,y.Z)(t,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(e){return 0===t.comparator(this,e)}},{key:"child",value:function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(t){return this.segments[this.offset+t]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}},{key:"isImmediateParentOf",value:function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}},{key:"forEach",value:function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}]),t}(),wr=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(){return(0,p.Z)(this,n),e.apply(this,arguments)}return(0,y.Z)(n,[{key:"construct",value:function(t,e,i){return new n(t,e,i)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var t=[],e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];for(var o=0,a=i;o<a.length;o++){var s=a[o];if(s.indexOf("//")>=0)throw new nr(er.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));t.push.apply(t,(0,v.Z)(s.split("/").filter((function(t){return t.length>0}))))}return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(gr),br=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kr=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(){return(0,p.Z)(this,n),e.apply(this,arguments)}return(0,y.Z)(n,[{key:"construct",value:function(t,e,i){return new n(t,e,i)}},{key:"canonicalString",value:function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(t){return br.test(t)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(t){for(var e=[],i="",r=0,o=function(){if(0===i.length)throw new nr(er.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(i),i=""},a=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new nr(er.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[r+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new nr(er.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else"`"===s?(a=!a,r++):"."!==s||a?(i+=s,r++):(o(),r++)}if(o(),a)throw new nr(er.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(gr),_r=function(){function t(e){(0,p.Z)(this,t),this.path=e}return(0,y.Z)(t,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(t){return null!==t&&0===wr.comparator(this.path,t.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(e){return new t(wr.fromString(e))}},{key:"fromName",value:function(e){return new t(wr.fromString(e).popFirst(5))}},{key:"empty",value:function(){return new t(wr.emptyPath())}},{key:"comparator",value:function(t,e){return wr.comparator(t.path,e.path)}},{key:"isDocumentKey",value:function(t){return t.length%2==0}},{key:"fromSegments",value:function(e){return new t(new wr(e.slice()))}}]),t}(),xr=(0,y.Z)((function t(e,n,i,r){(0,p.Z)(this,t),this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}));xr.UNKNOWN_ID=-1;function Sr(t,e){var n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=mr.fromTimestamp(1e9===i?new yr(n+1,0):new yr(n,i));return new Cr(r,_r.empty(),e)}function Er(t){return new Cr(t.readTime,t.key,-1)}var Cr=function(){function t(e,n,i){(0,p.Z)(this,t),this.readTime=e,this.documentKey=n,this.largestBatchId=i}return(0,y.Z)(t,null,[{key:"min",value:function(){return new t(mr.min(),_r.empty(),-1)}},{key:"max",value:function(){return new t(mr.max(),_r.empty(),-1)}}]),t}();function Tr(t,e){var n=t.readTime.compareTo(e.readTime);return 0!==n?n:0!==(n=_r.comparator(t.documentKey,e.documentKey))?n:vr(t.largestBatchId,e.largestBatchId)}var Ar="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Or=function(){function t(){(0,p.Z)(this,t),this.onCommittedListeners=[]}return(0,y.Z)(t,[{key:"addOnCommittedListener",value:function(t){this.onCommittedListeners.push(t)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(t){return t()}))}}]),t}();function Zr(t){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,h.Z)((0,c.Z)().mark((function t(e){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.code===er.FAILED_PRECONDITION&&e.message===Ar){t.next=2;break}throw e;case 2:Gi("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Ir=function(){function t(e){var n=this;(0,p.Z)(this,t),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(t){n.isDone=!0,n.result=t,n.nextCallback&&n.nextCallback(t)}),(function(t){n.isDone=!0,n.error=t,n.catchCallback&&n.catchCallback(t)}))}return(0,y.Z)(t,[{key:"catch",value:function(t){return this.next(void 0,t)}},{key:"next",value:function(e,n){var i=this;return this.callbackAttached&&Xi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,r){i.nextCallback=function(n){i.wrapSuccess(e,n).next(t,r)},i.catchCallback=function(e){i.wrapFailure(n,e).next(t,r)}}))}},{key:"toPromise",value:function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))}},{key:"wrapUserFunction",value:function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}}},{key:"wrapSuccess",value:function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)}},{key:"wrapFailure",value:function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)}}],[{key:"resolve",value:function(e){return new t((function(t,n){t(e)}))}},{key:"reject",value:function(e){return new t((function(t,n){n(e)}))}},{key:"waitFor",value:function(e){return new t((function(t,n){var i=0,r=0,o=!1;e.forEach((function(e){++i,e.next((function(){++r,o&&r===i&&t()}),(function(t){return n(t)}))})),o=!0,r===i&&t()}))}},{key:"or",value:function(e){var n,i=t.resolve(!1),r=(0,l.Z)(e);try{var o=function(){var e=n.value;i=i.next((function(n){return n?t.resolve(n):e()}))};for(r.s();!(n=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}return i}},{key:"forEach",value:function(t,e){var n=this,i=[];return t.forEach((function(t,r){i.push(e.call(n,t,r))})),this.waitFor(i)}},{key:"mapArray",value:function(e,n){return new t((function(t,i){for(var r=e.length,o=new Array(r),a=0,s=function(){var s=u;n(e[s]).next((function(e){o[s]=e,++a===r&&t(o)}),(function(t){return i(t)}))},u=0;u<r;u++)s()}))}},{key:"doWhile",value:function(e,n){return new t((function(t,i){!function r(){!0===e()?n().next((function(){r()}),i):t()}()}))}}]),t}();function Lr(t){return"IndexedDbTransactionError"===t.name}var Rr=function(){function t(e,n){var i=this;(0,p.Z)(this,t),this.previousValue=e,n&&(n.sequenceNumberHandler=function(t){return i.se(t)},this.oe=function(t){return n.writeSequenceNumber(t)})}return(0,y.Z)(t,[{key:"se",value:function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}},{key:"next",value:function(){var t=++this.previousValue;return this.oe&&this.oe(t),t}}]),t}();function Nr(t){return null==t}function Dr(t){return 0===t&&1/t==-1/0}function Pr(t){return"number"==typeof t&&Number.isInteger(t)&&!Dr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}Rr._e=-1;var Fr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Br=([].concat((0,v.Z)(Fr),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Vr=Br;[].concat(Vr,["indexConfiguration","indexState","indexEntries"]);function Ur(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var qr=function(){function t(e,n){(0,p.Z)(this,t),this.comparator=e,this.root=n||Hr.EMPTY}return(0,y.Z)(t,[{key:"insert",value:function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hr.BLACK,null,null))}},{key:"remove",value:function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}},{key:"get",value:function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}},{key:"indexOf",value:function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(t){return this.root.inorderTraversal(t)}},{key:"forEach",value:function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))}},{key:"toString",value:function(){var t=[];return this.inorderTraversal((function(e,n){return t.push("".concat(e,":").concat(n)),!1})),"{".concat(t.join(", "),"}")}},{key:"reverseTraversal",value:function(t){return this.root.reverseTraversal(t)}},{key:"getIterator",value:function(){return new Wr(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(t){return new Wr(this.root,t,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Wr(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(t){return new Wr(this.root,t,this.comparator,!0)}}]),t}(),Wr=function(){function t(e,n,i,r){(0,p.Z)(this,t),this.isReverse=r,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return(0,y.Z)(t,[{key:"getNext",value:function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}]),t}(),Hr=function(){function t(e,n,i,r,o){(0,p.Z)(this,t),this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return(0,y.Z)(t,[{key:"copy",value:function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}},{key:"reverseTraversal",value:function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}},{key:"moveRedLeft",value:function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t}},{key:"moveRedRight",value:function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t}},{key:"rotateLeft",value:function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}},{key:"rotateRight",value:function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}},{key:"colorFlip",value:function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}},{key:"checkMaxDepth",value:function(){var t=this.check();return Math.pow(2,t)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Xi();if(this.right.isRed())throw Xi();var t=this.left.check();if(t!==this.right.check())throw Xi();return t+(this.isRed()?0:1)}}]),t}();Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new(function(){function t(){(0,p.Z)(this,t),this.size=0}return(0,y.Z)(t,[{key:"key",get:function(){throw Xi()}},{key:"value",get:function(){throw Xi()}},{key:"color",get:function(){throw Xi()}},{key:"left",get:function(){throw Xi()}},{key:"right",get:function(){throw Xi()}},{key:"copy",value:function(t,e,n,i,r){return this}},{key:"insert",value:function(t,e,n){return new Hr(t,e)}},{key:"remove",value:function(t,e){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(t){return!1}},{key:"reverseTraversal",value:function(t){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),t}());var Kr=function(){function t(e){(0,p.Z)(this,t),this.comparator=e,this.data=new qr(this.comparator)}return(0,y.Z)(t,[{key:"has",value:function(t){return null!==this.data.get(t)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(t){return this.data.indexOf(t)}},{key:"forEach",value:function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))}},{key:"forEachInRange",value:function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}},{key:"forEachWhile",value:function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}},{key:"getIterator",value:function(){return new Gr(this.data.getIterator())}},{key:"getIteratorFrom",value:function(t){return new Gr(this.data.getIteratorFrom(t))}},{key:"add",value:function(t){return this.copy(this.data.remove(t).insert(t,!0))}},{key:"delete",value:function(t){return this.has(t)?this.copy(this.data.remove(t)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e}},{key:"isEqual",value:function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}},{key:"toArray",value:function(){var t=[];return this.forEach((function(e){t.push(e)})),t}},{key:"toString",value:function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"}},{key:"copy",value:function(e){var n=new t(this.comparator);return n.data=e,n}}]),t}(),Gr=function(){function t(e){(0,p.Z)(this,t),this.iter=e}return(0,y.Z)(t,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),t}();var Qr=function(){function t(e){(0,p.Z)(this,t),this.fields=e,e.sort(kr.comparator)}return(0,y.Z)(t,[{key:"unionWith",value:function(e){var n,i=new Kr(kr.comparator),r=(0,l.Z)(this.fields);try{for(r.s();!(n=r.n()).done;){var o=n.value;i=i.add(o)}}catch(c){r.e(c)}finally{r.f()}var a,s=(0,l.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;i=i.add(u)}}catch(c){s.e(c)}finally{s.f()}return new t(i.toArray())}},{key:"covers",value:function(t){var e,n=(0,l.Z)(this.fields);try{for(n.s();!(e=n.n()).done;){if(e.value.isPrefixOf(t))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"isEqual",value:function(t){return pr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))}}],[{key:"empty",value:function(){return new t([])}}]),t}(),$r=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(){var t;return(0,p.Z)(this,n),(t=e.apply(this,arguments)).name="Base64DecodeError",t}return(0,y.Z)(n)}((0,u.Z)(Error));var Jr=function(t){function e(t){(0,p.Z)(this,e),this.binaryString=t}return(0,y.Z)(e,[{key:t,value:function(){var t=this,e=0;return{next:function(){return e<t.binaryString.length?{value:t.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return t=this.binaryString,btoa(t);var t}},{key:"toUint8Array",value:function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(t){return vr(this.binaryString,t.binaryString)}},{key:"isEqual",value:function(t){return this.binaryString===t.binaryString}}],[{key:"fromBase64String",value:function(t){var n=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new $r("Invalid base64 string: "+t):t}}(t);return new e(n)}},{key:"fromUint8Array",value:function(t){var n=function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new e(n)}}]),e}(Symbol.iterator);Jr.EMPTY_BYTE_STRING=new Jr("");var Xr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(t){if(Yi(!!t),"string"==typeof t){var e=0,n=Xr.exec(t);if(Yi(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:to(t.seconds),nanos:to(t.nanos)}}function to(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function eo(t){return"string"==typeof t?Jr.fromBase64String(t):Jr.fromUint8Array(t)}function no(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function io(t){var e=t.mapValue.fields.__previous_value__;return no(e)?io(e):e}function ro(t){var e=Yr(t.mapValue.fields.__local_write_time__.timestampValue);return new yr(e.seconds,e.nanos)}var oo=(0,y.Z)((function t(e,n,i,r,o,a,s,u,l){(0,p.Z)(this,t),this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=l})),ao=function(){function t(e,n){(0,p.Z)(this,t),this.projectId=e,this.database=n||"(default)"}return(0,y.Z)(t,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}}],[{key:"empty",value:function(){return new t("","")}}]),t}(),so={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?no(t)?4:xo(t)?9007199254740991:10:Xi()}function lo(t,e){if(t===e)return!0;var n=uo(t);if(n!==uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ro(t).isEqual(ro(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Yr(t.timestampValue),i=Yr(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return eo(t.bytesValue).isEqual(eo(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return to(t.geoPointValue.latitude)===to(e.geoPointValue.latitude)&&to(t.geoPointValue.longitude)===to(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return to(t.integerValue)===to(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=to(t.doubleValue),i=to(e.doubleValue);return n===i?Dr(n)===Dr(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return pr(t.arrayValue.values||[],e.arrayValue.values||[],lo);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Ur(n)!==Ur(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!lo(n[r],i[r])))return!1;return!0}(t,e);default:return Xi()}}function co(t,e){return void 0!==(t.values||[]).find((function(t){return lo(t,e)}))}function ho(t,e){if(t===e)return 0;var n=uo(t),i=uo(e);if(n!==i)return vr(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return vr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=to(t.integerValue||t.doubleValue),i=to(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return fo(t.timestampValue,e.timestampValue);case 4:return fo(ro(t),ro(e));case 5:return vr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=eo(t),i=eo(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var o=vr(n[r],i[r]);if(0!==o)return o}return vr(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=vr(to(t.latitude),to(e.latitude));return 0!==n?n:vr(to(t.longitude),to(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var o=ho(n[r],i[r]);if(o)return o}return vr(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===so.mapValue&&e===so.mapValue)return 0;if(t===so.mapValue)return 1;if(e===so.mapValue)return-1;var n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(var a=0;a<i.length&&a<o.length;++a){var s=vr(i[a],o[a]);if(0!==s)return s;var u=ho(n[i[a]],r[o[a]]);if(0!==u)return u}return vr(i.length,o.length)}(t.mapValue,e.mapValue);default:throw Xi()}}function fo(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return vr(t,e);var n=Yr(t),i=Yr(e),r=vr(n.seconds,i.seconds);return 0!==r?r:vr(n.nanos,i.nanos)}function vo(t){return po(t)}function po(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Yr(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return eo(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return _r.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return"geo(".concat(t.latitude,",").concat(t.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(t){var e,n="[",i=!0,r=(0,l.Z)(t.values||[]);try{for(r.s();!(e=r.n()).done;){var o=e.value;i?i=!1:n+=",",n+=po(o)}}catch(a){r.e(a)}finally{r.f()}return n+"]"}(t.arrayValue):"mapValue"in t?function(t){var e,n=Object.keys(t.fields||{}).sort(),i="{",r=!0,o=(0,l.Z)(n);try{for(o.s();!(e=o.n()).done;){var a=e.value;r?r=!1:i+=",",i+="".concat(a,":").concat(po(t.fields[a]))}}catch(s){o.e(s)}finally{o.f()}return i+"}"}(t.mapValue):Xi()}function yo(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function mo(t){return!!t&&"integerValue"in t}function go(t){return!!t&&"arrayValue"in t}function wo(t){return!!t&&"nullValue"in t}function bo(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ko(t){return!!t&&"mapValue"in t}function _o(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return zr(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=_o(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=_o(t.arrayValue.values[i]);return n}return Object.assign({},t)}function xo(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}var So=function(){function t(e){(0,p.Z)(this,t),this.value=e}return(0,y.Z)(t,[{key:"field",value:function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!ko(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null}},{key:"set",value:function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=_o(e)}},{key:"setAll",value:function(t){var e=this,n=kr.emptyPath(),i={},r=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,i,r),i={},r=[],n=o.popLast()}t?i[o.lastSegment()]=_o(t):r.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,i,r)}},{key:"delete",value:function(t){var e=this.field(t.popLast());ko(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}},{key:"isEqual",value:function(t){return lo(this.value,t.value)}},{key:"getFieldsMap",value:function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var i=e.mapValue.fields[t.get(n)];ko(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}},{key:"applyChanges",value:function(t,e,n){zr(e,(function(e,n){return t[e]=n}));var i,r=(0,l.Z)(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;delete t[o]}}catch(a){r.e(a)}finally{r.f()}}},{key:"clone",value:function(){return new t(_o(this.value))}}],[{key:"empty",value:function(){return new t({mapValue:{}})}}]),t}();function Eo(t){var e=[];return zr(t.fields,(function(t,n){var i=new kr([t]);if(ko(n)){var r=Eo(n.mapValue).fields;if(0===r.length)e.push(i);else{var o,a=(0,l.Z)(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;e.push(i.child(s))}}catch(u){a.e(u)}finally{a.f()}}}else e.push(i)})),new Qr(e)}var Co=function(){function t(e,n,i,r,o,a,s){(0,p.Z)(this,t),this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=s}return(0,y.Z)(t,[{key:"convertToFoundDocument",value:function(t,e){return!this.createTime.isEqual(mr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}},{key:"convertToNoDocument",value:function(t){return this.version=t,this.documentType=2,this.data=So.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(t){return this.version=t,this.documentType=3,this.data=So.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=mr.min(),this}},{key:"setReadTime",value:function(t){return this.readTime=t,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}},{key:"mutableCopy",value:function(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(e){return new t(e,0,mr.min(),mr.min(),mr.min(),So.empty(),0)}},{key:"newFoundDocument",value:function(e,n,i,r){return new t(e,1,n,mr.min(),i,r,0)}},{key:"newNoDocument",value:function(e,n){return new t(e,2,n,mr.min(),mr.min(),So.empty(),0)}},{key:"newUnknownDocument",value:function(e,n){return new t(e,3,n,mr.min(),mr.min(),So.empty(),2)}}]),t}(),To=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.position=e,this.inclusive=n}));function Ao(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var o=e[r],a=t.position[r];if(i=o.field.isKeyField()?_r.comparator(_r.fromName(a.referenceValue),n.key):ho(a,n.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Oo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!lo(t.position[n],e.position[n]))return!1;return!0}var Zo=(0,y.Z)((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,p.Z)(this,t),this.field=e,this.dir=n}));function Mo(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Io=(0,y.Z)((function t(){(0,p.Z)(this,t)})),Lo=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i,r){var o;return(0,p.Z)(this,n),(o=e.call(this)).field=t,o.op=i,o.value=r,o}return(0,y.Z)(n,[{key:"matches",value:function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ho(e,this.value)):null!==e&&uo(this.value)===uo(e)&&this.matchesComparison(ho(e,this.value))}},{key:"matchesComparison",value:function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Xi()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Uo(t,e,i):"array-contains"===e?new Wo(t,i):"in"===e?new Ho(t,i):"not-in"===e?new Ko(t,i):"array-contains-any"===e?new Go(t,i):new n(t,e,i)}},{key:"createKeyFieldInFilter",value:function(t,e,n){return"in"===e?new zo(t,n):new jo(t,n)}}]),n}(Io),Ro=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this)).filters=t,r.op=i,r.ue=null,r}return(0,y.Z)(n,[{key:"matches",value:function(t){return No(this)?void 0===this.filters.find((function(e){return!e.matches(t)})):void 0!==this.filters.find((function(e){return e.matches(t)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(t,e){return t.concat(e.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(t,e){return new n(t,e)}}]),n}(Io);function No(t){return"and"===t.op}function Do(t){return Po(t)&&No(t)}function Po(t){var e,n=(0,l.Z)(t.filters);try{for(n.s();!(e=n.n()).done;){if(e.value instanceof Ro)return!1}}catch(i){n.e(i)}finally{n.f()}return!0}function Fo(t){if(t instanceof Lo)return t.field.canonicalString()+t.op.toString()+vo(t.value);if(Do(t))return t.filters.map((function(t){return Fo(t)})).join(",");var e=t.filters.map((function(t){return Fo(t)})).join(",");return"".concat(t.op,"(").concat(e,")")}function Bo(t,e){return t instanceof Lo?function(t,e){return e instanceof Lo&&t.op===e.op&&t.field.isEqual(e.field)&&lo(t.value,e.value)}(t,e):t instanceof Ro?function(t,e){return e instanceof Ro&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce((function(t,n,i){return t&&Bo(n,e.filters[i])}),!0)}(t,e):void Xi()}function Vo(t){return t instanceof Lo?function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(vo(t.value))}(t):t instanceof Ro?function(t){return t.op.toString()+" {"+t.getFilters().map(Vo).join(" ,")+"}"}(t):"Filter"}var Uo=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i,r){var o;return(0,p.Z)(this,n),(o=e.call(this,t,i,r)).key=_r.fromName(r.referenceValue),o}return(0,y.Z)(n,[{key:"matches",value:function(t){var e=_r.comparator(t.key,this.key);return this.matchesComparison(e)}}]),n}(Lo),zo=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this,t,"in",i)).keys=qo("in",i),r}return(0,y.Z)(n,[{key:"matches",value:function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))}}]),n}(Lo),jo=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this,t,"not-in",i)).keys=qo("not-in",i),r}return(0,y.Z)(n,[{key:"matches",value:function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))}}]),n}(Lo);function qo(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return _r.fromName(t.referenceValue)}))}var Wo=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i){return(0,p.Z)(this,n),e.call(this,t,"array-contains",i)}return(0,y.Z)(n,[{key:"matches",value:function(t){var e=t.data.field(this.field);return go(e)&&co(e.arrayValue,this.value)}}]),n}(Lo),Ho=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i){return(0,p.Z)(this,n),e.call(this,t,"in",i)}return(0,y.Z)(n,[{key:"matches",value:function(t){var e=t.data.field(this.field);return null!==e&&co(this.value.arrayValue,e)}}]),n}(Lo),Ko=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i){return(0,p.Z)(this,n),e.call(this,t,"not-in",i)}return(0,y.Z)(n,[{key:"matches",value:function(t){if(co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!co(this.value.arrayValue,e)}}]),n}(Lo),Go=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i){return(0,p.Z)(this,n),e.call(this,t,"array-contains-any",i)}return(0,y.Z)(n,[{key:"matches",value:function(t){var e=this,n=t.data.field(this.field);return!(!go(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return co(e.value.arrayValue,t)}))}}]),n}(Lo),Qo=(0,y.Z)((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,p.Z)(this,t),this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=s,this.ce=null}));function $o(t){return new Qo(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Jo(t){var e=tr(t);if(null===e.ce){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return Fo(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Nr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((function(t){return vo(t)})).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((function(t){return vo(t)})).join(",")),e.ce=n}return e.ce}function Xo(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Mo(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(!Bo(t.filters[i],e.filters[i]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Oo(t.startAt,e.startAt)&&Oo(t.endAt,e.endAt)}function Yo(t){return _r.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ta=(0,y.Z)((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,p.Z)(this,t),this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function ea(t,e,n,i,r,o,a,s){return new ta(t,e,n,i,r,o,a,s)}function na(t){return new ta(t)}function ia(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ra(t){return null!==t.collectionGroup}function oa(t){var e=tr(t);if(null===e.le){e.le=[];var n,i=new Set,r=(0,l.Z)(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.le.push(o),i.add(o.field.canonicalString())}}catch(u){r.e(u)}finally{r.f()}var a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",s=function(t){var e=new Kr(kr.comparator);return t.filters.forEach((function(t){t.getFlattenedFilters().forEach((function(t){t.isInequality()&&(e=e.add(t.field))}))})),e}(e);s.forEach((function(t){i.has(t.canonicalString())||t.isKeyField()||e.le.push(new Zo(t,a))})),i.has(kr.keyField().canonicalString())||e.le.push(new Zo(kr.keyField(),a))}return e.le}function aa(t){var e=tr(t);return e.he||(e.he=sa(e,oa(t))),e.he}function sa(t,e){if("F"===t.limitType)return $o(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);e=e.map((function(t){var e="desc"===t.dir?"asc":"desc";return new Zo(t.field,e)}));var n=t.endAt?new To(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new To(t.startAt.position,t.startAt.inclusive):null;return $o(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}function ua(t,e){var n=t.filters.concat([e]);return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function la(t,e,n){return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ca(t,e){return Xo(aa(t),aa(e))&&t.limitType===e.limitType}function ha(t){return"".concat(Jo(aa(t)),"|lt:").concat(t.limitType)}function fa(t){return"Query(target=".concat(function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map((function(t){return Vo(t)})).join(", "),"]")),Nr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map((function(t){return function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t)})).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((function(t){return vo(t)})).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((function(t){return vo(t)})).join(",")),"Target(".concat(e,")")}(aa(t)),"; limitType=").concat(t.limitType,")")}function da(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):_r.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){var n,i=(0,l.Z)(oa(t));try{for(i.s();!(n=i.n()).done;){var r=n.value;if(!r.field.isKeyField()&&null===e.data.field(r.field))return!1}}catch(o){i.e(o)}finally{i.f()}return!0}(t,e)&&function(t,e){var n,i=(0,l.Z)(t.filters);try{for(i.s();!(n=i.n()).done;){if(!n.value.matches(e))return!1}}catch(r){i.e(r)}finally{i.f()}return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){var i=Ao(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,oa(t),e))&&!(t.endAt&&!function(t,e,n){var i=Ao(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,oa(t),e))}(t,e)}function va(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pa(t){return function(e,n){var i,r=!1,o=(0,l.Z)(oa(t));try{for(o.s();!(i=o.n()).done;){var a=i.value,s=ya(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}}catch(u){o.e(u)}finally{o.f()}return 0}}function ya(t,e,n){var i=t.field.isKeyField()?_r.comparator(e.key,n.key):function(t,e,n){var i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?ho(i,r):Xi()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Xi()}}var ma=function(){function t(e,n){(0,p.Z)(this,t),this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,y.Z)(t,[{key:"get",value:function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n){var i,r=(0,l.Z)(n);try{for(r.s();!(i=r.n()).done;){var o=(0,s.Z)(i.value,2),a=o[0],u=o[1];if(this.equalsFn(a,t))return u}}catch(c){r.e(c)}finally{r.f()}}}},{key:"has",value:function(t){return void 0!==this.get(t)}},{key:"set",value:function(t,e){var n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(var r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e]),this.innerSize++}},{key:"delete",value:function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(t){zr(this.inner,(function(e,n){var i,r=(0,l.Z)(n);try{for(r.s();!(i=r.n()).done;){var o=(0,s.Z)(i.value,2),a=o[0],u=o[1];t(a,u)}}catch(c){r.e(c)}finally{r.f()}}))}},{key:"isEmpty",value:function(){return jr(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),t}(),ga=new qr(_r.comparator);function wa(){return ga}var ba=new qr(_r.comparator);function ka(){for(var t=ba,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];t=t.insert(a.key,a)}return t}function _a(t){var e=ba;return t.forEach((function(t,n){return e=e.insert(t,n.overlayedDocument)})),e}function xa(){return Ea()}function Sa(){return Ea()}function Ea(){return new ma((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)}))}var Ca=new qr(_r.comparator),Ta=new Kr(_r.comparator);function Aa(){for(var t=Ta,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];t=t.add(a)}return t}var Oa=new Kr(vr);function Za(){return Oa}function Ma(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dr(e)?"-0":e}}function Ia(t){return{integerValue:""+t}}function La(t,e){return Pr(e)?Ia(e):Ma(t,e)}var Ra=(0,y.Z)((function t(){(0,p.Z)(this,t),this._=void 0}));function Na(t,e,n){return t instanceof Fa?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&no(e)&&(e=io(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ba?Va(t,e):t instanceof Ua?za(t,e):function(t,e){var n=Pa(t,e),i=qa(n)+qa(t.Ie);return mo(n)&&mo(t.Ie)?Ia(i):Ma(t.serializer,i)}(t,e)}function Da(t,e,n){return t instanceof Ba?Va(t,e):t instanceof Ua?za(t,e):n}function Pa(t,e){return t instanceof ja?function(t){return mo(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}var Fa=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(){return(0,p.Z)(this,n),e.apply(this,arguments)}return(0,y.Z)(n)}(Ra),Ba=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t){var i;return(0,p.Z)(this,n),(i=e.call(this)).elements=t,i}return(0,y.Z)(n)}(Ra);function Va(t,e){var n,i=Wa(e),r=(0,l.Z)(t.elements);try{var o=function(){var t=n.value;i.some((function(e){return lo(e,t)}))||i.push(t)};for(r.s();!(n=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}return{arrayValue:{values:i}}}var Ua=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t){var i;return(0,p.Z)(this,n),(i=e.call(this)).elements=t,i}return(0,y.Z)(n)}(Ra);function za(t,e){var n,i=Wa(e),r=(0,l.Z)(t.elements);try{var o=function(){var t=n.value;i=i.filter((function(e){return!lo(e,t)}))};for(r.s();!(n=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}return{arrayValue:{values:i}}}var ja=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this)).serializer=t,r.Ie=i,r}return(0,y.Z)(n)}(Ra);function qa(t){return to(t.integerValue||t.doubleValue)}function Wa(t){return go(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ha=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.field=e,this.transform=n}));var Ka=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.version=e,this.transformResults=n})),Ga=function(){function t(e,n){(0,p.Z)(this,t),this.updateTime=e,this.exists=n}return(0,y.Z)(t,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}],[{key:"none",value:function(){return new t}},{key:"exists",value:function(e){return new t(void 0,e)}},{key:"updateTime",value:function(e){return new t(e)}}]),t}();function Qa(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var $a=(0,y.Z)((function t(){(0,p.Z)(this,t)}));function Ja(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ls(t.key,Ga.none()):new ns(t.key,t.data,Ga.none());var n,i=t.data,r=So.empty(),o=new Kr(kr.comparator),a=(0,l.Z)(e.fields);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(!o.has(s)){var u=i.field(s);null===u&&s.length>1&&(s=s.popLast(),u=i.field(s)),null===u?r.delete(s):r.set(s,u),o=o.add(s)}}}catch(c){a.e(c)}finally{a.f()}return new is(t.key,r,new Qr(o.toArray()),Ga.none())}function Xa(t,e,n){t instanceof ns?function(t,e,n){var i=t.value.clone(),r=os(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof is?function(t,e,n){if(Qa(t.precondition,e)){var i=os(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(rs(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Ya(t,e,n,i){return t instanceof ns?function(t,e,n,i){if(!Qa(t.precondition,e))return n;var r=t.value.clone(),o=as(t.fieldTransforms,i,e);return r.setAll(o),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof is?function(t,e,n,i){if(!Qa(t.precondition,e))return n;var r=as(t.fieldTransforms,i,e),o=e.data;return o.setAll(rs(t)),o.setAll(r),e.convertToFoundDocument(e.version,o).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((function(t){return t.field})))}(t,e,n,i):function(t,e,n){return Qa(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function ts(t,e){var n,i=null,r=(0,l.Z)(t.fieldTransforms);try{for(r.s();!(n=r.n()).done;){var o=n.value,a=e.data.field(o.field),s=Pa(o.transform,a||null);null!=s&&(null===i&&(i=So.empty()),i.set(o.field,s))}}catch(u){r.e(u)}finally{r.f()}return i||null}function es(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&pr(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ba&&e instanceof Ba||t instanceof Ua&&e instanceof Ua?pr(t.elements,e.elements,lo):t instanceof ja&&e instanceof ja?lo(t.Ie,e.Ie):t instanceof Fa&&e instanceof Fa}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ns=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i,r){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,p.Z)(this,n),(o=e.call(this)).key=t,o.value=i,o.precondition=r,o.fieldTransforms=a,o.type=0,o}return(0,y.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}($a),is=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i,r,o){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,p.Z)(this,n),(a=e.call(this)).key=t,a.data=i,a.fieldMask=r,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return(0,y.Z)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}($a);function rs(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}})),e}function os(t,e,n){var i=new Map;Yi(t.length===n.length);for(var r=0;r<n.length;r++){var o=t[r],a=o.transform,s=e.data.field(o.field);i.set(o.field,Da(a,s,n[r]))}return i}function as(t,e,n){var i,r=new Map,o=(0,l.Z)(t);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.transform,u=n.data.field(a.field);r.set(a.field,Na(s,u,e))}}catch(c){o.e(c)}finally{o.f()}return r}var ss,us,ls=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this)).key=t,r.precondition=i,r.type=2,r.fieldTransforms=[],r}return(0,y.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}($a),cs=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this)).key=t,r.precondition=i,r.type=3,r.fieldTransforms=[],r}return(0,y.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}($a),hs=function(){function t(e,n,i,r){(0,p.Z)(this,t),this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}return(0,y.Z)(t,[{key:"applyToRemoteDocument",value:function(t,e){for(var n=e.mutationResults,i=0;i<this.mutations.length;i++){var r=this.mutations[i];r.key.isEqual(t.key)&&Xa(r,t,n[i])}}},{key:"applyToLocalView",value:function(t,e){var n,i=(0,l.Z)(this.baseMutations);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.key.isEqual(t.key)&&(e=Ya(r,t,e,this.localWriteTime))}}catch(u){i.e(u)}finally{i.f()}var o,a=(0,l.Z)(this.mutations);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.key.isEqual(t.key)&&(e=Ya(s,t,e,this.localWriteTime))}}catch(u){a.e(u)}finally{a.f()}return e}},{key:"applyToLocalDocumentSet",value:function(t,e){var n=this,i=Sa();return this.mutations.forEach((function(r){var o=t.get(r.key),a=o.overlayedDocument,s=n.applyToLocalView(a,o.mutatedFields),u=Ja(a,s=e.has(r.key)?null:s);null!==u&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(mr.min())})),i}},{key:"keys",value:function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Aa())}},{key:"isEqual",value:function(t){return this.batchId===t.batchId&&pr(this.mutations,t.mutations,(function(t,e){return es(t,e)}))&&pr(this.baseMutations,t.baseMutations,(function(t,e){return es(t,e)}))}}]),t}(),fs=function(){function t(e,n,i,r){(0,p.Z)(this,t),this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}return(0,y.Z)(t,null,[{key:"from",value:function(e,n,i){Yi(e.mutations.length===i.length);for(var r=Ca,o=e.mutations,a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new t(e,n,i,r)}}]),t}(),ds=function(){function t(e,n){(0,p.Z)(this,t),this.largestBatchId=e,this.mutation=n}return(0,y.Z)(t,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(t){return null!==t&&this.mutation===t.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),t}(),vs=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.count=e,this.unchangedNames=n}));function ps(t){switch(t){default:return Xi();case er.CANCELLED:case er.UNKNOWN:case er.DEADLINE_EXCEEDED:case er.RESOURCE_EXHAUSTED:case er.INTERNAL:case er.UNAVAILABLE:case er.UNAUTHENTICATED:return!1;case er.INVALID_ARGUMENT:case er.NOT_FOUND:case er.ALREADY_EXISTS:case er.PERMISSION_DENIED:case er.FAILED_PRECONDITION:case er.ABORTED:case er.OUT_OF_RANGE:case er.UNIMPLEMENTED:case er.DATA_LOSS:return!0}}function ys(t){if(void 0===t)return Qi("GRPC error has no .code"),er.UNKNOWN;switch(t){case ss.OK:return er.OK;case ss.CANCELLED:return er.CANCELLED;case ss.UNKNOWN:return er.UNKNOWN;case ss.DEADLINE_EXCEEDED:return er.DEADLINE_EXCEEDED;case ss.RESOURCE_EXHAUSTED:return er.RESOURCE_EXHAUSTED;case ss.INTERNAL:return er.INTERNAL;case ss.UNAVAILABLE:return er.UNAVAILABLE;case ss.UNAUTHENTICATED:return er.UNAUTHENTICATED;case ss.INVALID_ARGUMENT:return er.INVALID_ARGUMENT;case ss.NOT_FOUND:return er.NOT_FOUND;case ss.ALREADY_EXISTS:return er.ALREADY_EXISTS;case ss.PERMISSION_DENIED:return er.PERMISSION_DENIED;case ss.FAILED_PRECONDITION:return er.FAILED_PRECONDITION;case ss.ABORTED:return er.ABORTED;case ss.OUT_OF_RANGE:return er.OUT_OF_RANGE;case ss.UNIMPLEMENTED:return er.UNIMPLEMENTED;case ss.DATA_LOSS:return er.DATA_LOSS;default:return Xi()}}(us=ss||(ss={}))[us.OK=0]="OK",us[us.CANCELLED=1]="CANCELLED",us[us.UNKNOWN=2]="UNKNOWN",us[us.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",us[us.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",us[us.NOT_FOUND=5]="NOT_FOUND",us[us.ALREADY_EXISTS=6]="ALREADY_EXISTS",us[us.PERMISSION_DENIED=7]="PERMISSION_DENIED",us[us.UNAUTHENTICATED=16]="UNAUTHENTICATED",us[us.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",us[us.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",us[us.ABORTED=10]="ABORTED",us[us.OUT_OF_RANGE=11]="OUT_OF_RANGE",us[us.UNIMPLEMENTED=12]="UNIMPLEMENTED",us[us.INTERNAL=13]="INTERNAL",us[us.UNAVAILABLE=14]="UNAVAILABLE",us[us.DATA_LOSS=15]="DATA_LOSS";var ms=null;function gs(){return new TextEncoder}var ws=new zi([4294967295,4294967295],0);function bs(t){var e=gs().encode(t),n=new Ui;return n.update(e),new Uint8Array(n.digest())}function ks(t){var e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zi([n,i],0),new zi([r,o],0)]}var _s=function(){function t(e,n,i){if((0,p.Z)(this,t),this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new xs("Invalid padding: ".concat(n));if(i<0)throw new xs("Invalid hash count: ".concat(i));if(e.length>0&&0===this.hashCount)throw new xs("Invalid hash count: ".concat(i));if(0===e.length&&0!==n)throw new xs("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*e.length-n,this.Ee=zi.fromNumber(this.Te)}return(0,y.Z)(t,[{key:"de",value:function(t,e,n){var i=t.add(e.multiply(zi.fromNumber(n)));return 1===i.compare(ws)&&(i=new zi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}},{key:"Ae",value:function(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}},{key:"mightContain",value:function(t){if(0===this.Te)return!1;for(var e=ks(bs(t)),n=(0,s.Z)(e,2),i=n[0],r=n[1],o=0;o<this.hashCount;o++){var a=this.de(i,r,o);if(!this.Ae(a))return!1}return!0}},{key:"insert",value:function(t){if(0!==this.Te)for(var e=ks(bs(t)),n=(0,s.Z)(e,2),i=n[0],r=n[1],o=0;o<this.hashCount;o++){var a=this.de(i,r,o);this.Re(a)}}},{key:"Re",value:function(t){var e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}],[{key:"create",value:function(e,n,i){var r=e%8==0?0:8-e%8,o=new t(new Uint8Array(Math.ceil(e/8)),r,n);return i.forEach((function(t){return o.insert(t)})),o}}]),t}(),xs=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(){var t;return(0,p.Z)(this,n),(t=e.apply(this,arguments)).name="BloomFilterError",t}return(0,y.Z)(n)}((0,u.Z)(Error)),Ss=function(){function t(e,n,i,r,o){(0,p.Z)(this,t),this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}return(0,y.Z)(t,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(e,n,i){var r=new Map;return r.set(e,Es.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(mr.min(),r,new qr(vr),wa(),Aa())}}]),t}(),Es=function(){function t(e,n,i,r,o){(0,p.Z)(this,t),this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}return(0,y.Z)(t,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(e,n,i){return new t(i,n,Aa(),Aa(),Aa())}}]),t}(),Cs=(0,y.Z)((function t(e,n,i,r){(0,p.Z)(this,t),this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r})),Ts=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.targetId=e,this.fe=n})),As=(0,y.Z)((function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jr.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,p.Z)(this,t),this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r})),Os=function(){function t(){(0,p.Z)(this,t),this.ge=0,this.pe=Is(),this.ye=Jr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}return(0,y.Z)(t,[{key:"current",get:function(){return this.we}},{key:"resumeToken",get:function(){return this.ye}},{key:"be",get:function(){return 0!==this.ge}},{key:"De",get:function(){return this.Se}},{key:"Ce",value:function(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}},{key:"ve",value:function(){var t=Aa(),e=Aa(),n=Aa();return this.pe.forEach((function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Xi()}})),new Es(this.ye,this.we,t,e,n)}},{key:"Fe",value:function(){this.Se=!1,this.pe=Is()}},{key:"Me",value:function(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}},{key:"xe",value:function(t){this.Se=!0,this.pe=this.pe.remove(t)}},{key:"Oe",value:function(){this.ge+=1}},{key:"Ne",value:function(){this.ge-=1}},{key:"Be",value:function(){this.Se=!0,this.we=!0}}]),t}(),Zs=function(){function t(e){(0,p.Z)(this,t),this.Le=e,this.ke=new Map,this.qe=wa(),this.Qe=Ms(),this.Ke=new qr(vr)}return(0,y.Z)(t,[{key:"$e",value:function(t){var e,n=(0,l.Z)(t.Ve);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.me&&t.me.isFoundDocument()?this.Ue(i,t.me):this.We(i,t.key,t.me)}}catch(s){n.e(s)}finally{n.f()}var r,o=(0,l.Z)(t.removedTargetIds);try{for(o.s();!(r=o.n()).done;){var a=r.value;this.We(a,t.key,t.me)}}catch(s){o.e(s)}finally{o.f()}}},{key:"Ge",value:function(t){var e=this;this.forEachTarget(t,(function(n){var i=e.ze(n);switch(t.state){case 0:e.je(n)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||e.removeTarget(n);break;case 3:e.je(n)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:e.je(n)&&(e.He(n),i.Ce(t.resumeToken));break;default:Xi()}}))}},{key:"forEachTarget",value:function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((function(t,i){n.je(i)&&e(i)}))}},{key:"Je",value:function(t){var e=t.targetId,n=t.fe.count,i=this.Ye(e);if(i){var r=i.target;if(Yo(r))if(0===n){var o=new _r(r.path);this.We(e,o,Co.newNoDocument(o,mr.min()))}else Yi(1===n);else{var a=this.Ze(e);if(a!==n){var s=this.Xe(t),u=s?this.et(s,t,a):1;if(0!==u){this.He(e);var l=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,l)}null==ms||ms.tt(function(t,e,n,i,r){var o,a,s,u,l,c,h={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},f=e.unchangedNames;return f&&(h.bloomFilter={applied:0===r,hashCount:null!==(o=null==f?void 0:f.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(u=null===(s=null===(a=null==f?void 0:f.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(c=null===(l=null==f?void 0:f.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:function(t){var e;return null!==(e=null==i?void 0:i.mightContain(t))&&void 0!==e&&e}}),h}(a,t.fe,this.Le.nt(),s,u))}}}}},{key:"Xe",value:function(t){var e=t.fe.unchangedNames;if(!e||!e.bits)return null;var n,i,r=e.bits,o=r.bitmap,a=void 0===o?"":o,s=r.padding,u=void 0===s?0:s,l=e.hashCount,c=void 0===l?0:l;try{n=eo(a).toUint8Array()}catch(t){if(t instanceof $r)return $i("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{i=new _s(n,u,c)}catch(t){return $i(t instanceof xs?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===i.Te?null:i}},{key:"et",value:function(t,e,n){return e.fe.count===n-this.rt(t,e.targetId)?0:2}},{key:"rt",value:function(t,e){var n=this,i=this.Le.getRemoteKeysForTarget(e),r=0;return i.forEach((function(i){var o=n.Le.nt(),a="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(i.path.canonicalString());t.mightContain(a)||(n.We(e,i,null),r++)})),r}},{key:"it",value:function(t){var e=this,n=new Map;this.ke.forEach((function(i,r){var o=e.Ye(r);if(o){if(i.current&&Yo(o.target)){var a=new _r(o.target.path);null!==e.qe.get(a)||e.st(r,a)||e.We(r,a,Co.newNoDocument(a,t))}i.De&&(n.set(r,i.ve()),i.Fe())}}));var i=Aa();this.Qe.forEach((function(t,n){var r=!0;n.forEachWhile((function(t){var n=e.Ye(t);return!n||"TargetPurposeLimboResolution"===n.purpose||(r=!1,!1)})),r&&(i=i.add(t))})),this.qe.forEach((function(e,n){return n.setReadTime(t)}));var r=new Ss(t,n,this.Ke,this.qe,i);return this.qe=wa(),this.Qe=Ms(),this.Ke=new qr(vr),r}},{key:"Ue",value:function(t,e){if(this.je(t)){var n=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,n),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}}},{key:"We",value:function(t,e,n){if(this.je(t)){var i=this.ze(t);this.st(t,e)?i.Me(e,1):i.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),n&&(this.qe=this.qe.insert(e,n))}}},{key:"removeTarget",value:function(t){this.ke.delete(t)}},{key:"Ze",value:function(t){var e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}},{key:"Oe",value:function(t){this.ze(t).Oe()}},{key:"ze",value:function(t){var e=this.ke.get(t);return e||(e=new Os,this.ke.set(t,e)),e}},{key:"ot",value:function(t){var e=this.Qe.get(t);return e||(e=new Kr(vr),this.Qe=this.Qe.insert(t,e)),e}},{key:"je",value:function(t){var e=null!==this.Ye(t);return e||Gi("WatchChangeAggregator","Detected inactive target",t),e}},{key:"Ye",value:function(t){var e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}},{key:"He",value:function(t){var e=this;this.ke.set(t,new Os),this.Le.getRemoteKeysForTarget(t).forEach((function(n){e.We(t,n,null)}))}},{key:"st",value:function(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}]),t}();function Ms(){return new qr(_r.comparator)}function Is(){return new qr(_r.comparator)}var Ls={asc:"ASCENDING",desc:"DESCENDING"},Rs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ns={and:"AND",or:"OR"},Ds=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.databaseId=e,this.useProto3Json=n}));function Ps(t,e){return t.useProto3Json||Nr(e)?e:{value:e}}function Fs(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bs(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vs(t,e){return Fs(t,e.toTimestamp())}function Us(t){return Yi(!!t),mr.fromTimestamp(function(t){var e=Yr(t);return new yr(e.seconds,e.nanos)}(t))}function zs(t,e){return function(t){return new wr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function js(t){var e=wr.fromString(t);return Yi(lu(e)),e}function qs(t,e){return zs(t.databaseId,e.path)}function Ws(t,e){var n=js(e);if(n.get(1)!==t.databaseId.projectId)throw new nr(er.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new nr(er.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _r(Qs(n))}function Hs(t,e){return zs(t.databaseId,e)}function Ks(t){var e=js(t);return 4===e.length?wr.emptyPath():Qs(e)}function Gs(t){return new wr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qs(t){return Yi(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function $s(t,e,n){return{name:qs(t,e),fields:n.value.mapValue.fields}}function Js(t,e){var n;if(e instanceof ns)n={update:$s(t,e.key,e.value)};else if(e instanceof ls)n={delete:qs(t,e.key)};else if(e instanceof is)n={update:$s(t,e.key,e.data),updateMask:uu(e.fieldMask)};else{if(!(e instanceof cs))return Xi();n={verify:qs(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Fa)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ba)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ua)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ja)return{fieldPath:e.field.canonicalString(),increment:n.Ie};throw Xi()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Vs(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Xi()}(t,e.precondition)),n}function Xs(t,e){return{documents:[Hs(t,e.path)]}}function Ys(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=Hs(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hs(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var r=function(t){if(0!==t.length)return su(Ro.create(t,"and"))}(e.filters);r&&(n.structuredQuery.where=r);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ou(t.field),direction:nu(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=Ps(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function tu(t){var e=Ks(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Yi(1===i);var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function(t){var e=eu(t);return e instanceof Ro&&Do(e)?e.getFilters():[e]}(n.where));var s=[];n.orderBy&&(s=function(t){return t.map((function(t){return function(t){return new Zo(au(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}))}(n.orderBy));var u=null;n.limit&&(u=function(t){var e;return Nr(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=function(t){var e=!!t.before,n=t.values||[];return new To(n,e)}(n.startAt));var c=null;return n.endAt&&(c=function(t){var e=!t.before,n=t.values||[];return new To(n,e)}(n.endAt)),ea(e,r,s,a,u,"F",l,c)}function eu(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=au(t.unaryFilter.field);return Lo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=au(t.unaryFilter.field);return Lo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=au(t.unaryFilter.field);return Lo.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=au(t.unaryFilter.field);return Lo.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Xi()}}(t):void 0!==t.fieldFilter?function(t){return Lo.create(au(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xi()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Ro.create(t.compositeFilter.filters.map((function(t){return eu(t)})),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Xi()}}(t.compositeFilter.op))}(t):Xi()}function nu(t){return Ls[t]}function iu(t){return Rs[t]}function ru(t){return Ns[t]}function ou(t){return{fieldPath:t.canonicalString()}}function au(t){return kr.fromServerFormat(t.fieldPath)}function su(t){return t instanceof Lo?function(t){if("=="===t.op){if(bo(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NAN"}};if(wo(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(bo(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NOT_NAN"}};if(wo(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ou(t.field),op:iu(t.op),value:t.value}}}(t):t instanceof Ro?function(t){var e=t.getFilters().map((function(t){return su(t)}));return 1===e.length?e[0]:{compositeFilter:{op:ru(t.op),filters:e}}}(t):Xi()}function uu(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function lu(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var cu=function(){function t(e,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mr.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:mr.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Jr.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,p.Z)(this,t),this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=u}return(0,y.Z)(t,[{key:"withSequenceNumber",value:function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}},{key:"withExpectedCount",value:function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}},{key:"withLastLimboFreeSnapshotVersion",value:function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}]),t}(),hu=(0,y.Z)((function t(e){(0,p.Z)(this,t),this.ut=e}));function fu(t){var e=tu({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?la(e,e.limit,"L"):e}var du=function(){function t(){(0,p.Z)(this,t)}return(0,y.Z)(t,[{key:"ht",value:function(t,e){this.Pt(t,e),e.It()}},{key:"Pt",value:function(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(to(t.integerValue));else if("doubleValue"in t){var n=to(t.doubleValue);isNaN(n)?this.Tt(e,13):(this.Tt(e,15),Dr(n)?e.Et(0):e.Et(n))}else if("timestampValue"in t){var i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt("".concat(i.seconds||"")),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(eo(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){var r=t.geoPointValue;this.Tt(e,45),e.Et(r.latitude||0),e.Et(r.longitude||0)}else"mapValue"in t?xo(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):Xi()}},{key:"At",value:function(t,e){this.Tt(e,25),this.wt(t,e)}},{key:"wt",value:function(t,e){e.dt(t)}},{key:"gt",value:function(t,e){var n=t.fields||{};this.Tt(e,55);for(var i=0,r=Object.keys(n);i<r.length;i++){var o=r[i];this.At(o,e),this.Pt(n[o],e)}}},{key:"yt",value:function(t,e){var n=t.values||[];this.Tt(e,50);var i,r=(0,l.Z)(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;this.Pt(o,e)}}catch(a){r.e(a)}finally{r.f()}}},{key:"ft",value:function(t,e){var n=this;this.Tt(e,37),_r.fromName(t).path.forEach((function(t){n.Tt(e,60),n.wt(t,e)}))}},{key:"Tt",value:function(t,e){t.Et(e)}},{key:"Rt",value:function(t){t.Et(2)}}]),t}();du.St=new du;var vu=function(){function t(){(0,p.Z)(this,t),this.on=new pu}return(0,y.Z)(t,[{key:"addToCollectionParentIndex",value:function(t,e){return this.on.add(e),Ir.resolve()}},{key:"getCollectionParents",value:function(t,e){return Ir.resolve(this.on.getEntries(e))}},{key:"addFieldIndex",value:function(t,e){return Ir.resolve()}},{key:"deleteFieldIndex",value:function(t,e){return Ir.resolve()}},{key:"deleteAllFieldIndexes",value:function(t){return Ir.resolve()}},{key:"createTargetIndexes",value:function(t,e){return Ir.resolve()}},{key:"getDocumentsMatchingTarget",value:function(t,e){return Ir.resolve(null)}},{key:"getIndexType",value:function(t,e){return Ir.resolve(0)}},{key:"getFieldIndexes",value:function(t,e){return Ir.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(t){return Ir.resolve(null)}},{key:"getMinOffset",value:function(t,e){return Ir.resolve(Cr.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(t,e){return Ir.resolve(Cr.min())}},{key:"updateCollectionGroup",value:function(t,e,n){return Ir.resolve()}},{key:"updateIndexEntries",value:function(t,e){return Ir.resolve()}}]),t}(),pu=function(){function t(){(0,p.Z)(this,t),this.index={}}return(0,y.Z)(t,[{key:"add",value:function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Kr(wr.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}},{key:"has",value:function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}},{key:"getEntries",value:function(t){return(this.index[t]||new Kr(wr.comparator)).toArray()}}]),t}();new Uint8Array(0);var yu=function(){function t(e,n,i){(0,p.Z)(this,t),this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return(0,y.Z)(t,null,[{key:"withCacheSize",value:function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),t}();yu.DEFAULT_COLLECTION_PERCENTILE=10,yu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yu.DEFAULT=new yu(41943040,yu.DEFAULT_COLLECTION_PERCENTILE,yu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yu.DISABLED=new yu(-1,0,0);var mu=function(){function t(e){(0,p.Z)(this,t),this.xn=e}return(0,y.Z)(t,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"On",value:function(){return new t(0)}},{key:"Nn",value:function(){return new t(-1)}}]),t}();var gu=function(){function t(){(0,p.Z)(this,t),this.changes=new ma((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return(0,y.Z)(t,[{key:"addEntry",value:function(t){this.assertNotApplied(),this.changes.set(t.key,t)}},{key:"removeEntry",value:function(t,e){this.assertNotApplied(),this.changes.set(t,Co.newInvalidDocument(t).setReadTime(e))}},{key:"getEntry",value:function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ir.resolve(n):this.getFromCache(t,e)}},{key:"getEntries",value:function(t,e){return this.getAllFromCache(t,e)}},{key:"apply",value:function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}},{key:"assertNotApplied",value:function(){}}]),t}();var wu=(0,y.Z)((function t(e,n){(0,p.Z)(this,t),this.overlayedDocument=e,this.mutatedFields=n})),bu=function(){function t(e,n,i,r){(0,p.Z)(this,t),this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}return(0,y.Z)(t,[{key:"getDocument",value:function(t,e){var n=this,i=null;return this.documentOverlayCache.getOverlay(t,e).next((function(r){return i=r,n.remoteDocumentCache.getEntry(t,e)})).next((function(t){return null!==i&&Ya(i.mutation,t,Qr.empty(),yr.now()),t}))}},{key:"getDocuments",value:function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next((function(e){return n.getLocalViewOfDocuments(t,e,Aa()).next((function(){return e}))}))}},{key:"getLocalViewOfDocuments",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Aa(),r=xa();return this.populateOverlays(t,r,e).next((function(){return n.computeViews(t,e,r,i).next((function(t){var e=ka();return t.forEach((function(t,n){e=e.insert(t,n.overlayedDocument)})),e}))}))}},{key:"getOverlayedDocuments",value:function(t,e){var n=this,i=xa();return this.populateOverlays(t,i,e).next((function(){return n.computeViews(t,e,i,Aa())}))}},{key:"populateOverlays",value:function(t,e,n){var i=[];return n.forEach((function(t){e.has(t)||i.push(t)})),this.documentOverlayCache.getOverlays(t,i).next((function(t){t.forEach((function(t,n){e.set(t,n)}))}))}},{key:"computeViews",value:function(t,e,n,i){var r=wa(),o=Ea(),a=Ea();return e.forEach((function(t,e){var a=n.get(e.key);i.has(e.key)&&(void 0===a||a.mutation instanceof is)?r=r.insert(e.key,e):void 0!==a?(o.set(e.key,a.mutation.getFieldMask()),Ya(a.mutation,e,a.mutation.getFieldMask(),yr.now())):o.set(e.key,Qr.empty())})),this.recalculateAndSaveOverlays(t,r).next((function(t){return t.forEach((function(t,e){return o.set(t,e)})),e.forEach((function(t,e){var n;return a.set(t,new wu(e,null!==(n=o.get(t))&&void 0!==n?n:null))})),a}))}},{key:"recalculateAndSaveOverlays",value:function(t,e){var n=this,i=Ea(),r=new qr((function(t,e){return t-e})),o=Aa();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){var n,o=(0,l.Z)(t);try{var a=function(){var t=n.value;t.keys().forEach((function(n){var o=e.get(n);if(null!==o){var a=i.get(n)||Qr.empty();a=t.applyToLocalView(o,a),i.set(n,a);var s=(r.get(t.batchId)||Aa()).add(n);r=r.insert(t.batchId,s)}}))};for(o.s();!(n=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}})).next((function(){for(var a=[],s=r.getReverseIterator(),u=function(){var r=s.getNext(),u=r.key,l=r.value,c=Sa();l.forEach((function(t){if(!o.has(t)){var n=Ja(e.get(t),i.get(t));null!==n&&c.set(t,n),o=o.add(t)}})),a.push(n.documentOverlayCache.saveOverlays(t,u,c))};s.hasNext();)u();return Ir.waitFor(a)})).next((function(){return i}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next((function(e){return n.recalculateAndSaveOverlays(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(t,e,n,i){return function(t){return _r.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):ra(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,i):this.getDocumentsMatchingCollectionQuery(t,e,n,i)}},{key:"getNextDocuments",value:function(t,e,n,i){var r=this;return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next((function(o){var a=i-o.size>0?r.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-o.size):Ir.resolve(xa()),s=-1,u=o;return a.next((function(e){return Ir.forEach(e,(function(e,n){return s<n.largestBatchId&&(s=n.largestBatchId),o.get(e)?Ir.resolve():r.remoteDocumentCache.getEntry(t,e).next((function(t){u=u.insert(e,t)}))})).next((function(){return r.populateOverlays(t,e,o)})).next((function(){return r.computeViews(t,u,e,Aa())})).next((function(t){return{batchId:s,changes:_a(t)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(t,e){return this.getDocument(t,new _r(e)).next((function(t){var e=ka();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(t,e,n,i){var r=this,o=e.collectionGroup,a=ka();return this.indexManager.getCollectionParents(t,o).next((function(s){return Ir.forEach(s,(function(s){var u=function(t,e){return new ta(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(o));return r.getDocumentsMatchingCollectionQuery(t,u,n,i).next((function(t){t.forEach((function(t,e){a=a.insert(t,e)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(t,e,n,i){var r,o=this;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((function(a){return r=a,o.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,r,i)})).next((function(t){r.forEach((function(e,n){var i=n.getKey();null===t.get(i)&&(t=t.insert(i,Co.newInvalidDocument(i)))}));var n=ka();return t.forEach((function(t,i){var o=r.get(t);void 0!==o&&Ya(o.mutation,i,Qr.empty(),yr.now()),da(e,i)&&(n=n.insert(t,i))})),n}))}}]),t}(),ku=function(){function t(e){(0,p.Z)(this,t),this.serializer=e,this.ur=new Map,this.cr=new Map}return(0,y.Z)(t,[{key:"getBundleMetadata",value:function(t,e){return Ir.resolve(this.ur.get(e))}},{key:"saveBundleMetadata",value:function(t,e){return this.ur.set(e.id,function(t){return{id:t.id,version:t.version,createTime:Us(t.createTime)}}(e)),Ir.resolve()}},{key:"getNamedQuery",value:function(t,e){return Ir.resolve(this.cr.get(e))}},{key:"saveNamedQuery",value:function(t,e){return this.cr.set(e.name,function(t){return{name:t.name,query:fu(t.bundledQuery),readTime:Us(t.readTime)}}(e)),Ir.resolve()}}]),t}(),_u=function(){function t(){(0,p.Z)(this,t),this.overlays=new qr(_r.comparator),this.lr=new Map}return(0,y.Z)(t,[{key:"getOverlay",value:function(t,e){return Ir.resolve(this.overlays.get(e))}},{key:"getOverlays",value:function(t,e){var n=this,i=xa();return Ir.forEach(e,(function(e){return n.getOverlay(t,e).next((function(t){null!==t&&i.set(e,t)}))})).next((function(){return i}))}},{key:"saveOverlays",value:function(t,e,n){var i=this;return n.forEach((function(n,r){i.lt(t,e,r)})),Ir.resolve()}},{key:"removeOverlaysForBatchId",value:function(t,e,n){var i=this,r=this.lr.get(n);return void 0!==r&&(r.forEach((function(t){return i.overlays=i.overlays.remove(t)})),this.lr.delete(n)),Ir.resolve()}},{key:"getOverlaysForCollection",value:function(t,e,n){for(var i=xa(),r=e.length+1,o=new _r(e.child("")),a=this.overlays.getIteratorFrom(o);a.hasNext();){var s=a.getNext().value,u=s.getKey();if(!e.isPrefixOf(u.path))break;u.path.length===r&&s.largestBatchId>n&&i.set(s.getKey(),s)}return Ir.resolve(i)}},{key:"getOverlaysForCollectionGroup",value:function(t,e,n,i){for(var r=new qr((function(t,e){return t-e})),o=this.overlays.getIterator();o.hasNext();){var a=o.getNext().value;if(a.getKey().getCollectionGroup()===e&&a.largestBatchId>n){var s=r.get(a.largestBatchId);null===s&&(s=xa(),r=r.insert(a.largestBatchId,s)),s.set(a.getKey(),a)}}for(var u=xa(),l=r.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(t,e){return u.set(t,e)})),!(u.size()>=i)););return Ir.resolve(u)}},{key:"lt",value:function(t,e,n){var i=this.overlays.get(n.key);if(null!==i){var r=this.lr.get(i.largestBatchId).delete(n.key);this.lr.set(i.largestBatchId,r)}this.overlays=this.overlays.insert(n.key,new ds(e,n));var o=this.lr.get(e);void 0===o&&(o=Aa(),this.lr.set(e,o)),this.lr.set(e,o.add(n.key))}}]),t}(),xu=function(){function t(){(0,p.Z)(this,t),this.hr=new Kr(Su.Pr),this.Ir=new Kr(Su.Tr)}return(0,y.Z)(t,[{key:"isEmpty",value:function(){return this.hr.isEmpty()}},{key:"addReference",value:function(t,e){var n=new Su(t,e);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}},{key:"Er",value:function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))}},{key:"removeReference",value:function(t,e){this.dr(new Su(t,e))}},{key:"Ar",value:function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))}},{key:"Rr",value:function(t){var e=this,n=new _r(new wr([])),i=new Su(n,t),r=new Su(n,t+1),o=[];return this.Ir.forEachInRange([i,r],(function(t){e.dr(t),o.push(t.key)})),o}},{key:"Vr",value:function(){var t=this;this.hr.forEach((function(e){return t.dr(e)}))}},{key:"dr",value:function(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}},{key:"mr",value:function(t){var e=new _r(new wr([])),n=new Su(e,t),i=new Su(e,t+1),r=Aa();return this.Ir.forEachInRange([n,i],(function(t){r=r.add(t.key)})),r}},{key:"containsKey",value:function(t){var e=new Su(t,0),n=this.hr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}]),t}(),Su=function(){function t(e,n){(0,p.Z)(this,t),this.key=e,this.gr=n}return(0,y.Z)(t,null,[{key:"Pr",value:function(t,e){return _r.comparator(t.key,e.key)||vr(t.gr,e.gr)}},{key:"Tr",value:function(t,e){return vr(t.gr,e.gr)||_r.comparator(t.key,e.key)}}]),t}(),Eu=function(){function t(e,n){(0,p.Z)(this,t),this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Kr(Su.Pr)}return(0,y.Z)(t,[{key:"checkEmpty",value:function(t){return Ir.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(t,e,n,i){var r=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var o=new hs(r,e,n,i);this.mutationQueue.push(o);var a,s=(0,l.Z)(i);try{for(s.s();!(a=s.n()).done;){var u=a.value;this.yr=this.yr.add(new Su(u.key,r)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Ir.resolve(o)}},{key:"lookupMutationBatch",value:function(t,e){return Ir.resolve(this.wr(e))}},{key:"getNextMutationBatchAfterBatchId",value:function(t,e){var n=e+1,i=this.Sr(n),r=i<0?0:i;return Ir.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ir.resolve(0===this.mutationQueue.length?-1:this.pr-1)}},{key:"getAllMutationBatches",value:function(t){return Ir.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(t,e){var n=this,i=new Su(e,0),r=new Su(e,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],(function(t){var e=n.wr(t.gr);o.push(e)})),Ir.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(t,e){var n=this,i=new Kr(vr);return e.forEach((function(t){var e=new Su(t,0),r=new Su(t,Number.POSITIVE_INFINITY);n.yr.forEachInRange([e,r],(function(t){i=i.add(t.gr)}))})),Ir.resolve(this.br(i))}},{key:"getAllMutationBatchesAffectingQuery",value:function(t,e){var n=e.path,i=n.length+1,r=n;_r.isDocumentKey(r)||(r=r.child(""));var o=new Su(new _r(r),0),a=new Kr(vr);return this.yr.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(a=a.add(t.gr)),!0)}),o),Ir.resolve(this.br(a))}},{key:"br",value:function(t){var e=this,n=[];return t.forEach((function(t){var i=e.wr(t);null!==i&&n.push(i)})),n}},{key:"removeMutationBatch",value:function(t,e){var n=this;Yi(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();var i=this.yr;return Ir.forEach(e.mutations,(function(r){var o=new Su(r.key,e.batchId);return i=i.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((function(){n.yr=i}))}},{key:"Fn",value:function(t){}},{key:"containsKey",value:function(t,e){var n=new Su(e,0),i=this.yr.firstAfterOrEqual(n);return Ir.resolve(e.isEqual(i&&i.key))}},{key:"performConsistencyCheck",value:function(t){return this.mutationQueue.length,Ir.resolve()}},{key:"Dr",value:function(t,e){return this.Sr(t)}},{key:"Sr",value:function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}},{key:"wr",value:function(t){var e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}]),t}(),Cu=function(){function t(e){(0,p.Z)(this,t),this.Cr=e,this.docs=new qr(_r.comparator),this.size=0}return(0,y.Z)(t,[{key:"setIndexManager",value:function(t){this.indexManager=t}},{key:"addEntry",value:function(t,e){var n=e.key,i=this.docs.get(n),r=i?i.size:0,o=this.Cr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}},{key:"removeEntry",value:function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}},{key:"getEntry",value:function(t,e){var n=this.docs.get(e);return Ir.resolve(n?n.document.mutableCopy():Co.newInvalidDocument(e))}},{key:"getEntries",value:function(t,e){var n=this,i=wa();return e.forEach((function(t){var e=n.docs.get(t);i=i.insert(t,e?e.document.mutableCopy():Co.newInvalidDocument(t))})),Ir.resolve(i)}},{key:"getDocumentsMatchingQuery",value:function(t,e,n,i){for(var r=wa(),o=e.path,a=new _r(o.child("")),s=this.docs.getIteratorFrom(a);s.hasNext();){var u=s.getNext(),l=u.key,c=u.value.document;if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Tr(Er(c),n)<=0||(i.has(c.key)||da(e,c))&&(r=r.insert(c.key,c.mutableCopy()))}return Ir.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(t,e,n,i){Xi()}},{key:"vr",value:function(t,e){return Ir.forEach(this.docs,(function(t){return e(t)}))}},{key:"newChangeBuffer",value:function(t){return new Tu(this)}},{key:"getSize",value:function(t){return Ir.resolve(this.size)}}]),t}(),Tu=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t){var i;return(0,p.Z)(this,n),(i=e.call(this))._r=t,i}return(0,y.Z)(n,[{key:"applyChanges",value:function(t){var e=this,n=[];return this.changes.forEach((function(i,r){r.isValidDocument()?n.push(e._r.addEntry(t,r)):e._r.removeEntry(i)})),Ir.waitFor(n)}},{key:"getFromCache",value:function(t,e){return this._r.getEntry(t,e)}},{key:"getAllFromCache",value:function(t,e){return this._r.getEntries(t,e)}}]),n}(gu),Au=function(){function t(e){(0,p.Z)(this,t),this.persistence=e,this.Fr=new ma((function(t){return Jo(t)}),Xo),this.lastRemoteSnapshotVersion=mr.min(),this.highestTargetId=0,this.Mr=0,this.Or=new xu,this.targetCount=0,this.Nr=mu.On()}return(0,y.Z)(t,[{key:"forEachTarget",value:function(t,e){return this.Fr.forEach((function(t,n){return e(n)})),Ir.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(t){return Ir.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(t){return Ir.resolve(this.Mr)}},{key:"allocateTargetId",value:function(t){return this.highestTargetId=this.Nr.next(),Ir.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Mr&&(this.Mr=e),Ir.resolve()}},{key:"kn",value:function(t){this.Fr.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Nr=new mu(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}},{key:"addTargetData",value:function(t,e){return this.kn(e),this.targetCount+=1,Ir.resolve()}},{key:"updateTargetData",value:function(t,e){return this.kn(e),Ir.resolve()}},{key:"removeTargetData",value:function(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,Ir.resolve()}},{key:"removeTargets",value:function(t,e,n){var i=this,r=0,o=[];return this.Fr.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(i.Fr.delete(a),o.push(i.removeMatchingKeysForTargetId(t,s.targetId)),r++)})),Ir.waitFor(o).next((function(){return r}))}},{key:"getTargetCount",value:function(t){return Ir.resolve(this.targetCount)}},{key:"getTargetData",value:function(t,e){var n=this.Fr.get(e)||null;return Ir.resolve(n)}},{key:"addMatchingKeys",value:function(t,e,n){return this.Or.Er(e,n),Ir.resolve()}},{key:"removeMatchingKeys",value:function(t,e,n){this.Or.Ar(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((function(e){r.push(i.markPotentiallyOrphaned(t,e))})),Ir.waitFor(r)}},{key:"removeMatchingKeysForTargetId",value:function(t,e){return this.Or.Rr(e),Ir.resolve()}},{key:"getMatchingKeysForTargetId",value:function(t,e){var n=this.Or.mr(e);return Ir.resolve(n)}},{key:"containsKey",value:function(t,e){return Ir.resolve(this.Or.containsKey(e))}}]),t}(),Ou=function(){function t(e,n){var i=this;(0,p.Z)(this,t),this.Br={},this.overlays={},this.Lr=new Rr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Au(this),this.indexManager=new vu,this.remoteDocumentCache=function(t){return new Cu(t)}((function(t){return i.referenceDelegate.Qr(t)})),this.serializer=new hu(n),this.Kr=new ku(this.serializer)}return(0,y.Z)(t,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.kr=!1,Promise.resolve()}},{key:"started",get:function(){return this.kr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(t){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(t){var e=this.overlays[t.toKey()];return e||(e=new _u,this.overlays[t.toKey()]=e),e}},{key:"getMutationQueue",value:function(t,e){var n=this.Br[t.toKey()];return n||(n=new Eu(e,this.referenceDelegate),this.Br[t.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(t,e,n){var i=this;Gi("MemoryPersistence","Starting transaction:",t);var r=new Zu(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((function(t){return i.referenceDelegate.Ur(r).next((function(){return t}))})).toPromise().then((function(t){return r.raiseOnCommittedEvent(),t}))}},{key:"Wr",value:function(t,e){return Ir.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(t,e)}})))}}]),t}(),Zu=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t){var i;return(0,p.Z)(this,n),(i=e.call(this)).currentSequenceNumber=t,i}return(0,y.Z)(n)}(Or),Mu=function(){function t(e){(0,p.Z)(this,t),this.persistence=e,this.Gr=new xu,this.zr=null}return(0,y.Z)(t,[{key:"Hr",get:function(){if(this.zr)return this.zr;throw Xi()}},{key:"addReference",value:function(t,e,n){return this.Gr.addReference(n,e),this.Hr.delete(n.toString()),Ir.resolve()}},{key:"removeReference",value:function(t,e,n){return this.Gr.removeReference(n,e),this.Hr.add(n.toString()),Ir.resolve()}},{key:"markPotentiallyOrphaned",value:function(t,e){return this.Hr.add(e.toString()),Ir.resolve()}},{key:"removeTarget",value:function(t,e){var n=this;this.Gr.Rr(e.targetId).forEach((function(t){return n.Hr.add(t.toString())}));var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.Hr.add(t.toString())}))})).next((function(){return i.removeTargetData(t,e)}))}},{key:"$r",value:function(){this.zr=new Set}},{key:"Ur",value:function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ir.forEach(this.Hr,(function(i){var r=_r.fromPath(i);return e.Jr(t,r).next((function(t){t||n.removeEntry(r,mr.min())}))})).next((function(){return e.zr=null,n.apply(t)}))}},{key:"updateLimboDocument",value:function(t,e){var n=this;return this.Jr(t,e).next((function(t){t?n.Hr.delete(e.toString()):n.Hr.add(e.toString())}))}},{key:"Qr",value:function(t){return 0}},{key:"Jr",value:function(t,e){var n=this;return Ir.or([function(){return Ir.resolve(n.Gr.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Wr(t,e)}])}}],[{key:"jr",value:function(e){return new t(e)}}]),t}();var Iu=function(){function t(e,n,i,r){(0,p.Z)(this,t),this.targetId=e,this.fromCache=n,this.ki=i,this.qi=r}return(0,y.Z)(t,null,[{key:"Qi",value:function(e,n){var i,r=Aa(),o=Aa(),a=(0,l.Z)(n.docChanges);try{for(a.s();!(i=a.n()).done;){var s=i.value;switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}}}catch(u){a.e(u)}finally{a.f()}return new t(e,n.fromCache,r,o)}}]),t}(),Lu=function(){function t(){(0,p.Z)(this,t),this._documentReadCount=0}return(0,y.Z)(t,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(t){this._documentReadCount+=t}}]),t}(),Ru=function(){function t(){(0,p.Z)(this,t),this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}return(0,y.Z)(t,[{key:"initialize",value:function(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}},{key:"getDocumentsMatchingQuery",value:function(t,e,n,i){var r=this,o={result:null};return this.zi(t,e).next((function(t){o.result=t})).next((function(){if(!o.result)return r.ji(t,e,i,n).next((function(t){o.result=t}))})).next((function(){if(!o.result){var n=new Lu;return r.Hi(t,e,n).next((function(i){if(o.result=i,r.$i)return r.Ji(t,e,n,i.size)}))}})).next((function(){return o.result}))}},{key:"Ji",value:function(t,e,n,i){return n.documentReadCount<this.Ui?(Ki()<=w.in.DEBUG&&Gi("QueryEngine","SDK will not create cache indexes for query:",fa(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Ir.resolve()):(Ki()<=w.in.DEBUG&&Gi("QueryEngine","Query:",fa(e),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Wi*i?(Ki()<=w.in.DEBUG&&Gi("QueryEngine","The SDK decides to create cache indexes for query:",fa(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,aa(e))):Ir.resolve())}},{key:"zi",value:function(t,e){var n=this;if(ia(e))return Ir.resolve(null);var i=aa(e);return this.indexManager.getIndexType(t,i).next((function(r){return 0===r?null:(null!==e.limit&&1===r&&(e=la(e,null,"F"),i=aa(e)),n.indexManager.getDocumentsMatchingTarget(t,i).next((function(r){var o=Aa.apply(void 0,(0,v.Z)(r));return n.Gi.getDocuments(t,o).next((function(r){return n.indexManager.getMinOffset(t,i).next((function(i){var a=n.Yi(e,r);return n.Zi(e,a,o,i.readTime)?n.zi(t,la(e,null,"F")):n.Xi(t,a,e,i)}))}))})))}))}},{key:"ji",value:function(t,e,n,i){var r=this;return ia(e)||i.isEqual(mr.min())?Ir.resolve(null):this.Gi.getDocuments(t,n).next((function(o){var a=r.Yi(e,o);return r.Zi(e,a,n,i)?Ir.resolve(null):(Ki()<=w.in.DEBUG&&Gi("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fa(e)),r.Xi(t,a,e,Sr(i,-1)).next((function(t){return t})))}))}},{key:"Yi",value:function(t,e){var n=new Kr(pa(t));return e.forEach((function(e,i){da(t,i)&&(n=n.add(i))})),n}},{key:"Zi",value:function(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;var r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}},{key:"Hi",value:function(t,e,n){return Ki()<=w.in.DEBUG&&Gi("QueryEngine","Using full collection scan to execute query:",fa(e)),this.Gi.getDocumentsMatchingQuery(t,e,Cr.min(),n)}},{key:"Xi",value:function(t,e,n,i){return this.Gi.getDocumentsMatchingQuery(t,n,i).next((function(t){return e.forEach((function(e){t=t.insert(e.key,e)})),t}))}}]),t}(),Nu=function(){function t(e,n,i,r){(0,p.Z)(this,t),this.persistence=e,this.es=n,this.serializer=r,this.ts=new qr(vr),this.ns=new ma((function(t){return Jo(t)}),Xo),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}return(0,y.Z)(t,[{key:"os",value:function(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new bu(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.ts)}))}}]),t}();function Du(t,e,n,i){return new Nu(t,e,n,i)}function Pu(t,e){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=tr(e),t.next=3,i.persistence.runTransaction("Handle user change","readonly",(function(t){var e;return i.mutationQueue.getAllMutationBatches(t).next((function(r){return e=r,i.os(n),i.mutationQueue.getAllMutationBatches(t)})).next((function(n){var r,o=[],a=[],s=Aa(),u=(0,l.Z)(e);try{for(u.s();!(r=u.n()).done;){var c=r.value;o.push(c.batchId);var h,f=(0,l.Z)(c.mutations);try{for(f.s();!(h=f.n()).done;){var d=h.value;s=s.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var v,p=(0,l.Z)(n);try{for(p.s();!(v=p.n()).done;){var y=v.value;a.push(y.batchId);var m,g=(0,l.Z)(y.mutations);try{for(g.s();!(m=g.n()).done;){var w=m.value;s=s.add(w.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return i.localDocuments.getDocuments(t,s).next((function(t){return{_s:t,removedBatchIds:o,addedBatchIds:a}}))}))}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),Fu.apply(this,arguments)}function Bu(t,e){var n=tr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var i=e.batch.keys(),r=n.ss.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){var r=n.batch,o=r.keys(),a=Ir.resolve();return o.forEach((function(t){a=a.next((function(){return i.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Yi(null!==o),e.version.compareTo(o)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))}))})),a.next((function(){return t.mutationQueue.removeMutationBatch(e,r)}))}(n,t,e,r).next((function(){return r.apply(t)})).next((function(){return n.mutationQueue.performConsistencyCheck(t)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){for(var e=Aa(),n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e))})).next((function(){return n.localDocuments.getDocuments(t,i)}))}))}function Vu(t){var e=tr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qr.getLastRemoteSnapshotVersion(t)}))}function Uu(t,e){var n=tr(t),i=e.snapshotVersion,r=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.ss.newChangeBuffer({trackRemovals:!0});r=n.ts;var a=[];e.targetChanges.forEach((function(o,s){var u=r.get(s);if(u){a.push(n.qr.removeMatchingKeys(t,o.removedDocuments,s).next((function(){return n.qr.addMatchingKeys(t,o.addedDocuments,s)})));var l=u.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(s)?l=l.withResumeToken(Jr.EMPTY_BYTE_STRING,mr.min()).withLastLimboFreeSnapshotVersion(mr.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,i)),r=r.insert(s,l),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,o)&&a.push(n.qr.updateTargetData(t,l))}}));var s=wa(),u=Aa();if(e.documentUpdates.forEach((function(i){e.resolvedLimboDocuments.has(i)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),a.push(zu(t,o,e.documentUpdates).next((function(t){s=t.us,u=t.cs}))),!i.isEqual(mr.min())){var l=n.qr.getLastRemoteSnapshotVersion(t).next((function(e){return n.qr.setTargetsMetadata(t,t.currentSequenceNumber,i)}));a.push(l)}return Ir.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(t,s,u)})).next((function(){return s}))})).then((function(t){return n.ts=r,t}))}function zu(t,e,n){var i=Aa(),r=Aa();return n.forEach((function(t){return i=i.add(t)})),e.getEntries(t,i).next((function(t){var i=wa();return n.forEach((function(n,o){var a=t.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(r=r.add(n)),o.isNoDocument()&&o.version.isEqual(mr.min())?(e.removeEntry(n,o.readTime),i=i.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o),i=i.insert(n,o)):Gi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{us:i,cs:r}}))}function ju(t,e){var n=tr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e)}))}function qu(t,e){var n=tr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var i;return n.qr.getTargetData(t,e).next((function(r){return r?(i=r,Ir.resolve(i)):n.qr.allocateTargetId(t).next((function(r){return i=new cu(e,r,"TargetPurposeListen",t.currentSequenceNumber),n.qr.addTargetData(t,i).next((function(){return i}))}))}))})).then((function(t){var i=n.ts.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(t.targetId,t),n.ns.set(e,t.targetId)),t}))}function Wu(t,e,n){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){var r,o,a;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=tr(e),o=r.ts.get(n),a=i?"readwrite":"readwrite-primary",t.prev=1,t.t0=i,t.t0){t.next=6;break}return t.next=6,r.persistence.runTransaction("Release target",a,(function(t){return r.persistence.referenceDelegate.removeTarget(t,o)}));case 6:t.next=13;break;case 8:if(t.prev=8,t.t1=t.catch(1),Lr(t.t1)){t.next=12;break}throw t.t1;case 12:Gi("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(t.t1));case 13:r.ts=r.ts.remove(n),r.ns.delete(o.target);case 14:case"end":return t.stop()}}),t,null,[[1,8]])}))),Hu.apply(this,arguments)}function Ku(t,e,n){var i=tr(t),r=mr.min(),o=Aa();return i.persistence.runTransaction("Execute query","readwrite",(function(t){return function(t,e,n){var i=tr(t),r=i.ns.get(n);return void 0!==r?Ir.resolve(i.ts.get(r)):i.qr.getTargetData(e,n)}(i,t,aa(e)).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return i.es.getDocumentsMatchingQuery(t,e,n?r:mr.min(),n?o:Aa())})).next((function(t){return Gu(i,va(e),t),{documents:t,ls:o}}))}))}function Gu(t,e,n){var i=t.rs.get(e)||mr.min();n.forEach((function(t,e){e.readTime.compareTo(i)>0&&(i=e.readTime)})),t.rs.set(e,i)}var Qu=function(){function t(){(0,p.Z)(this,t),this.activeTargetIds=Za()}return(0,y.Z)(t,[{key:"ds",value:function(t){this.activeTargetIds=this.activeTargetIds.add(t)}},{key:"As",value:function(t){this.activeTargetIds=this.activeTargetIds.delete(t)}},{key:"Es",value:function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}]),t}(),$u=function(){function t(){(0,p.Z)(this,t),this.eo=new Qu,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,y.Z)(t,[{key:"addPendingMutation",value:function(t){}},{key:"updateMutationState",value:function(t,e,n){}},{key:"addLocalQueryTarget",value:function(t){return this.eo.ds(t),this.no[t]||"not-current"}},{key:"updateQueryState",value:function(t,e,n){this.no[t]=e}},{key:"removeLocalQueryTarget",value:function(t){this.eo.As(t)}},{key:"isLocalQueryTarget",value:function(t){return this.eo.activeTargetIds.has(t)}},{key:"clearQueryState",value:function(t){delete this.no[t]}},{key:"getAllActiveQueryTargets",value:function(){return this.eo.activeTargetIds}},{key:"isActiveQueryTarget",value:function(t){return this.eo.activeTargetIds.has(t)}},{key:"start",value:function(){return this.eo=new Qu,Promise.resolve()}},{key:"handleUserChange",value:function(t,e,n){}},{key:"setOnlineState",value:function(t){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(t){}},{key:"notifyBundleLoaded",value:function(t){}}]),t}(),Ju=function(){function t(){(0,p.Z)(this,t)}return(0,y.Z)(t,[{key:"ro",value:function(t){}},{key:"shutdown",value:function(){}}]),t}(),Xu=function(){function t(){var e=this;(0,p.Z)(this,t),this.io=function(){return e.so()},this.oo=function(){return e._o()},this.ao=[],this.uo()}return(0,y.Z)(t,[{key:"ro",value:function(t){this.ao.push(t)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}},{key:"uo",value:function(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}},{key:"so",value:function(){Gi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var t,e=(0,l.Z)(this.ao);try{for(e.s();!(t=e.n()).done;){(0,t.value)(0)}}catch(n){e.e(n)}finally{e.f()}}},{key:"_o",value:function(){Gi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var t,e=(0,l.Z)(this.ao);try{for(e.s();!(t=e.n()).done;){(0,t.value)(1)}}catch(n){e.e(n)}finally{e.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),t}(),Yu=null;function tl(){return null===Yu?Yu=268435456+Math.round(2147483648*Math.random()):Yu++,"0x"+Yu.toString(16)}var el={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},nl=function(){function t(e){(0,p.Z)(this,t),this.co=e.co,this.lo=e.lo}return(0,y.Z)(t,[{key:"ho",value:function(t){this.Po=t}},{key:"Io",value:function(t){this.To=t}},{key:"onMessage",value:function(t){this.Eo=t}},{key:"close",value:function(){this.lo()}},{key:"send",value:function(t){this.co(t)}},{key:"Ao",value:function(){this.Po()}},{key:"Ro",value:function(t){this.To(t)}},{key:"Vo",value:function(t){this.Eo(t)}}]),t}(),il="WebChannelConnection",rl=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t){var i;return(0,p.Z)(this,n),(i=e.call(this,t)).forceLongPolling=t.forceLongPolling,i.autoDetectLongPolling=t.autoDetectLongPolling,i.useFetchStreams=t.useFetchStreams,i.longPollingOptions=t.longPollingOptions,i}return(0,y.Z)(n,[{key:"Do",value:function(t,e,n,i){var r=tl();return new Promise((function(o,a){var s=new Vi;s.setWithCredentials(!0),s.listenOnce(Ni.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Ri.NO_ERROR:var e=s.getResponseJson();Gi(il,"XHR for RPC '".concat(t,"' ").concat(r," received:"),JSON.stringify(e)),o(e);break;case Ri.TIMEOUT:Gi(il,"RPC '".concat(t,"' ").concat(r," timed out")),a(new nr(er.DEADLINE_EXCEEDED,"Request time out"));break;case Ri.HTTP_ERROR:var n=s.getStatus();if(Gi(il,"RPC '".concat(t,"' ").concat(r," failed with status:"),n,"response text:",s.getResponseText()),n>0){var i=s.getResponseJson();Array.isArray(i)&&(i=i[0]);var u=null==i?void 0:i.error;if(u&&u.status&&u.message){var l=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(er).indexOf(e)>=0?e:er.UNKNOWN}(u.status);a(new nr(l,u.message))}else a(new nr(er.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new nr(er.UNAVAILABLE,"Connection failed."));break;default:Xi()}}finally{Gi(il,"RPC '".concat(t,"' ").concat(r," completed."))}}));var u=JSON.stringify(i);Gi(il,"RPC '".concat(t,"' ").concat(r," sending request:"),i),s.send(e,"POST",u,n,15)}))}},{key:"vo",value:function(t,e,n){var i=tl(),r=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Ii(),a=Li(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new Fi({})),this.bo(s.initMessageHeaders,e,n),s.encodeInitMessageHeaders=!0;var l=r.join("");Gi(il,"Creating RPC '".concat(t,"' stream ").concat(i,": ").concat(l),s);var c=o.createWebChannel(l,s),h=!1,f=!1,d=new nl({co:function(e){f?Gi(il,"Not sending because RPC '".concat(t,"' stream ").concat(i," is closed:"),e):(h||(Gi(il,"Opening RPC '".concat(t,"' stream ").concat(i," transport.")),c.open(),h=!0),Gi(il,"RPC '".concat(t,"' stream ").concat(i," sending:"),e),c.send(e))},lo:function(){return c.close()}}),v=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return v(c,Bi.EventType.OPEN,(function(){f||Gi(il,"RPC '".concat(t,"' stream ").concat(i," transport opened."))})),v(c,Bi.EventType.CLOSE,(function(){f||(f=!0,Gi(il,"RPC '".concat(t,"' stream ").concat(i," transport closed")),d.Ro())})),v(c,Bi.EventType.ERROR,(function(e){f||(f=!0,$i(il,"RPC '".concat(t,"' stream ").concat(i," transport errored:"),e),d.Ro(new nr(er.UNAVAILABLE,"The operation could not be completed")))})),v(c,Bi.EventType.MESSAGE,(function(e){var n;if(!f){var r=e.data[0];Yi(!!r);var o=r,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Gi(il,"RPC '".concat(t,"' stream ").concat(i," received error:"),a);var s=a.status,u=function(t){var e=ss[t];if(void 0!==e)return ys(e)}(s),l=a.message;void 0===u&&(u=er.INTERNAL,l="Unknown error status: "+s+" with message "+a.message),f=!0,d.Ro(new nr(u,l)),c.close()}else Gi(il,"RPC '".concat(t,"' stream ").concat(i," received:"),r),d.Vo(r)}})),v(a,Di.STAT_EVENT,(function(e){e.stat===Pi.PROXY?Gi(il,"RPC '".concat(t,"' stream ").concat(i," detected buffering proxy")):e.stat===Pi.NOPROXY&&Gi(il,"RPC '".concat(t,"' stream ").concat(i," detected no buffering proxy"))})),setTimeout((function(){d.Ao()}),0),d}}]),n}(function(){function t(e){(0,p.Z)(this,t),this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=n+"://"+e.host,this.fo="projects/".concat(i,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(i):"project_id=".concat(i,"&database_id=").concat(r)}return(0,y.Z)(t,[{key:"yo",get:function(){return!1}},{key:"wo",value:function(t,e,n,i,r){var o=tl(),a=this.So(t,e);Gi("RestConnection","Sending RPC '".concat(t,"' ").concat(o,":"),a,n);var s={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(s,i,r),this.Do(t,a,s,n).then((function(e){return Gi("RestConnection","Received RPC '".concat(t,"' ").concat(o,": "),e),e}),(function(e){throw $i("RestConnection","RPC '".concat(t,"' ").concat(o," failed with error: "),e,"url: ",a,"request:",n),e}))}},{key:"Co",value:function(t,e,n,i,r,o){return this.wo(t,e,n,i,r)}},{key:"bo",value:function(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Wi,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((function(e,n){return t[n]=e})),n&&n.headers.forEach((function(e,n){return t[n]=e}))}},{key:"So",value:function(t,e){var n=el[t];return"".concat(this.mo,"/v1/").concat(e,":").concat(n)}}]),t}());function ol(){return"undefined"!=typeof document?document:null}function al(t){return new Ds(t,!0)}var sl=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,p.Z)(this,t),this.si=e,this.timerId=n,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}return(0,y.Z)(t,[{key:"reset",value:function(){this.Oo=0}},{key:"Lo",value:function(){this.Oo=this.xo}},{key:"ko",value:function(t){var e=this;this.cancel();var n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&Gi("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(i," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(function(){return e.Bo=Date.now(),t()})),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}},{key:"Qo",value:function(){null!==this.No&&(this.No.skipDelay(),this.No=null)}},{key:"cancel",value:function(){null!==this.No&&(this.No.cancel(),this.No=null)}},{key:"qo",value:function(){return(Math.random()-.5)*this.Oo}}]),t}(),ul=function(){function t(e,n,i,r,o,a,s,u){(0,p.Z)(this,t),this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new sl(e,n)}return(0,y.Z)(t,[{key:"jo",value:function(){return 1===this.state||5===this.state||this.Ho()}},{key:"Ho",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Jo()}},{key:"stop",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.jo(),!t.t0){t.next=4;break}return t.next=4,this.close(0);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"Yo",value:function(){this.state=0,this.zo.reset()}},{key:"Zo",value:function(){var t=this;this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(function(){return t.Xo()})))}},{key:"e_",value:function(t){this.t_(),this.stream.send(t)}},{key:"Xo",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Ho()){t.next=2;break}return t.abrupt("return",this.close(0));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"t_",value:function(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"close",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e,n){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():n&&n.code===er.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===er.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,t.next=9,this.listener.Io(n);case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"r_",value:function(){}},{key:"auth",value:function(){var t=this;this.state=1;var e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(e){var i=(0,s.Z)(e,2),r=i[0],o=i[1];t.Uo===n&&t.s_(r,o)}),(function(n){e((function(){var e=new nr(er.UNKNOWN,"Fetching auth token failed: "+n.message);return t.o_(e)}))}))}},{key:"s_",value:function(t,e){var n=this,i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho((function(){i((function(){return n.state=2,n.Go=n.si.enqueueAfterDelay(n.$o,1e4,(function(){return n.Ho()&&(n.state=3),Promise.resolve()})),n.listener.ho()}))})),this.stream.Io((function(t){i((function(){return n.o_(t)}))})),this.stream.onMessage((function(t){i((function(){return n.onMessage(t)}))}))}},{key:"Jo",value:function(){var t=this;this.state=5,this.zo.ko((0,h.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state=0,t.start();case 1:case"end":return e.stop()}}),e)}))))}},{key:"o_",value:function(t){return Gi("PersistentStream","close with error: ".concat(t)),this.stream=null,this.close(4,t)}},{key:"i_",value:function(t){var e=this;return function(n){e.si.enqueueAndForget((function(){return e.Uo===t?n():(Gi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),t}(),ll=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i,r,o,a,s){var u;return(0,p.Z)(this,n),(u=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,s)).serializer=a,u}return(0,y.Z)(n,[{key:"__",value:function(t,e){return this.connection.vo("Listen",t,e)}},{key:"onMessage",value:function(t){this.zo.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Xi()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(t,e){return t.useProto3Json?(Yi(void 0===e||"string"==typeof e),Jr.fromBase64String(e||"")):(Yi(void 0===e||e instanceof Uint8Array),Jr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?er.UNKNOWN:ys(t.code);return new nr(e,t.message||"")}(a);n=new As(i,r,o,s||null)}else if("documentChange"in e){e.documentChange;var u=e.documentChange;u.document,u.document.name,u.document.updateTime;var l=Ws(t,u.document.name),c=Us(u.document.updateTime),h=u.document.createTime?Us(u.document.createTime):mr.min(),f=new So({mapValue:{fields:u.document.fields}}),d=Co.newFoundDocument(l,c,h,f),v=u.targetIds||[],p=u.removedTargetIds||[];n=new Cs(v,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;var y=e.documentDelete;y.document;var m=Ws(t,y.document),g=y.readTime?Us(y.readTime):mr.min(),w=Co.newNoDocument(m,g),b=y.removedTargetIds||[];n=new Cs([],b,w.key,w)}else if("documentRemove"in e){e.documentRemove;var k=e.documentRemove;k.document;var _=Ws(t,k.document),x=k.removedTargetIds||[];n=new Cs([],x,_,null)}else{if(!("filter"in e))return Xi();e.filter;var S=e.filter;S.targetId;var E=S.count,C=void 0===E?0:E,T=S.unchangedNames,A=new vs(C,T),O=S.targetId;n=new Ts(O,A)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return mr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?mr.min():e.readTime?Us(e.readTime):mr.min()}(t);return this.listener.a_(e,n)}},{key:"u_",value:function(t){var e={};e.database=Gs(this.serializer),e.addTarget=function(t,e){var n,i=e.target;if((n=Yo(i)?{documents:Xs(t,i)}:{query:Ys(t,i)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Bs(t,e.resumeToken);var r=Ps(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(mr.min())>0){n.readTime=Fs(t,e.snapshotVersion.toTimestamp());var o=Ps(t,e.expectedCount);null!==o&&(n.expectedCount=o)}return n}(this.serializer,t);var n=function(t,e){var n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xi()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.e_(e)}},{key:"c_",value:function(t){var e={};e.database=Gs(this.serializer),e.removeTarget=t,this.e_(e)}}]),n}(ul),cl=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i,r,o,a,s){var u;return(0,p.Z)(this,n),(u=e.call(this,t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,s)).serializer=a,u.l_=!1,u}return(0,y.Z)(n,[{key:"h_",get:function(){return this.l_}},{key:"start",value:function(){this.l_=!1,this.lastStreamToken=void 0,(0,o.Z)((0,a.Z)(n.prototype),"start",this).call(this)}},{key:"r_",value:function(){this.l_&&this.P_([])}},{key:"__",value:function(t,e){return this.connection.vo("Write",t,e)}},{key:"onMessage",value:function(t){if(Yi(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();var e=function(t,e){return t&&t.length>0?(Yi(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Us(t.updateTime):Us(e);return n.isEqual(mr.min())&&(n=Us(e)),new Ka(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Us(t.commitTime);return this.listener.I_(n,e)}return Yi(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}},{key:"E_",value:function(){var t={};t.database=Gs(this.serializer),this.e_(t)}},{key:"P_",value:function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Js(e.serializer,t)}))};this.e_(n)}}]),n}(ul),hl=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i,r,o){var a;return(0,p.Z)(this,n),(a=e.call(this)).authCredentials=t,a.appCheckCredentials=i,a.connection=r,a.serializer=o,a.d_=!1,a}return(0,y.Z)(n,[{key:"A_",value:function(){if(this.d_)throw new nr(er.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"wo",value:function(t,e,n){var i=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(r){var o=(0,s.Z)(r,2),a=o[0],u=o[1];return i.connection.wo(t,e,n,a,u)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===er.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),t):new nr(er.UNKNOWN,t.toString())}))}},{key:"Co",value:function(t,e,n,i){var r=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var a=(0,s.Z)(o,2),u=a[0],l=a[1];return r.connection.Co(t,e,n,u,l,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===er.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),t):new nr(er.UNKNOWN,t.toString())}))}},{key:"terminate",value:function(){this.d_=!0}}]),n}((0,y.Z)((function t(){(0,p.Z)(this,t)})));var fl=function(){function t(e,n){(0,p.Z)(this,t),this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}return(0,y.Z)(t,[{key:"g_",value:function(){var t=this;0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.m_=null,t.y_("Backend didn't respond within 10 seconds."),t.p_("Offline"),Promise.resolve()})))}},{key:"w_",value:function(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.p_("Offline")))}},{key:"set",value:function(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}},{key:"p_",value:function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}},{key:"y_",value:function(t){var e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Qi(e),this.f_=!1):Gi("OnlineStateTracker",e)}},{key:"S_",value:function(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}]),t}(),dl=(0,y.Z)((function t(e,n,i,r,o){var a=this;(0,p.Z)(this,t),this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro((function(t){i.enqueueAndForget((0,h.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=Sl(a),!t.t0){t.next=5;break}return Gi("RemoteStore","Restarting streams for network reachability change."),t.next=5,function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e){var n;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=tr(e)).C_.add(4),t.next=4,yl(n);case 4:return n.M_.set("Unknown"),n.C_.delete(4),t.next=8,vl(n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()(a);case 5:case"end":return t.stop()}}),t)}))))})),this.M_=new fl(i,r)}));function vl(t){return pl.apply(this,arguments)}function pl(){return(pl=(0,h.Z)((0,c.Z)().mark((function t(e){var n,i,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Sl(e)){t.next=18;break}n=(0,l.Z)(e.v_),t.prev=2,n.s();case 4:if((i=n.n()).done){t.next=10;break}return r=i.value,t.next=8,r(!0);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})))).apply(this,arguments)}function yl(t){return ml.apply(this,arguments)}function ml(){return(ml=(0,h.Z)((0,c.Z)().mark((function t(e){var n,i,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=(0,l.Z)(e.v_),t.prev=1,n.s();case 3:if((i=n.n()).done){t.next=9;break}return r=i.value,t.next=7,r(!1);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.e(t.t0);case 14:return t.prev=14,n.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))).apply(this,arguments)}function gl(t,e){var n=tr(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),xl(n)?_l(n):Yl(n).Ho()&&bl(n,e))}function wl(t,e){var n=tr(t),i=Yl(n);n.D_.delete(e),i.Ho()&&kl(n,e),0===n.D_.size&&(i.Ho()?i.Zo():Sl(n)&&n.M_.set("Unknown"))}function bl(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mr.min())>0){var n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yl(t).u_(e)}function kl(t,e){t.x_.Oe(e),Yl(t).c_(e)}function _l(t){t.x_=new Zs({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},_t:function(e){return t.D_.get(e)||null},nt:function(){return t.datastore.serializer.databaseId}}),Yl(t).start(),t.M_.g_()}function xl(t){return Sl(t)&&!Yl(t).jo()&&t.D_.size>0}function Sl(t){return 0===tr(t).C_.size}function El(t){t.x_=void 0}function Cl(t){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,h.Z)((0,c.Z)().mark((function t(e){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.D_.forEach((function(t,n){bl(e,t)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Al(t,e){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,h.Z)((0,c.Z)().mark((function t(e,n){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:El(e),xl(e)?(e.M_.w_(n),_l(e)):e.M_.set("Unknown");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Zl(t,e,n){return Ml.apply(this,arguments)}function Ml(){return Ml=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){var r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.M_.set("Online"),!(n instanceof As&&2===n.state&&n.cause)){t.next=13;break}return t.prev=1,t.next=4,function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r,o,a;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.cause,r=(0,l.Z)(n.targetIds),t.prev=2,r.s();case 4:if((o=r.n()).done){t.next=14;break}if(a=o.value,t.t0=e.D_.has(a),!t.t0){t.next=12;break}return t.next=10,e.remoteSyncer.rejectListen(a,i);case 10:e.D_.delete(a),e.x_.removeTarget(a);case 12:t.next=4;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(2),r.e(t.t1);case 19:return t.prev=19,r.f(),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[2,16,19,22]])})));return function(e,n){return t.apply(this,arguments)}}()(e,n);case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(1),Gi("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),t.t0),t.next=11,Il(e,t.t0);case 11:case 22:t.next=29;break;case 13:if(n instanceof Cs?e.x_.$e(n):n instanceof Ts?e.x_.Je(n):e.x_.Ge(n),i.isEqual(mr.min())){t.next=29;break}return t.prev=14,t.next=17,Vu(e.localStore);case 17:if(r=t.sent,t.t1=i.compareTo(r)>=0,!t.t1){t.next=22;break}return t.next=22,function(t,e){var n=t.x_.it(e);return n.targetChanges.forEach((function(n,i){if(n.resumeToken.approximateByteSize()>0){var r=t.D_.get(i);r&&t.D_.set(i,r.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e,n){var i=t.D_.get(e);if(i){t.D_.set(e,i.withResumeToken(Jr.EMPTY_BYTE_STRING,i.snapshotVersion)),kl(t,e);var r=new cu(i.target,e,n,i.sequenceNumber);bl(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(e,i);case 24:return t.prev=24,t.t2=t.catch(14),Gi("RemoteStore","Failed to raise snapshot:",t.t2),t.next=29,Il(e,t.t2);case 29:case"end":return t.stop()}}),t,null,[[1,6],[14,24]])}))),Ml.apply(this,arguments)}function Il(t,e,n){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Lr(n)){t.next=2;break}throw n;case 2:return e.C_.add(1),t.next=5,yl(e);case 5:e.M_.set("Offline"),i||(i=function(){return Vu(e.localStore)}),e.asyncQueue.enqueueRetryable((0,h.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Gi("RemoteStore","Retrying IndexedDB access"),t.next=3,i();case 3:return e.C_.delete(1),t.next=6,vl(e);case 6:case"end":return t.stop()}}),t)}))));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Rl(t,e){return e().catch((function(n){return Il(t,n,e)}))}function Nl(t){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,h.Z)((0,c.Z)().mark((function t(e){var n,i,r,o;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=tr(e),i=tc(n),r=n.b_.length>0?n.b_[n.b_.length-1].batchId:-1;case 2:if(!Pl(n)){t.next=19;break}return t.prev=3,t.next=6,ju(n.localStore,r);case 6:if(null!==(o=t.sent)){t.next=10;break}return 0===n.b_.length&&i.Zo(),t.abrupt("break",19);case 10:r=o.batchId,Fl(n,o),t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(3),t.next=17,Il(n,t.t0);case 17:t.next=2;break;case 19:Bl(n)&&Vl(n);case 20:case"end":return t.stop()}}),t,null,[[3,13]])}))),Dl.apply(this,arguments)}function Pl(t){return Sl(t)&&t.b_.length<10}function Fl(t,e){t.b_.push(e);var n=tc(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function Bl(t){return Sl(t)&&!tc(t).jo()&&t.b_.length>0}function Vl(t){tc(t).start()}function Ul(t){return zl.apply(this,arguments)}function zl(){return(zl=(0,h.Z)((0,c.Z)().mark((function t(e){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:tc(e).E_();case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function jl(t){return ql.apply(this,arguments)}function ql(){return(ql=(0,h.Z)((0,c.Z)().mark((function t(e){var n,i,r,o;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=tc(e),i=(0,l.Z)(e.b_);try{for(i.s();!(r=i.n()).done;)o=r.value,n.P_(o.mutations)}catch(a){i.e(a)}finally{i.f()}case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Wl(t,e,n){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){var r,o;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.b_.shift(),o=fs.from(r,n,i),t.next=3,Rl(e,(function(){return e.remoteSyncer.applySuccessfulWrite(o)}));case 3:return t.next=5,Nl(e);case 5:case"end":return t.stop()}}),t)}))),Hl.apply(this,arguments)}function Kl(t,e){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,h.Z)((0,c.Z)().mark((function t(e,n){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n&&tc(e).h_,!t.t0){t.next=4;break}return t.next=4,function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!function(t){return ps(t)&&t!==er.ABORTED}(n.code)){t.next=7;break}return i=e.b_.shift(),tc(e).Yo(),t.next=5,Rl(e,(function(){return e.remoteSyncer.rejectFailedWrite(i.batchId,n)}));case 5:return t.next=7,Nl(e);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()(e,n);case 4:Bl(e)&&Vl(e);case 5:case"end":return t.stop()}}),t)}))),Gl.apply(this,arguments)}function Ql(t,e){return $l.apply(this,arguments)}function $l(){return $l=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=tr(e)).asyncQueue.verifyOperationInProgress(),Gi("RemoteStore","RemoteStore received new credentials"),r=Sl(i),i.C_.add(3),t.next=6,yl(i);case 6:return r&&i.M_.set("Unknown"),t.next=9,i.remoteSyncer.handleCredentialChange(n);case 9:return i.C_.delete(3),t.next=12,vl(i);case 12:case"end":return t.stop()}}),t)}))),$l.apply(this,arguments)}function Jl(t,e){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=tr(e),!n){t.next=7;break}return i.C_.delete(2),t.next=5,vl(i);case 5:t.next=13;break;case 7:if(t.t0=n,t.t0){t.next=13;break}return i.C_.add(2),t.next=12,yl(i);case 12:i.M_.set("Unknown");case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Yl(t){return t.O_||(t.O_=function(t,e,n){var i=tr(t);return i.A_(),new ll(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{ho:Cl.bind(null,t),Io:Al.bind(null,t),a_:Zl.bind(null,t)}),t.v_.push(function(){var e=(0,h.Z)((0,c.Z)().mark((function e(n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}t.O_.Yo(),xl(t)?_l(t):t.M_.set("Unknown"),e.next=7;break;case 4:return e.next=6,t.O_.stop();case 6:El(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.O_}function tc(t){return t.N_||(t.N_=function(t,e,n){var i=tr(t);return i.A_(),new cl(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{ho:Ul.bind(null,t),Io:Kl.bind(null,t),T_:jl.bind(null,t),I_:Wl.bind(null,t)}),t.v_.push(function(){var e=(0,h.Z)((0,c.Z)().mark((function e(n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return t.N_.Yo(),e.next=4,Nl(t);case 4:e.next=9;break;case 6:return e.next=8,t.N_.stop();case 8:t.b_.length>0&&(Gi("RemoteStore","Stopping write stream with ".concat(t.b_.length," pending writes")),t.b_=[]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.N_}var ec=function(){function t(e,n,i,r,o){(0,p.Z)(this,t),this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return(0,y.Z)(t,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nr(er.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}},{key:"handleDelayElapsed",value:function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(e,n,i,r,o){var a=new t(e,n,Date.now()+i,r,o);return a.start(i),a}}]),t}();function nc(t,e){if(Qi("AsyncQueue","".concat(e,": ").concat(t)),Lr(t))return new nr(er.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}var ic=function(){function t(e){(0,p.Z)(this,t),this.comparator=e?function(t,n){return e(t,n)||_r.comparator(t.key,n.key)}:function(t,e){return _r.comparator(t.key,e.key)},this.keyedMap=ka(),this.sortedSet=new qr(this.comparator)}return(0,y.Z)(t,[{key:"has",value:function(t){return null!=this.keyedMap.get(t)}},{key:"get",value:function(t){return this.keyedMap.get(t)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))}},{key:"add",value:function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}},{key:"delete",value:function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}},{key:"isEqual",value:function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}},{key:"toString",value:function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}},{key:"copy",value:function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}],[{key:"emptySet",value:function(e){return new t(e.comparator)}}]),t}(),rc=function(){function t(){(0,p.Z)(this,t),this.B_=new qr(_r.comparator)}return(0,y.Z)(t,[{key:"track",value:function(t){var e=t.doc.key,n=this.B_.get(e);n?0!==t.type&&3===n.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==n.type?this.B_=this.B_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.B_=this.B_.remove(e):1===t.type&&2===n.type?this.B_=this.B_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):Xi():this.B_=this.B_.insert(e,t)}},{key:"L_",value:function(){var t=[];return this.B_.inorderTraversal((function(e,n){t.push(n)})),t}}]),t}(),oc=function(){function t(e,n,i,r,o,a,s,u,l){(0,p.Z)(this,t),this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}return(0,y.Z)(t,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ca(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(e,n,i,r,o){var a=[];return n.forEach((function(t){a.push({type:0,doc:t})})),new t(e,n,ic.emptySet(n),a,i,r,!0,!1,o)}}]),t}(),ac=(0,y.Z)((function t(){(0,p.Z)(this,t),this.k_=void 0,this.listeners=[]})),sc=(0,y.Z)((function t(){(0,p.Z)(this,t),this.queries=new ma((function(t){return ha(t)}),ca),this.onlineState="Unknown",this.q_=new Set}));function uc(t,e){return lc.apply(this,arguments)}function lc(){return lc=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r,o,a,s;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=tr(e),r=n.query,o=!1,(a=i.queries.get(r))||(o=!0,a=new ac),!o){t.next=13;break}return t.prev=3,t.next=6,i.onListen(r);case 6:a.k_=t.sent,t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(3),s=nc(t.t0,"Initialization of query '".concat(fa(n.query),"' failed")),t.abrupt("return",void n.onError(s));case 13:i.queries.set(r,a),a.listeners.push(n),n.Q_(i.onlineState),a.k_&&n.K_(a.k_)&&vc(i);case 14:case"end":return t.stop()}}),t,null,[[3,9]])}))),lc.apply(this,arguments)}function cc(t,e){return hc.apply(this,arguments)}function hc(){return hc=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r,o,a,s;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=tr(e),r=n.query,o=!1,(a=i.queries.get(r))&&(s=a.listeners.indexOf(n))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),!o){t.next=6;break}return t.abrupt("return",(i.queries.delete(r),i.onUnlisten(r)));case 6:case"end":return t.stop()}}),t)}))),hc.apply(this,arguments)}function fc(t,e){var n,i=tr(t),r=!1,o=(0,l.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.query,u=i.queries.get(s);if(u){var c,h=(0,l.Z)(u.listeners);try{for(h.s();!(c=h.n()).done;){c.value.K_(a)&&(r=!0)}}catch(f){h.e(f)}finally{h.f()}u.k_=a}}}catch(f){o.e(f)}finally{o.f()}r&&vc(i)}function dc(t,e,n){var i=tr(t),r=i.queries.get(e);if(r){var o,a=(0,l.Z)(r.listeners);try{for(a.s();!(o=a.n()).done;){o.value.onError(n)}}catch(s){a.e(s)}finally{a.f()}}i.queries.delete(e)}function vc(t){t.q_.forEach((function(t){t.next()}))}var pc=function(){function t(e,n,i){(0,p.Z)(this,t),this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}return(0,y.Z)(t,[{key:"K_",value:function(t){if(!this.options.includeMetadataChanges){var e,n=[],i=(0,l.Z)(t.docChanges);try{for(i.s();!(e=i.n()).done;){var r=e.value;3!==r.type&&n.push(r)}}catch(a){i.e(a)}finally{i.f()}t=new oc(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}var o=!1;return this.W_?this.z_(t)&&(this.U_.next(t),o=!0):this.j_(t,this.onlineState)&&(this.H_(t),o=!0),this.G_=t,o}},{key:"onError",value:function(t){this.U_.error(t)}},{key:"Q_",value:function(t){this.onlineState=t;var e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}},{key:"j_",value:function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return(!this.options.J_||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}},{key:"z_",value:function(t){if(t.docChanges.length>0)return!0;var e=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}},{key:"H_",value:function(t){t=oc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}]),t}();var yc=(0,y.Z)((function t(e){(0,p.Z)(this,t),this.key=e})),mc=(0,y.Z)((function t(e){(0,p.Z)(this,t),this.key=e})),gc=function(){function t(e,n){(0,p.Z)(this,t),this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Aa(),this.mutatedKeys=Aa(),this._a=pa(e),this.aa=new ic(this._a)}return(0,y.Z)(t,[{key:"ua",get:function(){return this.ia}},{key:"ca",value:function(t,e){var n=this,i=e?e.la:new rc,r=e?e.aa:this.aa,o=e?e.mutatedKeys:this.mutatedKeys,a=r,s=!1,u="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((function(t,e){var c=r.get(t),h=da(n.query,e)?e:null,f=!!c&&n.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),v=!1;c&&h?c.data.isEqual(h.data)?f!==d&&(i.track({type:3,doc:h}),v=!0):n.ha(c,h)||(i.track({type:2,doc:h}),v=!0,(u&&n._a(h,u)>0||l&&n._a(h,l)<0)&&(s=!0)):!c&&h?(i.track({type:0,doc:h}),v=!0):c&&!h&&(i.track({type:1,doc:c}),v=!0,(u||l)&&(s=!0)),v&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),null!==this.query.limit)for(;a.size>this.query.limit;){var c="F"===this.query.limitType?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),i.track({type:1,doc:c})}return{aa:a,la:i,Zi:s,mutatedKeys:o}}},{key:"ha",value:function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}},{key:"applyChanges",value:function(t,e,n){var i=this,r=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;var o=t.la.L_();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xi()}};return n(t)-n(e)}(t.type,e.type)||i._a(t.doc,e.doc)})),this.Pa(n);var a=e?this.Ia():[],s=0===this.oa.size&&this.current?1:0,u=s!==this.sa;return this.sa=s,0!==o.length||u?{snapshot:new oc(this.query,t.aa,r,o,t.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}},{key:"Q_",value:function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new rc,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}},{key:"Ea",value:function(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}},{key:"Pa",value:function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.ia=e.ia.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.ia=e.ia.delete(t)})),this.current=t.current)}},{key:"Ia",value:function(){var t=this;if(!this.current)return[];var e=this.oa;this.oa=Aa(),this.aa.forEach((function(e){t.Ea(e.key)&&(t.oa=t.oa.add(e.key))}));var n=[];return e.forEach((function(e){t.oa.has(e)||n.push(new mc(e))})),this.oa.forEach((function(t){e.has(t)||n.push(new yc(t))})),n}},{key:"da",value:function(t){this.ia=t.ls,this.oa=Aa();var e=this.ca(t.documents);return this.applyChanges(e,!0)}},{key:"Aa",value:function(){return oc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}]),t}(),wc=(0,y.Z)((function t(e,n,i){(0,p.Z)(this,t),this.query=e,this.targetId=n,this.view=i})),bc=(0,y.Z)((function t(e){(0,p.Z)(this,t),this.key=e,this.Ra=!1})),kc=function(){function t(e,n,i,r,o,a){(0,p.Z)(this,t),this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Va={},this.ma=new ma((function(t){return ha(t)}),ca),this.fa=new Map,this.ga=new Set,this.pa=new qr(_r.comparator),this.ya=new Map,this.wa=new xu,this.Sa={},this.ba=new Map,this.Da=mu.Nn(),this.onlineState="Unknown",this.Ca=void 0}return(0,y.Z)(t,[{key:"isPrimaryClient",get:function(){return!0===this.Ca}}]),t}();function _c(t,e){return xc.apply(this,arguments)}function xc(){return xc=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r,o,a,s,u;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Jc(e),!(a=i.ma.get(n))){t.next=6;break}r=a.targetId,i.sharedClientState.addLocalQueryTarget(r),o=a.view.Aa(),t.next=15;break;case 6:return t.next=8,qu(i.localStore,aa(n));case 8:return s=t.sent,u=i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,t.next=13,Sc(i,n,r,"current"===u,s.resumeToken);case 13:o=t.sent,i.isPrimaryClient&&gl(i.remoteStore,s);case 15:return t.abrupt("return",o);case 16:case"end":return t.stop()}}),t)}))),xc.apply(this,arguments)}function Sc(t,e,n,i,r){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,h.Z)((0,c.Z)().mark((function t(e,n,i,r,o){var a,s,u,l,f,d;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.va=function(t,n,i){return function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e,n,i,r){var o,a,s;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.view.ca(i),t.t0=o.Zi,!t.t0){t.next=6;break}return t.next=5,Ku(e.localStore,n.query,!1).then((function(t){var e=t.documents;return n.view.ca(e,o)}));case 5:o=t.sent;case 6:return a=r&&r.targetChanges.get(n.targetId),s=n.view.applyChanges(o,e.isPrimaryClient,a),t.abrupt("return",(jc(e,n.targetId,s.Ta),s.snapshot));case 8:case"end":return t.stop()}}),t)})));return function(e,n,i,r){return t.apply(this,arguments)}}()(e,t,n,i)},t.next=3,Ku(e.localStore,n,!0);case 3:return a=t.sent,s=new gc(n,a.ls),u=s.ca(a.documents),l=Es.createSynthesizedTargetChangeForCurrentChange(i,r&&"Offline"!==e.onlineState,o),f=s.applyChanges(u,e.isPrimaryClient,l),jc(e,i,f.Ta),d=new wc(n,i,s),t.abrupt("return",(e.ma.set(n,d),e.fa.has(i)?e.fa.get(i).push(n):e.fa.set(i,[n]),f.snapshot));case 11:case"end":return t.stop()}}),t)}))),Ec.apply(this,arguments)}function Cc(t,e){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r,o;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=tr(e),r=i.ma.get(n),!((o=i.fa.get(r.targetId)).length>1)){t.next=3;break}return t.abrupt("return",(i.fa.set(r.targetId,o.filter((function(t){return!ca(t,n)}))),void i.ma.delete(n)));case 3:if(!i.isPrimaryClient){t.next=11;break}if(i.sharedClientState.removeLocalQueryTarget(r.targetId),t.t0=i.sharedClientState.isActiveQueryTarget(r.targetId),t.t0){t.next=9;break}return t.next=9,Wu(i.localStore,r.targetId,!1).then((function(){i.sharedClientState.clearQueryState(r.targetId),wl(i.remoteStore,r.targetId),Uc(i,r.targetId)})).catch(Zr);case 9:t.next=14;break;case 11:return Uc(i,r.targetId),t.next=14,Wu(i.localStore,r.targetId,!0);case 14:case"end":return t.stop()}}),t)}))),Tc.apply(this,arguments)}function Ac(t,e,n){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){var r,o,a;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Xc(e),t.prev=1,t.next=4,function(t,e){var n,i,r=tr(t),o=yr.now(),a=e.reduce((function(t,e){return t.add(e.key)}),Aa());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){var s=wa(),u=Aa();return r.ss.getEntries(t,a).next((function(t){(s=t).forEach((function(t,e){e.isValidDocument()||(u=u.add(t))}))})).next((function(){return r.localDocuments.getOverlayedDocuments(t,s)})).next((function(i){n=i;var a,s=[],u=(0,l.Z)(e);try{for(u.s();!(a=u.n()).done;){var c=a.value,h=ts(c,n.get(c.key).overlayedDocument);null!=h&&s.push(new is(c.key,h,Eo(h.value.mapValue),Ga.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.mutationQueue.addMutationBatch(t,o,s,e)})).next((function(e){i=e;var o=e.applyToLocalDocumentSet(n,u);return r.documentOverlayCache.saveOverlays(t,e.batchId,o)}))})).then((function(){return{batchId:i.batchId,changes:_a(n)}}))}(r.localStore,n);case 4:return o=t.sent,r.sharedClientState.addPendingMutation(o.batchId),function(t,e,n){var i=t.Sa[t.currentUser.toKey()];i||(i=new qr(vr)),i=i.insert(e,n),t.Sa[t.currentUser.toKey()]=i}(r,o.batchId,i),t.next=9,Hc(r,o.changes);case 9:return t.next=11,Nl(r.remoteStore);case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),a=nc(t.t0,"Failed to persist write"),i.reject(a);case 17:case"end":return t.stop()}}),t,null,[[1,13]])}))),Oc.apply(this,arguments)}function Zc(t,e){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=tr(e),t.prev=1,t.next=4,Uu(i.localStore,n);case 4:return r=t.sent,n.targetChanges.forEach((function(t,e){var n=i.ya.get(e);n&&(Yi(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?n.Ra=!0:t.modifiedDocuments.size>0?Yi(n.Ra):t.removedDocuments.size>0&&(Yi(n.Ra),n.Ra=!1))})),t.next=8,Hc(i,r,n);case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(1),t.next=14,Zr(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])}))),Mc.apply(this,arguments)}function Ic(t,e,n){var i=tr(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){var r=[];i.ma.forEach((function(t,n){var i=n.view.Q_(e);i.snapshot&&r.push(i.snapshot)})),function(t,e){var n=tr(t);n.onlineState=e;var i=!1;n.queries.forEach((function(t,n){var r,o=(0,l.Z)(n.listeners);try{for(o.s();!(r=o.n()).done;){r.value.Q_(e)&&(i=!0)}}catch(a){o.e(a)}finally{o.f()}})),i&&vc(n)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Lc(t,e,n){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){var r,o,a,s,u,l;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=tr(e)).sharedClientState.updateQueryState(n,"rejected",i),o=r.ya.get(n),!(a=o&&o.key)){t.next=14;break}return s=(s=new qr(_r.comparator)).insert(a,Co.newNoDocument(a,mr.min())),u=Aa().add(a),l=new Ss(mr.min(),new Map,new qr(vr),s,u),t.next=9,Zc(r,l);case 9:r.pa=r.pa.remove(a),r.ya.delete(n),Wc(r),t.next=16;break;case 14:return t.next=16,Wu(r.localStore,n,!1).then((function(){return Uc(r,n,i)})).catch(Zr);case 16:case"end":return t.stop()}}),t)}))),Rc.apply(this,arguments)}function Nc(t,e){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r,o;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=tr(e),r=n.batch.batchId,t.prev=1,t.next=4,Bu(i.localStore,n);case 4:return o=t.sent,Vc(i,r,null),Bc(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),t.next=10,Hc(i,o);case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(1),t.next=16,Zr(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),Dc.apply(this,arguments)}function Pc(t,e,n){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){var r,o;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=tr(e),t.prev=1,t.next=4,function(t,e){var n=tr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var i;return n.mutationQueue.lookupMutationBatch(t,e).next((function(e){return Yi(null!==e),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e)})).next((function(){return n.mutationQueue.performConsistencyCheck(t)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(t,i,e)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i)})).next((function(){return n.localDocuments.getDocuments(t,i)}))}))}(r.localStore,n);case 4:return o=t.sent,Vc(r,n,i),Bc(r,n),r.sharedClientState.updateMutationState(n,"rejected",i),t.next=10,Hc(r,o);case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(1),t.next=16,Zr(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),Fc.apply(this,arguments)}function Bc(t,e){(t.ba.get(e)||[]).forEach((function(t){t.resolve()})),t.ba.delete(e)}function Vc(t,e,n){var i=tr(t),r=i.Sa[i.currentUser.toKey()];if(r){var o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Uc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);var i,r=(0,l.Z)(t.fa.get(e));try{for(r.s();!(i=r.n()).done;){var o=i.value;t.ma.delete(o),n&&t.Va.Fa(o,n)}}catch(a){r.e(a)}finally{r.f()}t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach((function(e){t.wa.containsKey(e)||zc(t,e)}))}function zc(t,e){t.ga.delete(e.path.canonicalString());var n=t.pa.get(e);null!==n&&(wl(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Wc(t))}function jc(t,e,n){var i,r=(0,l.Z)(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;o instanceof yc?(t.wa.addReference(o.key,e),qc(t,o)):o instanceof mc?(Gi("SyncEngine","Document no longer in limbo: "+o.key),t.wa.removeReference(o.key,e),t.wa.containsKey(o.key)||zc(t,o.key)):Xi()}}catch(a){r.e(a)}finally{r.f()}}function qc(t,e){var n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(Gi("SyncEngine","New document in limbo: "+n),t.ga.add(i),Wc(t))}function Wc(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){var e=t.ga.values().next().value;t.ga.delete(e);var n=new _r(wr.fromString(e)),i=t.Da.next();t.ya.set(i,new bc(n)),t.pa=t.pa.insert(n,i),gl(t.remoteStore,new cu(aa(na(n.path)),i,"TargetPurposeLimboResolution",Rr._e))}}function Hc(t,e,n){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,h.Z)((0,c.Z)().mark((function t(e,n,i){var r,o,a,s;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=tr(e),o=[],a=[],s=[],t.t0=r.ma.isEmpty(),t.t0){t.next=9;break}return r.ma.forEach((function(t,e){s.push(r.va(e,n,i).then((function(t){if((t||i)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(e.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){o.push(t);var n=Iu.Qi(e.targetId,t);a.push(n)}})))})),t.next=6,Promise.all(s);case 6:return r.Va.a_(o),t.next=9,function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r,o,a,s,u,h,f;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=tr(e),t.prev=1,t.next=4,i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Ir.forEach(n,(function(e){return Ir.forEach(e.ki,(function(n){return i.persistence.referenceDelegate.addReference(t,e.targetId,n)})).next((function(){return Ir.forEach(e.qi,(function(n){return i.persistence.referenceDelegate.removeReference(t,e.targetId,n)}))}))}))}));case 4:t.next=11;break;case 6:if(t.prev=6,t.t0=t.catch(1),Lr(t.t0)){t.next=10;break}throw t.t0;case 10:Gi("LocalStore","Failed to update sequence numbers: "+t.t0);case 11:r=(0,l.Z)(n);try{for(r.s();!(o=r.n()).done;)a=o.value,s=a.targetId,a.fromCache||(u=i.ts.get(s),h=u.snapshotVersion,f=u.withLastLimboFreeSnapshotVersion(h),i.ts=i.ts.insert(s,f))}catch(c){r.e(c)}finally{r.f()}case 13:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()(r.localStore,a);case 9:case"end":return t.stop()}}),t)}))),Kc.apply(this,arguments)}function Gc(t,e){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=tr(e)).currentUser.isEqual(n)){t.next=11;break}return Gi("SyncEngine","User change. New user:",n.toKey()),t.next=5,Pu(i.localStore,n);case 5:return r=t.sent,i.currentUser=n,function(t,e){t.ba.forEach((function(t){t.forEach((function(t){t.reject(new nr(er.CANCELLED,e))}))})),t.ba.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(n,r.removedBatchIds,r.addedBatchIds),t.next=11,Hc(i,r._s);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $c(t,e){var n=tr(t),i=n.ya.get(e);if(i&&i.Ra)return Aa().add(i.key);var r=Aa(),o=n.fa.get(e);if(!o)return r;var a,s=(0,l.Z)(o);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=n.ma.get(u);r=r.unionWith(c.view.ua)}}catch(h){s.e(h)}finally{s.f()}return r}function Jc(t){var e=tr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$c.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lc.bind(null,e),e.Va.a_=fc.bind(null,e.eventManager),e.Va.Fa=dc.bind(null,e.eventManager),e}function Xc(t){var e=tr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nc.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pc.bind(null,e),e}var Yc=function(){function t(){(0,p.Z)(this,t),this.synchronizeTabs=!1}return(0,y.Z)(t,[{key:"initialize",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.serializer=al(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),t.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(t,e){return null}},{key:"createIndexBackfillerScheduler",value:function(t,e){return null}},{key:"createLocalStore",value:function(t){return Du(this.persistence,new Ru,t.initialUser,this.serializer)}},{key:"createPersistence",value:function(t){return new Ou(Mu.jr,this.serializer)}},{key:"createSharedClientState",value:function(t){return new $u}},{key:"terminate",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),t.next=3,this.sharedClientState.shutdown();case 3:return t.next=5,this.persistence.shutdown();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),th=function(){function t(){(0,p.Z)(this,t)}return(0,y.Z)(t,[{key:"initialize",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i=this;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.localStore,t.t0){t.next=12;break}return this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Ic(i.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Gc.bind(null,this.syncEngine),t.next=12,Jl(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"createEventManager",value:function(t){return new sc}},{key:"createDatastore",value:function(t){var e=al(t.databaseInfo.databaseId),n=function(t){return new rl(t)}(t.databaseInfo);return function(t,e,n,i){return new hl(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}},{key:"createRemoteStore",value:function(t){var e=this;return function(t,e,n,i,r){return new dl(t,e,n,i,r)}(this.localStore,this.datastore,t.asyncQueue,(function(t){return Ic(e.syncEngine,t,0)}),Xu.D()?new Xu:new Ju)}},{key:"createSyncEngine",value:function(t,e){return function(t,e,n,i,r,o,a){var s=new kc(t,e,n,i,r,o);return a&&(s.Ca=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}},{key:"terminate",value:function(){return function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e){var n;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=tr(e),Gi("RemoteStore","RemoteStore shutting down."),n.C_.add(5),t.next=5,yl(n);case 5:n.F_.shutdown(),n.M_.set("Unknown");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()(this.remoteStore)}}]),t}();var eh=function(){function t(e){(0,p.Z)(this,t),this.observer=e,this.muted=!1}return(0,y.Z)(t,[{key:"next",value:function(t){this.observer.next&&this.Oa(this.observer.next,t)}},{key:"error",value:function(t){this.observer.error?this.Oa(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString())}},{key:"Na",value:function(){this.muted=!0}},{key:"Oa",value:function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)}}]),t}(),nh=function(){function t(e,n,i,r){var o=this;(0,p.Z)(this,t),this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=qi.UNAUTHENTICATED,this.clientId=dr.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(i,function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Gi("FirestoreClient","Received user=",e.uid),t.next=3,o.authCredentialListener(e);case 3:o.user=e;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.appCheckCredentials.start(i,(function(t){return Gi("FirestoreClient","Received new app check token=",t),o.appCheckCredentialListener(t,o.user)}))}return(0,y.Z)(t,[{key:"getConfiguration",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(t){this.authCredentialListener=t}},{key:"setAppCheckTokenChangeListener",value:function(t){this.appCheckCredentialListener=t}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new nr(er.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,h.Z)((0,c.Z)().mark((function n(){var i;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=t._onlineComponents,!n.t0){n.next=5;break}return n.next=5,t._onlineComponents.terminate();case 5:if(n.t1=t._offlineComponents,!n.t1){n.next=9;break}return n.next=9,t._offlineComponents.terminate();case 9:t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),i=nc(n.t2,"Failed to shutdown persistence"),e.reject(i);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),e.promise}}]),t}();function ih(t,e){return rh.apply(this,arguments)}function rh(){return rh=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.asyncQueue.verifyOperationInProgress(),Gi("FirestoreClient","Initializing OfflineComponentProvider"),t.next=3,e.getConfiguration();case 3:return i=t.sent,t.next=6,n.initialize(i);case 6:r=i.initialUser,e.setCredentialChangeListener(function(){var t=(0,h.Z)((0,c.Z)().mark((function t(e){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=r.isEqual(e),t.t0){t.next=5;break}return t.next=4,Pu(n.localStore,e);case 4:r=e;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e._offlineComponents=n;case 8:case"end":return t.stop()}}),t)}))),rh.apply(this,arguments)}function oh(t,e){return ah.apply(this,arguments)}function ah(){return ah=(0,h.Z)((0,c.Z)().mark((function t(e,n){var i,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.asyncQueue.verifyOperationInProgress(),t.next=3,uh(e);case 3:return i=t.sent,Gi("FirestoreClient","Initializing OnlineComponentProvider"),t.next=7,e.getConfiguration();case 7:return r=t.sent,t.next=10,n.initialize(i,r);case 10:e.setCredentialChangeListener((function(t){return Ql(n.remoteStore,t)})),e.setAppCheckTokenChangeListener((function(t,e){return Ql(n.remoteStore,e)})),e._onlineComponents=n;case 13:case"end":return t.stop()}}),t)}))),ah.apply(this,arguments)}function sh(t){return"FirebaseError"===t.name?t.code===er.FAILED_PRECONDITION||t.code===er.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function uh(t){return lh.apply(this,arguments)}function lh(){return(lh=(0,h.Z)((0,c.Z)().mark((function t(e){var n;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._offlineComponents){t.next=21;break}if(!e._uninitializedComponentsProvider){t.next=18;break}return Gi("FirestoreClient","Using user provided OfflineComponentProvider"),t.prev=3,t.next=6,ih(e,e._uninitializedComponentsProvider._offline);case 6:t.next=16;break;case 8:if(t.prev=8,t.t0=t.catch(3),sh(n=t.t0)){t.next=13;break}throw n;case 13:return $i("Error using user provided cache. Falling back to memory cache: "+n),t.next=16,ih(e,new Yc);case 16:t.next=21;break;case 18:return Gi("FirestoreClient","Using default OfflineComponentProvider"),t.next=21,ih(e,new Yc);case 21:return t.abrupt("return",e._offlineComponents);case 22:case"end":return t.stop()}}),t,null,[[3,8]])})))).apply(this,arguments)}function ch(t){return hh.apply(this,arguments)}function hh(){return(hh=(0,h.Z)((0,c.Z)().mark((function t(e){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e._onlineComponents,t.t0){t.next=11;break}if(!e._uninitializedComponentsProvider){t.next=8;break}return Gi("FirestoreClient","Using user provided OnlineComponentProvider"),t.next=6,oh(e,e._uninitializedComponentsProvider._online);case 6:t.next=11;break;case 8:return Gi("FirestoreClient","Using default OnlineComponentProvider"),t.next=11,oh(e,new th);case 11:return t.abrupt("return",e._onlineComponents);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function fh(t){return ch(t).then((function(t){return t.syncEngine}))}function dh(t){return vh.apply(this,arguments)}function vh(){return(vh=(0,h.Z)((0,c.Z)().mark((function t(e){var n,i;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ch(e);case 2:return n=t.sent,i=n.eventManager,t.abrupt("return",(i.onListen=_c.bind(null,n.syncEngine),i.onUnlisten=Cc.bind(null,n.syncEngine),i));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ph(t){var e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}var yh=new Map;function mh(t,e,n){if(!n)throw new nr(er.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function gh(t){if(!_r.isDocumentKey(t))throw new nr(er.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function wh(t){if(_r.isDocumentKey(t))throw new nr(er.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function bh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}return"function"==typeof t?"a function":Xi()}function kh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new nr(er.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=bh(t);throw new nr(er.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}return t}function _h(t,e){if(e<=0)throw new nr(er.INVALID_ARGUMENT,"Function ".concat(t,"() requires a positive number, but it was: ").concat(e,"."))}var xh=function(){function t(e){var n,i;if((0,p.Z)(this,t),void 0===e.host){if(void 0!==e.ssl)throw new nr(er.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new nr(er.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(t,e,n,i){if(!0===e&&!0===i)throw new nr(er.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ph(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new nr(er.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new nr(er.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new nr(er.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}return(0,y.Z)(t,[{key:"isEqual",value:function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}]),t}(),Sh=function(){function t(e,n,i,r){(0,p.Z)(this,t),this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xh({}),this._settingsFrozen=!1}return(0,y.Z)(t,[{key:"app",get:function(){if(!this._app)throw new nr(er.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(t){if(this._settingsFrozen)throw new nr(er.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xh(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new or;switch(t.type){case"firstParty":return new lr(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new nr(er.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(t){var e=yh.get(t);e&&(Gi("ComponentProvider","Removing Datastore"),yh.delete(t),e.terminate())}(this),Promise.resolve()}}]),t}();function Eh(t,e,n){var i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(t=kh(t,Sh))._getSettings(),a="".concat(e,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&$i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){var s,u;if("string"==typeof r.mockUserToken)s=r.mockUserToken,u=qi.MOCK_USER;else{s=(0,b.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new nr(er.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new qi(l)}t._authCredentials=new ar(new rr(s,u))}}var Ch=function(){function t(e,n,i){(0,p.Z)(this,t),this.converter=n,this._query=i,this.type="query",this.firestore=e}return(0,y.Z)(t,[{key:"withConverter",value:function(e){return new t(this.firestore,e,this._query)}}]),t}(),Th=function(){function t(e,n,i){(0,p.Z)(this,t),this.converter=n,this._key=i,this.type="document",this.firestore=e}return(0,y.Z)(t,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Ah(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(e){return new t(this.firestore,e,this._key)}}]),t}(),Ah=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i,r){var o;return(0,p.Z)(this,n),(o=e.call(this,t,i,na(r)))._path=r,o.type="collection",o}return(0,y.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Th(this.firestore,null,new _r(t))}},{key:"withConverter",value:function(t){return new n(this.firestore,t,this._path)}}]),n}(Ch);function Oh(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=(0,b.m9)(t),mh("collection","path",e),t instanceof Sh){var o=wr.fromString.apply(wr,[e].concat(i));return wh(o),new Ah(t,null,o)}if(!(t instanceof Th||t instanceof Ah))throw new nr(er.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=t._path.child(wr.fromString.apply(wr,[e].concat(i)));return wh(a),new Ah(t.firestore,null,a)}var Zh=function(){function t(){var e=this;(0,p.Z)(this,t),this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new sl(this,"async_queue_retry"),this.iu=function(){var t=ol();t&&Gi("AsyncQueue","Visibility state changed to "+t.visibilityState),e.zo.Qo()};var n=ol();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.iu)}return(0,y.Z)(t,[{key:"isShuttingDown",get:function(){return this.Za}},{key:"enqueueAndForget",value:function(t){this.enqueue(t)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(t){this.su(),this.ou(t)}},{key:"enterRestrictedMode",value:function(t){if(!this.Za){this.Za=!0,this.nu=t||!1;var e=ol();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}},{key:"enqueue",value:function(t){var e=this;if(this.su(),this.Za)return new Promise((function(){}));var n=new ir;return this.ou((function(){return e.Za&&e.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(t){var e=this;this.enqueueAndForget((function(){return e.Ya.push(t),e._u()}))}},{key:"_u",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(){var e=this;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this.Ya.length){t.next=14;break}return t.prev=1,t.next=4,this.Ya[0]();case 4:this.Ya.shift(),this.zo.reset(),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(1),Lr(t.t0)){t.next=12;break}throw t.t0;case 12:Gi("AsyncQueue","Operation failed with retryable error: "+t.t0);case 13:this.Ya.length>0&&this.zo.ko((function(){return e._u()}));case 14:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"ou",value:function(t){var e=this,n=this.Ja.then((function(){return e.tu=!0,t().catch((function(t){e.eu=t,e.tu=!1;var n=function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw Qi("INTERNAL UNHANDLED ERROR: ",n),t})).then((function(t){return e.tu=!1,t}))}));return this.Ja=n,n}},{key:"enqueueAfterDelay",value:function(t,e,n){var i=this;this.su(),this.ru.indexOf(t)>-1&&(e=0);var r=ec.createAndSchedule(this,t,e,n,(function(t){return i.au(t)}));return this.Xa.push(r),r}},{key:"su",value:function(){this.eu&&Xi()}},{key:"verifyOperationInProgress",value:function(){}},{key:"uu",value:function(){var t=(0,h.Z)((0,c.Z)().mark((function t(){var e;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.Ja,t.next=3,e;case 3:if(e!==this.Ja){t.next=0;break}case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"cu",value:function(t){var e,n=(0,l.Z)(this.Xa);try{for(n.s();!(e=n.n()).done;){if(e.value.timerId===t)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"lu",value:function(t){var e=this;return this.uu().then((function(){e.Xa.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));var n,i=(0,l.Z)(e.Xa);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.skipDelay(),"all"!==t&&r.timerId===t)break}}catch(o){i.e(o)}finally{i.f()}return e.uu()}))}},{key:"hu",value:function(t){this.ru.push(t)}},{key:"au",value:function(t){var e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}]),t}();function Mh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;var n,i=t,r=(0,l.Z)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o in i&&"function"==typeof i[o])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(t,["next","error","complete"])}var Ih=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i,r,o){var a;return(0,p.Z)(this,n),(a=e.call(this,t,i,r,o)).type="firestore",a._queue=new Zh,a._persistenceKey=(null==o?void 0:o.name)||"[DEFAULT]",a}return(0,y.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||Nh(this),this._firestoreClient.terminate()}}]),n}(Sh);function Lh(t,e){var n="object"==typeof t?t:(0,m.Mq)(),i="string"==typeof t?t:e||"(default)",r=(0,m.qX)(n,"firestore").getImmediate({identifier:i});if(!r._initialized){var o=(0,b.P0)("firestore");o&&Eh.apply(void 0,[r].concat((0,v.Z)(o)))}return r}function Rh(t){return t._firestoreClient||Nh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Nh(t){var e,n,i,r=t._freezeSettings(),o=function(t,e,n,i){return new oo(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,ph(i.experimentalLongPollingOptions),i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new nh(t._authCredentials,t._appCheckCredentials,t._queue,o),(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Dh=function(){function t(e){(0,p.Z)(this,t),this._byteString=e}return(0,y.Z)(t,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(t){return this._byteString.isEqual(t._byteString)}}],[{key:"fromBase64String",value:function(e){try{return new t(Jr.fromBase64String(e))}catch(e){throw new nr(er.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}},{key:"fromUint8Array",value:function(e){return new t(Jr.fromUint8Array(e))}}]),t}(),Ph=function(){function t(){(0,p.Z)(this,t);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0;r<n.length;++r)if(0===n[r].length)throw new nr(er.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kr(n)}return(0,y.Z)(t,[{key:"isEqual",value:function(t){return this._internalPath.isEqual(t._internalPath)}}]),t}();var Fh=(0,y.Z)((function t(e){(0,p.Z)(this,t),this._methodName=e})),Bh=function(){function t(e,n){if((0,p.Z)(this,t),!isFinite(e)||e<-90||e>90)throw new nr(er.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new nr(er.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return(0,y.Z)(t,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(t){return this._lat===t._lat&&this._long===t._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(t){return vr(this._lat,t._lat)||vr(this._long,t._long)}}]),t}(),Vh=/^__.*__$/,Uh=function(){function t(e,n,i){(0,p.Z)(this,t),this.data=e,this.fieldMask=n,this.fieldTransforms=i}return(0,y.Z)(t,[{key:"toMutation",value:function(t,e){return null!==this.fieldMask?new is(t,this.data,this.fieldMask,e,this.fieldTransforms):new ns(t,this.data,e,this.fieldTransforms)}}]),t}();function zh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xi()}}var jh=function(){function t(e,n,i,r,o,a){(0,p.Z)(this,t),this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return(0,y.Z)(t,[{key:"path",get:function(){return this.settings.path}},{key:"Iu",get:function(){return this.settings.Iu}},{key:"Tu",value:function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Eu",value:function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Tu({path:n,du:!1});return i.Au(t),i}},{key:"Ru",value:function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Tu({path:n,du:!1});return i.Pu(),i}},{key:"Vu",value:function(t){return this.Tu({path:void 0,du:!0})}},{key:"mu",value:function(t){return nf(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}},{key:"contains",value:function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))}},{key:"Pu",value:function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Au(this.path.get(t))}},{key:"Au",value:function(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(zh(this.Iu)&&Vh.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}]),t}(),qh=function(){function t(e,n,i){(0,p.Z)(this,t),this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||al(e)}return(0,y.Z)(t,[{key:"pu",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new jh({Iu:t,methodName:e,gu:n,path:kr.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),t}();function Wh(t){var e=t._freezeSettings(),n=al(t._databaseId);return new qh(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Hh(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=t.pu(o.merge||o.mergeFields?2:0,e,n,r);Xh("Data must be an object, but it was:",a,i);var s,u,c=$h(i,a);if(o.merge)s=new Qr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){var h,f=[],d=(0,l.Z)(o.mergeFields);try{for(d.s();!(h=d.n()).done;){var v=Yh(e,h.value,n);if(!a.contains(v))throw new nr(er.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));rf(f,v)||f.push(v)}}catch(p){d.e(p)}finally{d.f()}s=new Qr(f),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new Uh(new So(c),s,u)}var Kh=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(){return(0,p.Z)(this,n),e.apply(this,arguments)}return(0,y.Z)(n,[{key:"_toFieldTransform",value:function(t){return new Ha(t.path,new Fa)}},{key:"isEqual",value:function(t){return t instanceof n}}]),n}(Fh);function Gh(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Qh(n,t.pu(i?4:3,e))}function Qh(t,e){if(Jh(t=(0,b.m9)(t)))return Xh("Unsupported field value:",e,t),$h(t,e);if(t instanceof Fh)return function(t,e){if(!zh(e.Iu))throw e.mu("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e.mu("".concat(t._methodName,"() is not currently supported inside arrays"));var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(t,e){var n,i=[],r=0,o=(0,l.Z)(t);try{for(o.s();!(n=o.n()).done;){var a=Qh(n.value,e.Vu(r));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),r++}}catch(s){o.e(s)}finally{o.f()}return{arrayValue:{values:i}}}(t,e)}return function(t,e){if(null===(t=(0,b.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return La(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=yr.fromDate(t);return{timestampValue:Fs(e.serializer,n)}}if(t instanceof yr){var i=new yr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Fs(e.serializer,i)}}if(t instanceof Bh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Dh)return{bytesValue:Bs(e.serializer,t._byteString)};if(t instanceof Th){var r=e.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw e.mu("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(r.projectId,"/").concat(r.database));return{referenceValue:zs(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.mu("Unsupported field value: ".concat(bh(t)))}(t,e)}function $h(t,e){var n={};return jr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zr(t,(function(t,i){var r=Qh(i,e.Eu(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function Jh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof yr||t instanceof Bh||t instanceof Dh||t instanceof Th||t instanceof Fh)}function Xh(t,e,n){if(!Jh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var i=bh(n);throw"an object"===i?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function Yh(t,e,n){if((e=(0,b.m9)(e))instanceof Ph)return e._internalPath;if("string"==typeof e)return ef(t,e);throw nf("Field path arguments must be of type string or ",t,!1,void 0,n)}var tf=new RegExp("[~\\*/\\[\\]]");function ef(t,e,n){if(e.search(tf)>=0)throw nf("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return(0,r.Z)(Ph,(0,v.Z)(e.split(".")))._internalPath}catch(L){throw nf("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function nf(t,e,n,i,r){var o=i&&!i.isEmpty(),a=void 0!==r,s="Function ".concat(e,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field ".concat(i)),a&&(u+=" in document ".concat(r)),u+=")"),new nr(er.INVALID_ARGUMENT,s+t+u)}function rf(t,e){return t.some((function(t){return t.isEqual(e)}))}var of=function(){function t(e,n,i,r,o){(0,p.Z)(this,t),this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}return(0,y.Z)(t,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Th(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var t=new af(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(t){if(this._document){var e=this._document.data.field(sf("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}]),t}(),af=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(){return(0,p.Z)(this,n),e.apply(this,arguments)}return(0,y.Z)(n,[{key:"data",value:function(){return(0,o.Z)((0,a.Z)(n.prototype),"data",this).call(this)}}]),n}(of);function sf(t,e){return"string"==typeof e?ef(t,e):e instanceof Ph?e._internalPath:e._delegate._internalPath}function uf(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new nr(er.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lf=(0,y.Z)((function t(){(0,p.Z)(this,t)})),cf=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(){return(0,p.Z)(this,n),e.apply(this,arguments)}return(0,y.Z)(n)}(lf);function hf(t,e){for(var n=[],i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e instanceof lf&&n.push(e),function(t){var e=t.filter((function(t){return t instanceof df})).length,n=t.filter((function(t){return t instanceof ff})).length;if(e>1||e>0&&n>0)throw new nr(er.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(r));var a,s=(0,l.Z)(n);try{for(s.s();!(a=s.n()).done;){t=a.value._apply(t)}}catch(u){s.e(u)}finally{s.f()}return t}var ff=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i,r){var o;return(0,p.Z)(this,n),(o=e.call(this))._field=t,o._op=i,o._value=r,o.type="where",o}return(0,y.Z)(n,[{key:"_apply",value:function(t){var e=this._parse(t);return xf(t._query,e),new Ch(t.firestore,t.converter,ua(t._query,e))}},{key:"_parse",value:function(t){var e=Wh(t.firestore),n=function(t,e,n,i,r,o,a){var s;if(r.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new nr(er.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){_f(a,o);var u,c=[],h=(0,l.Z)(a);try{for(h.s();!(u=h.n()).done;){var f=u.value;c.push(kf(i,t,f))}}catch(d){h.e(d)}finally{h.f()}s={arrayValue:{values:c}}}else s=kf(i,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||_f(a,o),s=Gh(n,e,a,"in"===o||"not-in"===o);return Lo.create(r,o,s)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(t,e,i){return new n(t,e,i)}}]),n}(cf);var df=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this)).type=t,r._queryConstraints=i,r}return(0,y.Z)(n,[{key:"_parse",value:function(t){var e=this._queryConstraints.map((function(e){return e._parse(t)})).filter((function(t){return t.getFilters().length>0}));return 1===e.length?e[0]:Ro.create(e,this._getOperator())}},{key:"_apply",value:function(t){var e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){var n,i=t,r=e.getFlattenedFilters(),o=(0,l.Z)(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;xf(i,a),i=ua(i,a)}}catch(s){o.e(s)}finally{o.f()}}(t._query,e),new Ch(t.firestore,t.converter,ua(t._query,e)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(t,e){return new n(t,e)}}]),n}(lf);var vf=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i){var r;return(0,p.Z)(this,n),(r=e.call(this))._field=t,r._direction=i,r.type="orderBy",r}return(0,y.Z)(n,[{key:"_apply",value:function(t){var e=function(t,e,n){if(null!==t.startAt)throw new nr(er.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new nr(er.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zo(e,n)}(t._query,this._field,this._direction);return new Ch(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new ta(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}],[{key:"_create",value:function(t,e){return new n(t,e)}}]),n}(cf);function pf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=sf("orderBy",t);return vf._create(n,e)}var yf=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i,r){var o;return(0,p.Z)(this,n),(o=e.call(this)).type=t,o._limit=i,o._limitType=r,o}return(0,y.Z)(n,[{key:"_apply",value:function(t){return new Ch(t.firestore,t.converter,la(t._query,this._limit,this._limitType))}}],[{key:"_create",value:function(t,e,i){return new n(t,e,i)}}]),n}(cf);function mf(t){return _h("limit",t),yf._create("limit",t,"F")}var gf=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i,r){var o;return(0,p.Z)(this,n),(o=e.call(this)).type=t,o._docOrFields=i,o._inclusive=r,o}return(0,y.Z)(n,[{key:"_apply",value:function(t){var e=bf(t,this.type,this._docOrFields,this._inclusive);return new Ch(t.firestore,t.converter,function(t,e){return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))}}],[{key:"_create",value:function(t,e,i){return new n(t,e,i)}}]),n}(cf);function wf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return gf._create("startAfter",e,!1)}function bf(t,e,n,i){if(n[0]=(0,b.m9)(n[0]),n[0]instanceof of)return function(t,e,n,i,r){if(!i)throw new nr(er.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var o,a=[],s=(0,l.Z)(oa(t));try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u.field.isKeyField())a.push(yo(e,i.key));else{var c=i.data.field(u.field);if(no(c))throw new nr(er.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.canonicalString();throw new nr(er.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(h,"' (used as the orderBy) does not exist."))}a.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new To(a,r)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var r=Wh(t.firestore);return function(t,e,n,i,r,o){var a=t.explicitOrderBy;if(r.length>a.length)throw new nr(er.INVALID_ARGUMENT,"Too many arguments provided to ".concat(i,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<r.length;u++){var l=r[u];if(a[u].field.isKeyField()){if("string"!=typeof l)throw new nr(er.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(i,"(), but got a ").concat(typeof l));if(!ra(t)&&-1!==l.indexOf("/"))throw new nr(er.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(i,"() must be a plain document ID, but '").concat(l,"' contains a slash."));var c=t.path.child(wr.fromString(l));if(!_r.isDocumentKey(c))throw new nr(er.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(i,"() must result in a valid document path, but '").concat(c,"' is not because it contains an odd number of segments."));var h=new _r(c);s.push(yo(e,h))}else{var f=Gh(n,i,l);s.push(f)}}return new To(s,o)}(t._query,t.firestore._databaseId,r,e,n,i)}function kf(t,e,n){if("string"==typeof(n=(0,b.m9)(n))){if(""===n)throw new nr(er.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ra(e)&&-1!==n.indexOf("/"))throw new nr(er.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var i=e.path.child(wr.fromString(n));if(!_r.isDocumentKey(i))throw new nr(er.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return yo(t,new _r(i))}if(n instanceof Th)return yo(t,n._key);throw new nr(er.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(bh(n),"."))}function _f(t,e){if(!Array.isArray(t)||0===t.length)throw new nr(er.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function xf(t,e){var n=function(t,e){var n,i=(0,l.Z)(t);try{for(i.s();!(n=i.n()).done;){var r,o=n.value,a=(0,l.Z)(o.getFlattenedFilters());try{for(a.s();!(r=a.n()).done;){var s=r.value;if(e.indexOf(s.op)>=0)return s.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){i.e(u)}finally{i.f()}return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new nr(er.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new nr(er.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var Sf=function(){function t(){(0,p.Z)(this,t)}return(0,y.Z)(t,[{key:"convertValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(uo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return to(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(eo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Xi()}}},{key:"convertObject",value:function(t,e){return this.convertObjectMap(t.fields,e)}},{key:"convertObjectMap",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",i={};return zr(t,(function(t,r){i[t]=e.convertValue(r,n)})),i}},{key:"convertGeoPoint",value:function(t){return new Bh(to(t.latitude),to(t.longitude))}},{key:"convertArray",value:function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))}},{key:"convertServerTimestamp",value:function(t,e){switch(e){case"previous":var n=io(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ro(t));default:return null}}},{key:"convertTimestamp",value:function(t){var e=Yr(t);return new yr(e.seconds,e.nanos)}},{key:"convertDocumentKey",value:function(t,e){var n=wr.fromString(t);Yi(lu(n));var i=new ao(n.get(1),n.get(3)),r=new _r(n.popFirst(5));return i.isEqual(e)||Qi("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),r}}]),t}();function Ef(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Cf=function(){function t(e,n){(0,p.Z)(this,t),this.hasPendingWrites=e,this.fromCache=n}return(0,y.Z)(t,[{key:"isEqual",value:function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}]),t}(),Tf=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,i,r,o,a,s){var u;return(0,p.Z)(this,n),(u=e.call(this,t,i,r,o,s))._firestore=t,u._firestoreImpl=t,u.metadata=a,u}return(0,y.Z)(n,[{key:"exists",value:function(){return(0,o.Z)((0,a.Z)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var e=new Af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(sf("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}]),n}(of),Af=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(){return(0,p.Z)(this,n),e.apply(this,arguments)}return(0,y.Z)(n,[{key:"data",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.Z)((0,a.Z)(n.prototype),"data",this).call(this,t)}}]),n}(Tf),Of=function(){function t(e,n,i,r){(0,p.Z)(this,t),this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Cf(r.hasPendingWrites,r.fromCache),this.query=i}return(0,y.Z)(t,[{key:"docs",get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(t,e){var n=this;this._snapshot.docs.forEach((function(i){t.call(e,new Af(n._firestore,n._userDataWriter,i.key,i,new Cf(n._snapshot.mutatedKeys.has(i.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nr(er.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var i=new Af(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Cf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:n++}}))}var i=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Af(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Cf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),r=-1,o=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:Zf(e.type),doc:n,oldIndex:r,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),t}();function Zf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xi()}}var Mf=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t){var i;return(0,p.Z)(this,n),(i=e.call(this)).firestore=t,i}return(0,y.Z)(n,[{key:"convertBytes",value:function(t){return new Dh(t)}},{key:"convertReference",value:function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Th(this.firestore,null,e)}}]),n}(Sf);function If(t,e){var n=kh(t.firestore,Ih),i=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=(0,b.m9)(t),1===arguments.length&&(e=dr.newId()),mh("doc","path",e),t instanceof Sh){var o=wr.fromString.apply(wr,[e].concat(i));return gh(o),new Th(t,null,new _r(o))}if(!(t instanceof Th||t instanceof Ah))throw new nr(er.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=t._path.child(wr.fromString.apply(wr,[e].concat(i)));return gh(a),new Th(t.firestore,t instanceof Ah?t.converter:null,new _r(a))}(t),r=Ef(t.converter,e);return Rf(n,[Hh(Wh(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,Ga.exists(!1))]).then((function(){return i}))}function Lf(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r,o,a;t=(0,b.m9)(t);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Mh(n[u])||(s=n[u],u++);var l,f,d,v={includeMetadataChanges:s.includeMetadataChanges};if(Mh(n[u])){var p=n[u];n[u]=null===(r=p.next)||void 0===r?void 0:r.bind(p),n[u+1]=null===(o=p.error)||void 0===o?void 0:o.bind(p),n[u+2]=null===(a=p.complete)||void 0===a?void 0:a.bind(p)}if(t instanceof Th)f=kh(t.firestore,Ih),d=na(t._key.path),l={next:function(e){n[u]&&n[u](Nf(f,t,e))},error:n[u+1],complete:n[u+2]};else{var y=kh(t,Ch);f=kh(y.firestore,Ih),d=y._query;var m=new Mf(f);l={next:function(t){n[u]&&n[u](new Of(f,m,y,t))},error:n[u+1],complete:n[u+2]},uf(t._query)}return function(t,e,n,i){var r=new eh(i),o=new pc(e,r,n);return t.asyncQueue.enqueueAndForget((0,h.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=uc,e.next=3,dh(t);case 3:return e.t1=e.sent,e.t2=o,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))),function(){r.Na(),t.asyncQueue.enqueueAndForget((0,h.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=cc,e.next=3,dh(t);case 3:return e.t1=e.sent,e.t2=o,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)}))))}}(Rh(f),d,v,l)}function Rf(t,e){return function(t,e){var n=new ir;return t.asyncQueue.enqueueAndForget((0,h.Z)((0,c.Z)().mark((function i(){return(0,c.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=Ac,i.next=3,fh(t);case 3:return i.t1=i.sent,i.t2=e,i.t3=n,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3));case 7:case"end":return i.stop()}}),i)})))),n.promise}(Rh(t),e)}function Nf(t,e,n){var i=n.docs.get(e._key),r=new Mf(t);return new Tf(t,r,e._key,i,new Cf(n.hasPendingWrites,n.fromCache),e.converter)}function Df(){return new Kh("serverTimestamp")}new WeakMap;!function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){Wi=t}(m.Jn),(0,m.Xd)(new g.wA("firestore",(function(t,n){var i=n.instanceIdentifier,r=n.options,o=t.getProvider("app").getImmediate(),a=new Ih(new sr(t.getProvider("auth-internal")),new hr(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new nr(er.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(t.options.projectId,e)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a}),"PUBLIC").setMultipleInstances(!0)),(0,m.KN)(ji,"4.3.2",t),(0,m.KN)(ji,"4.3.2","esm2017")}()},63:function(t,e,n){"use strict";n.d(e,{Mr:function(){return Wn},rM:function(){return wt},C2:function(){return Dr}});var i=n(9439),r=n(1752),o=n(1120),a=n(7762),s=n(7326),u=n(136),l=n(7277),c=n(3433),h=n(5671),f=n(3144);function d(t){var e=t.width,n=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:n}}function v(t,e){return t.width===e.width&&t.height===e.height}var p=function(){function t(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){var e=this,n={next:t};return this._observers.push(n),{unsubscribe:function(){e._observers=e._observers.filter((function(t){return t!==n}))}}},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach((function(e){return e.next(t._window.devicePixelRatio)})),this._reinstallResolutionListener()},t}();var y=function(){function t(t,e,n){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=d({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!==e&&void 0!==e?e:function(t){return t},this._allowResizeObserver=null===(i=null===n||void 0===n?void 0:n.allowResizeObserver)||void 0===i||i,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var t,e;if(null===this._canvasElement)throw new Error("Object is disposed");null===(t=this._canvasElementResizeObserver)||void 0===t||t.disconnect(),this._canvasElementResizeObserver=null,null===(e=this._devicePixelRatioObservable)||void 0===e||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return d({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=d(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter((function(e){return e!==t}))},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter((function(e){return e!==t}))},t.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(t){var e=this.bitmapSize;v(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},t.prototype._emitBitmapSizeChanged=function(t,e){var n=this;this._bitmapSizeChangedListeners.forEach((function(i){return i.call(n,t,e)}))},t.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,n=d(this._transformBitmapSize(t,this._canvasElementClientSize)),i=v(this.bitmapSize,n)?null:n;null===e&&null===i||null!==e&&null!==i&&v(e,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(e,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var n=this;this._suggestedBitmapSizeChangedListeners.forEach((function(i){return i.call(n,t,e)}))},t.prototype._chooseAndInitObserver=function(){var t=this;this._allowResizeObserver?new Promise((function(t){var e=new ResizeObserver((function(n){t(n.every((function(t){return"devicePixelContentBoxSize"in t}))),e.disconnect()}));e.observe(document.body,{box:"device-pixel-content-box"})})).catch((function(){return!1})).then((function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})):this._initDevicePixelRatioObservable()},t.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var e=m(this._canvasElement);if(null===e)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(t){return new p(t)}(e),this._devicePixelRatioObservable.subscribe((function(){return t._invalidateBitmapSize()})),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var t,e;if(null!==this._canvasElement){var n=m(this._canvasElement);if(null!==n){var i=null!==(e=null===(t=this._devicePixelRatioObservable)||void 0===t?void 0:t.value)&&void 0!==e?e:n.devicePixelRatio,r=this._canvasElement.getClientRects(),o=void 0!==r[0]?function(t,e){return d({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}(r[0],i):d({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver((function(e){var n=e.find((function(e){return e.target===t._canvasElement}));if(n&&n.devicePixelContentBoxSize&&n.devicePixelContentBoxSize[0]){var i=n.devicePixelContentBoxSize[0],r=d({width:i.inlineSize,height:i.blockSize});t._suggestNewBitmapSize(r)}})),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function m(t){return t.ownerDocument.defaultView}var g=function(){function t(t,e,n){if(0===e.width||0===e.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,0===n.width||0===n.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=t}return t.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function w(t,e){var n=t.canvasElementClientSize;if(0===n.width||0===n.height)return null;var i=t.bitmapSize;if(0===i.width||0===i.height)return null;var r=t.canvasElement.getContext("2d",e);return null===r?null:new g(r,n,i)}var b,k,_,x={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},S={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},E={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},C={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},T={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},A={color:"#26a69a",base:0},O={color:"#2196f3"},Z={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};function M(t,e){var n={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(n)}function I(t,e,n,i){t.beginPath();var r=t.lineWidth%2?.5:0;t.moveTo(n,e+r),t.lineTo(i,e+r),t.stroke()}function L(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function R(t){if(void 0===t)throw new Error("Value is undefined");return t}function N(t){if(null===t)throw new Error("Value is null");return t}function D(t){return N(R(t))}(_=b||(b={}))[_.Simple=0]="Simple",_[_.WithSteps=1]="WithSteps",_[_.Curved=2]="Curved",function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(k||(k={}));var P={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function F(t){return t<0?0:t>255?255:Math.round(t)||0}function B(t){return t<=0||t>0?t<0?0:t>1?1:Math.round(1e4*t)/1e4:0}var V=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,U=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,z=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,j=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function q(t){(t=t.toLowerCase())in P&&(t=P[t]);var e=j.exec(t)||z.exec(t);if(e)return[F(parseInt(e[1],10)),F(parseInt(e[2],10)),F(parseInt(e[3],10)),B(e.length<5?1:parseFloat(e[4]))];var n=U.exec(t);if(n)return[F(parseInt(n[1],16)),F(parseInt(n[2],16)),F(parseInt(n[3],16)),1];var i=V.exec(t);if(i)return[F(17*parseInt(i[1],16)),F(17*parseInt(i[2],16)),F(17*parseInt(i[3],16)),1];throw new Error("Cannot parse color: ".concat(t))}function W(t){var e,n=q(t);return{t:"rgb(".concat(n[0],", ").concat(n[1],", ").concat(n[2],")"),i:(e=n,.199*e[0]+.687*e[1]+.114*e[2]>160?"black":"white")}}var H=function(){function t(){(0,h.Z)(this,t),this.h=[]}return(0,f.Z)(t,[{key:"l",value:function(t,e,n){var i={o:t,_:e,u:!0===n};this.h.push(i)}},{key:"v",value:function(t){var e=this.h.findIndex((function(e){return t===e.o}));e>-1&&this.h.splice(e,1)}},{key:"p",value:function(t){this.h=this.h.filter((function(e){return e._!==t}))}},{key:"m",value:function(t,e,n){var i=(0,c.Z)(this.h);this.h=this.h.filter((function(t){return!t.u})),i.forEach((function(i){return i.o(t,e,n)}))}},{key:"M",value:function(){return this.h.length>0}},{key:"S",value:function(){this.h=[]}}]),t}();function K(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];for(var s in a)void 0!==a[s]&&("object"!=typeof a[s]||void 0===t[s]||Array.isArray(a[s])?t[s]=a[s]:K(t[s],a[s]))}return t}function G(t){return"number"==typeof t&&isFinite(t)}function Q(t){return"number"==typeof t&&t%1==0}function $(t){return"string"==typeof t}function J(t){return"boolean"==typeof t}function X(t){var e,n,i,r=t;if(!r||"object"!=typeof r)return r;for(n in e=Array.isArray(r)?[]:{},r)r.hasOwnProperty(n)&&(i=r[n],e[n]=i&&"object"==typeof i?X(i):i);return e}function Y(t){return null!==t}function tt(t){return null===t?void 0:t}var et="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function nt(t,e,n){return void 0===e&&(e=et),"".concat(n=void 0!==n?"".concat(n," "):"").concat(t,"px ").concat(e)}var it=function(){function t(e){(0,h.Z)(this,t),this.k={C:1,T:5,P:NaN,R:"",D:"",O:"",A:"",V:0,B:0,I:0,L:0,N:0},this.F=e}return(0,f.Z)(t,[{key:"W",value:function(){var t=this.k,e=this.j(),n=this.H();return t.P===e&&t.D===n||(t.P=e,t.D=n,t.R=nt(e,n),t.L=2.5/12*e,t.V=t.L,t.B=e/12*t.T,t.I=e/12*t.T,t.N=0),t.O=this.$(),t.A=this.U(),this.k}},{key:"$",value:function(){return this.F.W().layout.textColor}},{key:"U",value:function(){return this.F.q()}},{key:"j",value:function(){return this.F.W().layout.fontSize}},{key:"H",value:function(){return this.F.W().layout.fontFamily}}]),t}(),rt=function(){function t(){(0,h.Z)(this,t),this.Y=[]}return(0,f.Z)(t,[{key:"X",value:function(t){this.Y=t}},{key:"K",value:function(t,e,n){this.Y.forEach((function(i){i.K(t,e,n)}))}}]),t}(),ot=function(){function t(){(0,h.Z)(this,t)}return(0,f.Z)(t,[{key:"K",value:function(t,e,n){var i=this;t.useMediaCoordinateSpace((function(t){return i.Z(t,e,n)}))}},{key:"G",value:function(t,e,n){var i=this;t.useMediaCoordinateSpace((function(t){return i.J(t,e,n)}))}},{key:"J",value:function(t,e,n){}}]),t}(),at=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).tt=null,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.tt=t}},{key:"Z",value:function(t){var e=t.context;if(null!==this.tt&&null!==this.tt.nt){var n=this.tt.nt,i=this.tt,r=function(t){e.beginPath();for(var r=n.to-1;r>=n.from;--r){var o=i.st[r];e.moveTo(o.et,o.rt),e.arc(o.et,o.rt,t,0,2*Math.PI)}e.fill()};i.ht>0&&(e.fillStyle=i.lt,r(i.ot+i.ht)),e.fillStyle=i._t,r(i.ot)}}}]),n}(ot);function st(){return{st:[{et:0,rt:0,ut:0,ct:0}],_t:"",lt:"",ot:0,ht:0,nt:null}}var ut={from:0,to:1},lt=function(){function t(e,n){(0,h.Z)(this,t),this.dt=new rt,this.ft=[],this.vt=[],this.bt=!0,this.F=e,this.wt=n,this.dt.X(this.ft)}return(0,f.Z)(t,[{key:"gt",value:function(t){var e=this.F.Mt();e.length!==this.ft.length&&(this.vt=e.map(st),this.ft=this.vt.map((function(t){var e=new at;return e.it(t),e})),this.dt.X(this.ft)),this.bt=!0}},{key:"xt",value:function(){return this.bt&&(this.St(),this.bt=!1),this.dt}},{key:"St",value:function(){var t=this,e=2===this.wt.W().mode,n=this.F.Mt(),i=this.wt.kt(),r=this.F.yt();n.forEach((function(n,o){var a,s=t.vt[o],u=n.Ct(i);if(!e&&null!==u&&n.Tt()){var l=N(n.Pt());s._t=u.Rt,s.ot=u.ot,s.ht=u.Dt,s.st[0].ct=u.ct,s.st[0].rt=n.At().Ot(u.ct,l.Vt),s.lt=null!==(a=u.Bt)&&void 0!==a?a:t.F.It(s.st[0].rt/n.At().zt()),s.st[0].ut=i,s.st[0].et=r.Et(i),s.nt=ut}else s.nt=null}))}}]),t}(),ct=function(){function t(){(0,h.Z)(this,t)}return(0,f.Z)(t,[{key:"K",value:function(t,e,n){var i=this;t.useBitmapCoordinateSpace((function(t){return i.Z(t,e,n)}))}}]),t}(),ht=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var i;return(0,h.Z)(this,n),(i=e.call(this)).Lt=t,i}return(0,f.Z)(n,[{key:"Z",value:function(t){var e=t.context,n=t.bitmapSize,i=t.horizontalPixelRatio,r=t.verticalPixelRatio;if(null!==this.Lt){var o=this.Lt.Nt.Tt,a=this.Lt.Ft.Tt;if(o||a){var s=Math.round(this.Lt.et*i),u=Math.round(this.Lt.rt*r);e.lineCap="butt",o&&s>=0&&(e.lineWidth=Math.floor(this.Lt.Nt.ht*i),e.strokeStyle=this.Lt.Nt.O,e.fillStyle=this.Lt.Nt.O,M(e,this.Lt.Nt.Wt),function(t,e,n,i){t.beginPath();var r=t.lineWidth%2?.5:0;t.moveTo(e+r,0),t.lineTo(e+r,i),t.stroke()}(e,s,0,n.height)),a&&u>=0&&(e.lineWidth=Math.floor(this.Lt.Ft.ht*r),e.strokeStyle=this.Lt.Ft.O,e.fillStyle=this.Lt.Ft.O,M(e,this.Lt.Ft.Wt),I(e,u,0,n.width))}}}}]),n}(ct),ft=function(){function t(e){(0,h.Z)(this,t),this.bt=!0,this.jt={Nt:{ht:1,Wt:0,O:"",Tt:!1},Ft:{ht:1,Wt:0,O:"",Tt:!1},et:0,rt:0},this.Ht=new ht(this.jt),this.$t=e}return(0,f.Z)(t,[{key:"gt",value:function(){this.bt=!0}},{key:"xt",value:function(){return this.bt&&(this.St(),this.bt=!1),this.Ht}},{key:"St",value:function(){var t=this.$t.Tt(),e=N(this.$t.Ut()),n=e.qt().W().crosshair,i=this.jt;if(2===n.mode)return i.Ft.Tt=!1,void(i.Nt.Tt=!1);i.Ft.Tt=t&&this.$t.Yt(e),i.Nt.Tt=t&&this.$t.Xt(),i.Ft.ht=n.horzLine.width,i.Ft.Wt=n.horzLine.style,i.Ft.O=n.horzLine.color,i.Nt.ht=n.vertLine.width,i.Nt.Wt=n.vertLine.style,i.Nt.O=n.vertLine.color,i.et=this.$t.Kt(),i.rt=this.$t.Zt()}}]),t}();function dt(t,e,n,i,r,o){t.fillRect(e+o,n,i-2*o,o),t.fillRect(e+o,n+r-o,i-2*o,o),t.fillRect(e,n,o,r),t.fillRect(e+i-o,n,o,r)}function vt(t,e,n,i,r,o){t.save(),t.globalCompositeOperation="copy",t.fillStyle=o,t.fillRect(e,n,i,r),t.restore()}function pt(t,e){return t.map((function(t){return 0===t?t:t+e}))}function yt(t,e,n,i,r,o){t.beginPath(),t.lineTo(e+i-o[1],n),0!==o[1]&&t.arcTo(e+i,n,e+i,n+o[1],o[1]),t.lineTo(e+i,n+r-o[2]),0!==o[2]&&t.arcTo(e+i,n+r,e+i-o[2],n+r,o[2]),t.lineTo(e+o[3],n+r),0!==o[3]&&t.arcTo(e,n+r,e,n+r-o[3],o[3]),t.lineTo(e,n+o[0]),0!==o[0]&&t.arcTo(e,n,e+o[0],n,o[0])}function mt(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[0,0,0,0],u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"";if(t.save(),!a||!u||u===o)return yt(t,e,n,i,r,s),t.fillStyle=o,t.fill(),void t.restore();var l=a/2;"transparent"!==o&&(yt(t,e+a,n+a,i-2*a,r-2*a,pt(s,-a)),t.fillStyle=o,t.fill()),"transparent"!==u&&(yt(t,e+l,n+l,i-a,r-a,pt(s,-l)),t.lineWidth=a,t.strokeStyle=u,t.closePath(),t.stroke()),t.restore()}function gt(t,e,n,i,r,o,a){t.save(),t.globalCompositeOperation="copy";var s=t.createLinearGradient(0,0,0,r);s.addColorStop(0,o),s.addColorStop(1,a),t.fillStyle=s,t.fillRect(e,n,i,r),t.restore()}var wt,bt=function(){function t(e,n){(0,h.Z)(this,t),this.it(e,n)}return(0,f.Z)(t,[{key:"it",value:function(t,e){this.Lt=t,this.Gt=e}},{key:"zt",value:function(t,e){return this.Lt.Tt?t.P+t.L+t.V:0}},{key:"K",value:function(t,e,n,i){var r=this;if(this.Lt.Tt&&0!==this.Lt.Jt.length){var o=this.Lt.O,a=this.Gt.t,s=t.useBitmapCoordinateSpace((function(t){var s=t.context;s.font=e.R;var u=r.Qt(t,e,n,i),l=u.ti,c=function(t,e){u.ii?mt(s,l.ni,l.si,l.ei,l.ri,t,l.hi,[l.ot,0,0,l.ot],e):mt(s,l.li,l.si,l.ei,l.ri,t,l.hi,[0,l.ot,l.ot,0],e)};return c(a,"transparent"),r.Lt.ai&&(s.fillStyle=o,s.fillRect(l.li,l.oi,l._i-l.li,l.ui)),c("transparent",a),r.Lt.ci&&(s.fillStyle=e.A,s.fillRect(u.ii?l.di-l.hi:0,l.si,l.hi,l.fi-l.si)),u}));t.useMediaCoordinateSpace((function(t){var n=t.context,i=s.vi;n.font=e.R,n.textAlign=s.ii?"right":"left",n.textBaseline="middle",n.fillStyle=o,n.fillText(r.Lt.Jt,i.pi,(i.si+i.fi)/2+i.mi)}))}}},{key:"Qt",value:function(t,e,n,i){var r,o=t.context,a=t.bitmapSize,s=t.mediaSize,u=t.horizontalPixelRatio,l=t.verticalPixelRatio,c=this.Lt.ai||!this.Lt.bi?e.T:0,h=this.Lt.wi?e.C:0,f=e.L+this.Gt.gi,d=e.V+this.Gt.Mi,v=e.B,p=e.I,y=this.Lt.Jt,m=e.P,g=n.xi(o,y),w=Math.ceil(n.Si(o,y)),b=m+f+d,k=e.C+v+p+w+c,_=Math.max(1,Math.floor(l)),x=Math.round(b*l);x%2!=_%2&&(x+=1);var S,E,C,T=h>0?Math.max(1,Math.floor(h*u)):0,A=Math.round(k*u),O=Math.round(c*u),Z=null!==(r=this.Gt.ki)&&void 0!==r?r:this.Gt.yi,M=Math.round(Z*l)-Math.floor(.5*l),I=Math.floor(M+_/2-x/2),L=I+x,R="right"===i,N=R?s.width-h:h,D=R?a.width-T:T;return R?(S=D-A,E=D-O,C=N-c-v-h):(S=D+A,E=D+O,C=N+c+v),{ii:R,ti:{si:I,oi:M,fi:L,ei:A,ri:x,ot:2*u,hi:T,ni:S,li:D,_i:E,ui:_,di:a.width},vi:{si:I/l,fi:L/l,pi:C,mi:g}}}}]),t}(),kt=function(){function t(e){(0,h.Z)(this,t),this.Ci={yi:0,t:"#000",Mi:0,gi:0},this.Ti={Jt:"",Tt:!1,ai:!0,bi:!1,Bt:"",O:"#FFF",ci:!1,wi:!1},this.Pi={Jt:"",Tt:!1,ai:!1,bi:!0,Bt:"",O:"#FFF",ci:!0,wi:!0},this.bt=!0,this.Ri=new(e||bt)(this.Ti,this.Ci),this.Di=new(e||bt)(this.Pi,this.Ci)}return(0,f.Z)(t,[{key:"Jt",value:function(){return this.Oi(),this.Ti.Jt}},{key:"yi",value:function(){return this.Oi(),this.Ci.yi}},{key:"gt",value:function(){this.bt=!0}},{key:"zt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.max(this.Ri.zt(t,e),this.Di.zt(t,e))}},{key:"Ai",value:function(){return this.Ci.ki||0}},{key:"Vi",value:function(t){this.Ci.ki=t}},{key:"Bi",value:function(){return this.Oi(),this.Ti.Tt||this.Pi.Tt}},{key:"Ii",value:function(){return this.Oi(),this.Ti.Tt}},{key:"xt",value:function(t){return this.Oi(),this.Ti.ai=this.Ti.ai&&t.W().ticksVisible,this.Pi.ai=this.Pi.ai&&t.W().ticksVisible,this.Ri.it(this.Ti,this.Ci),this.Di.it(this.Pi,this.Ci),this.Ri}},{key:"zi",value:function(){return this.Oi(),this.Ri.it(this.Ti,this.Ci),this.Di.it(this.Pi,this.Ci),this.Di}},{key:"Oi",value:function(){this.bt&&(this.Ti.ai=!0,this.Pi.ai=!1,this.Ei(this.Ti,this.Pi,this.Ci))}}]),t}(),_t=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i,r){var o;return(0,h.Z)(this,n),(o=e.call(this)).$t=t,o.Li=i,o.Ni=r,o}return(0,f.Z)(n,[{key:"Ei",value:function(t,e,n){if(t.Tt=!1,2!==this.$t.W().mode){var i=this.$t.W().horzLine;if(i.labelVisible){var r=this.Li.Pt();if(this.$t.Tt()&&!this.Li.Fi()&&null!==r){var o=W(i.labelBackgroundColor);n.t=o.t,t.O=o.i;var a=2/12*this.Li.P();n.gi=a,n.Mi=a;var s=this.Ni(this.Li);n.yi=s.yi,t.Jt=this.Li.Wi(s.ct,r),t.Tt=!0}}}}}]),n}(kt),xt=/[1-9]/g,St=function(){function t(){(0,h.Z)(this,t),this.Lt=null}return(0,f.Z)(t,[{key:"it",value:function(t){this.Lt=t}},{key:"K",value:function(t,e){var n=this;if(null!==this.Lt&&!1!==this.Lt.Tt&&0!==this.Lt.Jt.length){var i=t.useMediaCoordinateSpace((function(t){var i=t.context;return i.font=e.R,Math.round(e.ji.Si(i,N(n.Lt).Jt,xt))}));if(!(i<=0)){var r=e.Hi,o=i+2*r,a=o/2,s=this.Lt.$i,u=this.Lt.yi,l=Math.floor(u-a)+.5;l<0?(u+=Math.abs(0-l),l=Math.floor(u-a)+.5):l+o>s&&(u-=Math.abs(s-(l+o)),l=Math.floor(u-a)+.5);var c=l+o,h=Math.ceil(0+e.C+e.T+e.L+e.P+e.V);t.useBitmapCoordinateSpace((function(t){var i=t.context,r=t.horizontalPixelRatio,o=t.verticalPixelRatio,a=N(n.Lt);i.fillStyle=a.t;var s=Math.round(l*r),u=Math.round(0*o),f=Math.round(c*r),d=Math.round(h*o),v=Math.round(2*r);if(i.beginPath(),i.moveTo(s,u),i.lineTo(s,d-v),i.arcTo(s,d,s+v,d,v),i.lineTo(f-v,d),i.arcTo(f,d,f,d-v,v),i.lineTo(f,u),i.fill(),a.ai){var p=Math.round(a.yi*r),y=u,m=Math.round((y+e.T)*o);i.fillStyle=a.O;var g=Math.max(1,Math.floor(r)),w=Math.floor(.5*r);i.fillRect(p-w,y,g,m-y)}})),t.useMediaCoordinateSpace((function(t){var i=t.context,o=N(n.Lt),a=0+e.C+e.T+e.L+e.P/2;i.font=e.R,i.textAlign="left",i.textBaseline="middle",i.fillStyle=o.O;var s=e.ji.xi(i,"Apr0");i.translate(l+r,a+s),i.fillText(o.Jt,0,0)}))}}}}]),t}(),Et=function(){function t(e,n,i){(0,h.Z)(this,t),this.bt=!0,this.Ht=new St,this.jt={Tt:!1,t:"#4c525e",O:"white",Jt:"",$i:0,yi:NaN,ai:!0},this.wt=e,this.Ui=n,this.Ni=i}return(0,f.Z)(t,[{key:"gt",value:function(){this.bt=!0}},{key:"xt",value:function(){return this.bt&&(this.St(),this.bt=!1),this.Ht.it(this.jt),this.Ht}},{key:"St",value:function(){var t=this.jt;if(t.Tt=!1,2!==this.wt.W().mode){var e=this.wt.W().vertLine;if(e.labelVisible){var n=this.Ui.yt();if(!n.Fi()){t.$i=n.$i();var i=this.Ni();if(null!==i){t.yi=i.yi;var r=n.qi(this.wt.kt());t.Jt=n.Yi(N(r)),t.Tt=!0;var o=W(e.labelBackgroundColor);t.t=o.t,t.O=o.i,t.ai=n.W().ticksVisible}}}}}}]),t}(),Ct=function(){function t(){(0,h.Z)(this,t),this.Xi=null,this.Ki=0}return(0,f.Z)(t,[{key:"Zi",value:function(){return this.Ki}},{key:"Gi",value:function(t){this.Ki=t}},{key:"At",value:function(){return this.Xi}},{key:"Ji",value:function(t){this.Xi=t}},{key:"Qi",value:function(t){return[]}},{key:"tn",value:function(){return[]}},{key:"Tt",value:function(){return!0}}]),t}();!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"}(wt||(wt={}));var Tt=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){var r;(0,h.Z)(this,n),(r=e.call(this)).nn=null,r.sn=NaN,r.en=0,r.rn=!0,r.hn=new Map,r.ln=!1,r.an=NaN,r.on=NaN,r._n=NaN,r.un=NaN,r.Ui=t,r.cn=i,r.dn=new lt(t,(0,s.Z)(r)),r.fn=function(t){var e=r.on,n=r.sn;if(t===N(r.nn).vn())return{ct:n,yi:e};var i=N(t.Pt());return{ct:t.pn(e,i),yi:e}};var o=function(){var t=r.Ui.yt().mn(r.en),e=r.Kt();return t&&Number.isFinite(e)?{ut:t,yi:e}:null};return r.bn=new Et((0,s.Z)(r),t,o),r.wn=new ft((0,s.Z)(r)),r}return(0,f.Z)(n,[{key:"W",value:function(){return this.cn}},{key:"gn",value:function(t,e){this._n=t,this.un=e}},{key:"Mn",value:function(){this._n=NaN,this.un=NaN}},{key:"xn",value:function(){return this._n}},{key:"Sn",value:function(){return this.un}},{key:"kn",value:function(t,e,n){this.ln||(this.ln=!0),this.rn=!0,this.yn(t,e,n)}},{key:"kt",value:function(){return this.en}},{key:"Kt",value:function(){return this.an}},{key:"Zt",value:function(){return this.on}},{key:"Tt",value:function(){return this.rn}},{key:"Cn",value:function(){this.rn=!1,this.Tn(),this.sn=NaN,this.an=NaN,this.on=NaN,this.nn=null,this.Mn()}},{key:"Pn",value:function(t){return null!==this.nn?[this.wn,this.dn]:[]}},{key:"Yt",value:function(t){return t===this.nn&&this.cn.horzLine.visible}},{key:"Xt",value:function(){return this.cn.vertLine.visible}},{key:"Rn",value:function(t,e){this.rn&&this.nn===t||this.hn.clear();var n=[];return this.nn===t&&n.push(this.Dn(this.hn,e,this.fn)),n}},{key:"tn",value:function(){return this.rn?[this.bn]:[]}},{key:"Ut",value:function(){return this.nn}},{key:"On",value:function(){this.wn.gt(),this.hn.forEach((function(t){return t.gt()})),this.bn.gt(),this.dn.gt()}},{key:"An",value:function(t){return t&&!t.vn().Fi()?t.vn():null}},{key:"yn",value:function(t,e,n){this.Vn(t,e,n)&&this.On()}},{key:"Vn",value:function(t,e,n){var i=this.an,r=this.on,o=this.sn,a=this.en,s=this.nn,u=this.An(n);this.en=t,this.an=isNaN(t)?NaN:this.Ui.yt().Et(t),this.nn=n;var l=null!==u?u.Pt():null;return null!==u&&null!==l?(this.sn=e,this.on=u.Ot(e,l)):(this.sn=NaN,this.on=NaN),i!==this.an||r!==this.on||a!==this.en||o!==this.sn||s!==this.nn}},{key:"Tn",value:function(){var t=this.Ui.Mt().map((function(t){return t.In().Bn()})).filter(Y),e=0===t.length?null:Math.max.apply(Math,(0,c.Z)(t));this.en=null!==e?e:NaN}},{key:"Dn",value:function(t,e,n){var i=t.get(e);return void 0===i&&(i=new _t(this,e,n),t.set(e,i)),i}}]),n}(Ct);function At(t){return"left"===t||"right"===t}var Ot=function(){function t(e){(0,h.Z)(this,t),this.zn=new Map,this.En=[],this.Ln=e}return(0,f.Z)(t,[{key:"Nn",value:function(t,e){var n=function(t,e){return void 0===t?e:{Fn:Math.max(t.Fn,e.Fn),Wn:t.Wn||e.Wn}}(this.zn.get(t),e);this.zn.set(t,n)}},{key:"jn",value:function(){return this.Ln}},{key:"Hn",value:function(t){var e=this.zn.get(t);return void 0===e?{Fn:this.Ln}:{Fn:Math.max(this.Ln,e.Fn),Wn:e.Wn}}},{key:"$n",value:function(){this.Un(),this.En=[{qn:0}]}},{key:"Yn",value:function(t){this.Un(),this.En=[{qn:1,Vt:t}]}},{key:"Xn",value:function(t){this.Kn(),this.En.push({qn:5,Vt:t})}},{key:"Un",value:function(){this.Kn(),this.En.push({qn:6})}},{key:"Zn",value:function(){this.Un(),this.En=[{qn:4}]}},{key:"Gn",value:function(t){this.Un(),this.En.push({qn:2,Vt:t})}},{key:"Jn",value:function(t){this.Un(),this.En.push({qn:3,Vt:t})}},{key:"Qn",value:function(){return this.En}},{key:"ts",value:function(t){var e,n=this,i=(0,a.Z)(t.En);try{for(i.s();!(e=i.n()).done;){var r=e.value;this.ns(r)}}catch(o){i.e(o)}finally{i.f()}this.Ln=Math.max(this.Ln,t.Ln),t.zn.forEach((function(t,e){n.Nn(e,t)}))}},{key:"ns",value:function(t){switch(t.qn){case 0:this.$n();break;case 1:this.Yn(t.Vt);break;case 2:this.Gn(t.Vt);break;case 3:this.Jn(t.Vt);break;case 4:this.Zn();break;case 5:this.Xn(t.Vt);break;case 6:this.Kn()}}},{key:"Kn",value:function(){var t=this.En.findIndex((function(t){return 5===t.qn}));-1!==t&&this.En.splice(t,1)}}],[{key:"ss",value:function(){return new t(2)}},{key:"es",value:function(){return new t(3)}}]),t}();function Zt(t,e){if(!G(t))return"n/a";if(!Q(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}var Mt=function(){function t(e,n){if((0,h.Z)(this,t),n||(n=1),G(e)&&Q(e)||(e=100),e<0)throw new TypeError("invalid base");this.Li=e,this.rs=n,this.hs()}return(0,f.Z)(t,[{key:"format",value:function(t){var e=t<0?"\u2212":"";return t=Math.abs(t),e+this.ls(t)}},{key:"hs",value:function(){if(this.os=0,this.Li>0&&this.rs>0)for(var t=this.Li;t>1;)t/=10,this.os++}},{key:"ls",value:function(t){var e=this.Li/this.rs,n=Math.floor(t),i="",r=void 0!==this.os?this.os:NaN;if(e>1){var o=+(Math.round(t*e)-n*e).toFixed(this.os);o>=e&&(o-=e,n+=1),i="."+Zt(+o.toFixed(this.os)*this.rs,r)}else n=Math.round(n*e)/e,r>0&&(i="."+Zt(0,r));return n.toFixed(0)+i}}]),t}(),It=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return(0,h.Z)(this,n),e.call(this,t)}return(0,f.Z)(n,[{key:"format",value:function(t){return"".concat((0,r.Z)((0,o.Z)(n.prototype),"format",this).call(this,t),"%")}}]),n}(Mt),Lt=function(){function t(e){(0,h.Z)(this,t),this._s=e}return(0,f.Z)(t,[{key:"format",value:function(t){var e="";return t<0&&(e="-",t=-t),t<995?e+this.us(t):t<999995?e+this.us(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.us(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.us(t/1e9)+"B")}},{key:"us",value:function(t){var e=Math.pow(10,this._s);return((t=Math.round(t*e)/e)>=1e-15&&t<1?t.toFixed(this._s).replace(/\.?0+$/,""):String(t)).replace(/(\.[1-9]*)0+$/,(function(t,e){return e}))}}]),t}();function Rt(t,e,n,r,o,a,s){if(!(0===e.length||r.from>=e.length||r.to<=0)){var u=t.context,l=t.horizontalPixelRatio,c=t.verticalPixelRatio,h=e[r.from],f=a(t,h),d=h;if(r.to-r.from<2){var v=o/2;u.beginPath();var p={et:h.et-v,rt:h.rt},y={et:h.et+v,rt:h.rt};u.moveTo(p.et*l,p.rt*c),u.lineTo(y.et*l,y.rt*c),s(t,f,p,y)}else{var m=function(e,n){s(t,f,d,n),u.beginPath(),f=e,d=n},g=d;u.beginPath(),u.moveTo(h.et*l,h.rt*c);for(var w=r.from+1;w<r.to;++w){g=e[w];var b=a(t,g);switch(n){case 0:u.lineTo(g.et*l,g.rt*c);break;case 1:u.lineTo(g.et*l,e[w-1].rt*c),b!==f&&(m(b,g),u.lineTo(g.et*l,e[w-1].rt*c)),u.lineTo(g.et*l,g.rt*c);break;case 2:var k=Ft(e,w-1,w),_=(0,i.Z)(k,2),x=_[0],S=_[1];u.bezierCurveTo(x.et*l,x.rt*c,S.et*l,S.rt*c,g.et*l,g.rt*c)}1!==n&&b!==f&&(m(b,g),u.moveTo(g.et*l,g.rt*c))}(d!==g||d===g&&1===n)&&s(t,f,d,g)}}}var Nt=6;function Dt(t,e){return{et:t.et-e.et,rt:t.rt-e.rt}}function Pt(t,e){return{et:t.et/e,rt:t.rt/e}}function Ft(t,e,n){var i,r,o=Math.max(0,e-1),a=Math.min(t.length-1,n+1);return[(i=t[e],r=Pt(Dt(t[n],t[o]),Nt),{et:i.et+r.et,rt:i.rt+r.rt}),Dt(t[n],Pt(Dt(t[a],t[e]),Nt))]}function Bt(t,e,n,i,r){var o=e.context,a=e.horizontalPixelRatio,s=e.verticalPixelRatio;o.lineTo(r.et*a,t*s),o.lineTo(i.et*a,t*s),o.closePath(),o.fillStyle=n,o.fill()}var Vt=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).tt=null,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.tt=t}},{key:"Z",value:function(t){var e;if(null!==this.tt){var n=this.tt,i=n.st,r=n.nt,o=n.cs,a=n.ht,s=n.Wt,u=n.ds,l=null!==(e=this.tt.fs)&&void 0!==e?e:this.tt.vs?0:t.mediaSize.height;if(null!==r){var c=t.context;c.lineCap="butt",c.lineJoin="round",c.lineWidth=a,M(c,s),c.lineWidth=1,Rt(t,i,u,r,o,this.ps.bind(this),Bt.bind(null,l))}}}}]),n}(ct);function Ut(t,e,n){return Math.min(Math.max(t,e),n)}function zt(t,e,n){return e-t<=n}function jt(t){var e=Math.ceil(t);return e%2==0?e-1:e}var qt=function(){function t(){(0,h.Z)(this,t)}return(0,f.Z)(t,[{key:"bs",value:function(t,e){var n=this.ws,i=e.gs,r=e.Ms,o=e.xs,a=e.Ss,s=e.ks,u=e.fs;if(void 0===this.ys||void 0===n||n.gs!==i||n.Ms!==r||n.xs!==o||n.Ss!==a||n.fs!==u||n.ks!==s){var l=t.context.createLinearGradient(0,0,0,s);if(l.addColorStop(0,i),null!=u){var c=Ut(u*t.verticalPixelRatio/s,0,1);l.addColorStop(c,r),l.addColorStop(c,o)}l.addColorStop(1,a),this.ys=l,this.ws=e}return this.ys}}]),t}(),Wt=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Cs=new qt,t}return(0,f.Z)(n,[{key:"ps",value:function(t,e){return this.Cs.bs(t,{gs:e.Ts,Ms:"",xs:"",Ss:e.Ps,ks:t.bitmapSize.height})}}]),n}(Vt);function Ht(t,e){var n=t.context;n.strokeStyle=e,n.stroke()}var Kt=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).tt=null,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.tt=t}},{key:"Z",value:function(t){if(null!==this.tt){var e=this.tt,n=e.st,i=e.nt,r=e.cs,o=e.ds,a=e.ht,s=e.Wt,u=e.Rs;if(null!==i){var l=t.context;l.lineCap="butt",l.lineWidth=a*t.verticalPixelRatio,M(l,s),l.lineJoin="round";var c=this.Ds.bind(this);void 0!==o&&Rt(t,n,o,i,r,c,Ht),u&&function(t,e,n,i,r){for(var o=t.horizontalPixelRatio,a=t.verticalPixelRatio,s=t.context,u=null,l=Math.max(1,Math.floor(o))%2/2,c=n*a+l,h=i.to-1;h>=i.from;--h){var f=e[h];if(f){var d=r(t,f);d!==u&&(s.beginPath(),null!==u&&s.fill(),s.fillStyle=d,u=d);var v=Math.round(f.et*o)+l,p=f.rt*a;s.moveTo(v,p),s.arc(v,p,c,0,2*Math.PI)}}s.fill()}(t,n,u,i,c)}}}}]),n}(ct),Gt=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){return(0,h.Z)(this,n),e.apply(this,arguments)}return(0,f.Z)(n,[{key:"Ds",value:function(t,e){return e._t}}]),n}(Kt);function Qt(t,e,n,i){for(var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=(arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length)-r;0<o;){var a=o>>1,s=r+a;i(e[s],n)===t?(r=s+1,o-=a+1):o=a}return r}var $t=Qt.bind(null,!0),Jt=Qt.bind(null,!1);function Xt(t,e){return t.ut<e}function Yt(t,e){return e<t.ut}function te(t,e,n){var i=e.Os(),r=e.di(),o=$t(t,i,Xt),a=Jt(t,r,Yt);if(!n)return{from:o,to:a};var s=o,u=a;return o>0&&o<t.length&&t[o].ut>=i&&(s=o-1),a>0&&a<t.length&&t[a-1].ut<=r&&(u=a+1),{from:s,to:u}}var ee=function(){function t(e,n,i){(0,h.Z)(this,t),this.As=!0,this.Vs=!0,this.Bs=!0,this.Is=[],this.zs=null,this.Es=e,this.Ls=n,this.Ns=i}return(0,f.Z)(t,[{key:"gt",value:function(t){this.As=!0,"data"===t&&(this.Vs=!0),"options"===t&&(this.Bs=!0)}},{key:"xt",value:function(){return this.Es.Tt()?(this.Fs(),null===this.zs?null:this.Ws):null}},{key:"js",value:function(){var t=this;this.Is=this.Is.map((function(e){return Object.assign(Object.assign({},e),t.Es.$s().Hs(e.ut))}))}},{key:"Us",value:function(){this.zs=null}},{key:"Fs",value:function(){this.Vs&&(this.qs(),this.Vs=!1),this.Bs&&(this.js(),this.Bs=!1),this.As&&(this.Ys(),this.As=!1)}},{key:"Ys",value:function(){var t=this.Es.At(),e=this.Ls.yt();if(this.Us(),!e.Fi()&&!t.Fi()){var n=e.Xs();if(null!==n&&0!==this.Es.In().Ks()){var i=this.Es.Pt();null!==i&&(this.zs=te(this.Is,n,this.Ns),this.Zs(t,e,i.Vt),this.Gs())}}}}]),t}(),ne=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){return(0,h.Z)(this,n),e.call(this,t,i,!0)}return(0,f.Z)(n,[{key:"Zs",value:function(t,e,n){e.Js(this.Is,tt(this.zs)),t.Qs(this.Is,n,tt(this.zs))}},{key:"te",value:function(t,e){return{ut:t,ct:e,et:NaN,rt:NaN}}},{key:"qs",value:function(){var t=this,e=this.Es.$s();this.Is=this.Es.In().ie().map((function(n){var i=n.Vt[3];return t.ne(n.se,i,e)}))}}]),n}(ee),ie=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){var r;return(0,h.Z)(this,n),(r=e.call(this,t,i)).Ws=new rt,r.ee=new Wt,r.re=new Gt,r.Ws.X([r.ee,r.re]),r}return(0,f.Z)(n,[{key:"ne",value:function(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}},{key:"Gs",value:function(){var t=this.Es.W();this.ee.it({ds:t.lineType,st:this.Is,Wt:t.lineStyle,ht:t.lineWidth,fs:null,vs:t.invertFilledArea,nt:this.zs,cs:this.Ls.yt().he()}),this.re.it({ds:t.lineVisible?t.lineType:void 0,st:this.Is,Wt:t.lineStyle,ht:t.lineWidth,nt:this.zs,cs:this.Ls.yt().he(),Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}]),n}(ne),re=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Lt=null,t.le=0,t.ae=0,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.Lt=t}},{key:"Z",value:function(t){var e=t.context,n=t.horizontalPixelRatio,i=t.verticalPixelRatio;if(null!==this.Lt&&0!==this.Lt.In.length&&null!==this.Lt.nt){this.le=this.oe(n),this.le>=2&&Math.max(1,Math.floor(n))%2!=this.le%2&&this.le--,this.ae=this.Lt._e?Math.min(this.le,Math.floor(n)):this.le;for(var r=null,o=this.ae<=this.le&&this.Lt.he>=Math.floor(1.5*n),a=this.Lt.nt.from;a<this.Lt.nt.to;++a){var s=this.Lt.In[a];r!==s.ue&&(e.fillStyle=s.ue,r=s.ue);var u=Math.floor(.5*this.ae),l=Math.round(s.et*n),c=l-u,h=this.ae,f=c+h-1,d=Math.min(s.ce,s.de),v=Math.max(s.ce,s.de),p=Math.round(d*i)-u,y=Math.round(v*i)+u,m=Math.max(y-p,this.ae);e.fillRect(c,p,h,m);var g=Math.ceil(1.5*this.le);if(o){if(this.Lt.fe){var w=l-g,b=Math.max(p,Math.round(s.ve*i)-u),k=b+h-1;k>p+m-1&&(b=(k=p+m-1)-h+1),e.fillRect(w,b,c-w,k-b+1)}var _=l+g,x=Math.max(p,Math.round(s.pe*i)-u),S=x+h-1;S>p+m-1&&(x=(S=p+m-1)-h+1),e.fillRect(f+1,x,_-f,S-x+1)}}}}},{key:"oe",value:function(t){var e=Math.floor(t);return Math.max(e,Math.floor(function(t,e){return Math.floor(.3*t*e)}(N(this.Lt).he,t)))}}]),n}(ct),oe=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){return(0,h.Z)(this,n),e.call(this,t,i,!1)}return(0,f.Z)(n,[{key:"Zs",value:function(t,e,n){e.Js(this.Is,tt(this.zs)),t.me(this.Is,n,tt(this.zs))}},{key:"be",value:function(t,e,n){return{ut:t,we:e.Vt[0],ge:e.Vt[1],Me:e.Vt[2],xe:e.Vt[3],et:NaN,ve:NaN,ce:NaN,de:NaN,pe:NaN}}},{key:"qs",value:function(){var t=this,e=this.Es.$s();this.Is=this.Es.In().ie().map((function(n){return t.ne(n.se,n,e)}))}}]),n}(ee),ae=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Ws=new re,t}return(0,f.Z)(n,[{key:"ne",value:function(t,e,n){return Object.assign(Object.assign({},this.be(t,e,n)),n.Hs(t))}},{key:"Gs",value:function(){var t=this.Es.W();this.Ws.it({In:this.Is,he:this.Ls.yt().he(),fe:t.openVisible,_e:t.thinBars,nt:this.zs})}}]),n}(oe),se=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Cs=new qt,t}return(0,f.Z)(n,[{key:"ps",value:function(t,e){var n=this.tt;return this.Cs.bs(t,{gs:e.Se,Ms:e.ke,xs:e.ye,Ss:e.Ce,ks:t.bitmapSize.height,fs:n.fs})}}]),n}(Vt),ue=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Te=new qt,t}return(0,f.Z)(n,[{key:"Ds",value:function(t,e){var n=this.tt;return this.Te.bs(t,{gs:e.Pe,Ms:e.Pe,xs:e.Re,Ss:e.Re,ks:t.bitmapSize.height,fs:n.fs})}}]),n}(Kt),le=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){var r;return(0,h.Z)(this,n),(r=e.call(this,t,i)).Ws=new rt,r.De=new se,r.Oe=new ue,r.Ws.X([r.De,r.Oe]),r}return(0,f.Z)(n,[{key:"ne",value:function(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}},{key:"Gs",value:function(){var t=this.Es.Pt();if(null!==t){var e=this.Es.W(),n=this.Es.At().Ot(e.baseValue.price,t.Vt),i=this.Ls.yt().he();this.De.it({st:this.Is,ht:e.lineWidth,Wt:e.lineStyle,ds:e.lineType,fs:n,vs:!1,nt:this.zs,cs:i}),this.Oe.it({st:this.Is,ht:e.lineWidth,Wt:e.lineStyle,ds:e.lineVisible?e.lineType:void 0,Rs:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,fs:n,nt:this.zs,cs:i})}}}]),n}(ne),ce=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Lt=null,t.le=0,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.Lt=t}},{key:"Z",value:function(t){if(null!==this.Lt&&0!==this.Lt.In.length&&null!==this.Lt.nt){var e=t.horizontalPixelRatio;this.le=function(t,e){if(t>=2.5&&t<=4)return Math.floor(3*e);var n=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),i=Math.floor(t*n*e),r=Math.floor(t*e),o=Math.min(i,r);return Math.max(Math.floor(e),o)}(this.Lt.he,e),this.le>=2&&Math.floor(e)%2!=this.le%2&&this.le--;var n=this.Lt.In;this.Lt.Ae&&this.Ve(t,n,this.Lt.nt),this.Lt.ci&&this.Be(t,n,this.Lt.nt);var i=this.Ie(e);(!this.Lt.ci||this.le>2*i)&&this.ze(t,n,this.Lt.nt)}}},{key:"Ve",value:function(t,e,n){if(null!==this.Lt){var i=t.context,r=t.horizontalPixelRatio,o=t.verticalPixelRatio,a="",s=Math.min(Math.floor(r),Math.floor(this.Lt.he*r));s=Math.max(Math.floor(r),Math.min(s,this.le));for(var u=Math.floor(.5*s),l=null,c=n.from;c<n.to;c++){var h=e[c];h.Ee!==a&&(i.fillStyle=h.Ee,a=h.Ee);var f=Math.round(Math.min(h.ve,h.pe)*o),d=Math.round(Math.max(h.ve,h.pe)*o),v=Math.round(h.ce*o),p=Math.round(h.de*o),y=Math.round(r*h.et)-u,m=y+s-1;null!==l&&(y=Math.max(l+1,y),y=Math.min(y,m));var g=m-y+1;i.fillRect(y,v,g,f-v),i.fillRect(y,d+1,g,p-d),l=m}}}},{key:"Ie",value:function(t){var e=Math.floor(1*t);this.le<=2*e&&(e=Math.floor(.5*(this.le-1)));var n=Math.max(Math.floor(t),e);return this.le<=2*n?Math.max(Math.floor(t),Math.floor(1*t)):n}},{key:"Be",value:function(t,e,n){if(null!==this.Lt)for(var i=t.context,r=t.horizontalPixelRatio,o=t.verticalPixelRatio,a="",s=this.Ie(r),u=null,l=n.from;l<n.to;l++){var c=e[l];c.Le!==a&&(i.fillStyle=c.Le,a=c.Le);var h=Math.round(c.et*r)-Math.floor(.5*this.le),f=h+this.le-1,d=Math.round(Math.min(c.ve,c.pe)*o),v=Math.round(Math.max(c.ve,c.pe)*o);if(null!==u&&(h=Math.max(u+1,h),h=Math.min(h,f)),this.Lt.he*r>2*s)dt(i,h,d,f-h+1,v-d+1,s);else{var p=f-h+1;i.fillRect(h,d,p,v-d+1)}u=f}}},{key:"ze",value:function(t,e,n){if(null!==this.Lt)for(var i=t.context,r=t.horizontalPixelRatio,o=t.verticalPixelRatio,a="",s=this.Ie(r),u=n.from;u<n.to;u++){var l=e[u],c=Math.round(Math.min(l.ve,l.pe)*o),h=Math.round(Math.max(l.ve,l.pe)*o),f=Math.round(l.et*r)-Math.floor(.5*this.le),d=f+this.le-1;if(l.ue!==a){var v=l.ue;i.fillStyle=v,a=v}this.Lt.ci&&(f+=s,c+=s,d-=s,h-=s),c>h||i.fillRect(f,c,d-f+1,h-c+1)}}}]),n}(ct),he=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Ws=new ce,t}return(0,f.Z)(n,[{key:"ne",value:function(t,e,n){return Object.assign(Object.assign({},this.be(t,e,n)),n.Hs(t))}},{key:"Gs",value:function(){var t=this.Es.W();this.Ws.it({In:this.Is,he:this.Ls.yt().he(),Ae:t.wickVisible,ci:t.borderVisible,nt:this.zs})}}]),n}(oe),fe=function(){function t(e,n){(0,h.Z)(this,t),this.Ne=e,this.Li=n}return(0,f.Z)(t,[{key:"K",value:function(t,e,n){this.Ne.draw(t,this.Li,e,n)}}]),t}(),de=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i,r){var o;return(0,h.Z)(this,n),(o=e.call(this,t,i,!1)).wn=r,o.Ws=new fe(o.wn.renderer(),(function(e){var n=t.Pt();return null===n?null:t.At().Ot(e,n.Vt)})),o}return(0,f.Z)(n,[{key:"Fe",value:function(t){return this.wn.priceValueBuilder(t)}},{key:"We",value:function(t){return this.wn.isWhitespace(t)}},{key:"qs",value:function(){var t=this.Es.$s();this.Is=this.Es.In().ie().map((function(e){return Object.assign(Object.assign({ut:e.se,et:NaN},t.Hs(e.se)),{je:e.He})}))}},{key:"Zs",value:function(t,e){e.Js(this.Is,tt(this.zs))}},{key:"Gs",value:function(){this.wn.update({bars:this.Is.map(ve),barSpacing:this.Ls.yt().he(),visibleRange:this.zs},this.Es.W())}}]),n}(ee);function ve(t){return{x:t.et,time:t.ut,originalData:t.je,barColor:t.ue}}var pe=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Lt=null,t.$e=[],t}return(0,f.Z)(n,[{key:"it",value:function(t){this.Lt=t,this.$e=[]}},{key:"Z",value:function(t){var e=t.context,n=t.horizontalPixelRatio,i=t.verticalPixelRatio;if(null!==this.Lt&&0!==this.Lt.st.length&&null!==this.Lt.nt){this.$e.length||this.Ue(n);for(var r=Math.max(1,Math.floor(i)),o=Math.round(this.Lt.qe*i)-Math.floor(r/2),a=o+r,s=this.Lt.nt.from;s<this.Lt.nt.to;s++){var u=this.Lt.st[s],l=this.$e[s-this.Lt.nt.from],c=Math.round(u.rt*i),h=void 0,f=void 0;e.fillStyle=u.ue,c<=o?(h=c,f=a):(h=o,f=c-Math.floor(r/2)+r),e.fillRect(l.Os,h,l.di-l.Os+1,f-h)}}}},{key:"Ue",value:function(t){if(null!==this.Lt&&0!==this.Lt.st.length&&null!==this.Lt.nt){var e=Math.ceil(this.Lt.he*t)<=1?0:Math.max(1,Math.floor(t)),n=Math.round(this.Lt.he*t)-e;this.$e=new Array(this.Lt.nt.to-this.Lt.nt.from);for(var i=this.Lt.nt.from;i<this.Lt.nt.to;i++){var r=this.Lt.st[i],o=Math.round(r.et*t),a=void 0,s=void 0;if(n%2){var u=(n-1)/2;a=o-u,s=o+u}else{var l=n/2;a=o-l,s=o+l-1}this.$e[i-this.Lt.nt.from]={Os:a,di:s,Ye:o,Xe:r.et*t,ut:r.ut}}for(var c=this.Lt.nt.from+1;c<this.Lt.nt.to;c++){var h=this.$e[c-this.Lt.nt.from],f=this.$e[c-this.Lt.nt.from-1];h.ut===f.ut+1&&h.Os-f.di!==e+1&&(f.Ye>f.Xe?f.di=h.Os-e-1:h.Os=f.di+e+1)}for(var d=Math.ceil(this.Lt.he*t),v=this.Lt.nt.from;v<this.Lt.nt.to;v++){var p=this.$e[v-this.Lt.nt.from];p.di<p.Os&&(p.di=p.Os);var y=p.di-p.Os+1;d=Math.min(y,d)}if(e>0&&d<4)for(var m=this.Lt.nt.from;m<this.Lt.nt.to;m++){var g=this.$e[m-this.Lt.nt.from];g.di-g.Os+1>d&&(g.Ye>g.Xe?g.di-=1:g.Os+=1)}}else this.$e=[]}}]),n}(ct),ye=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Ws=new pe,t}return(0,f.Z)(n,[{key:"ne",value:function(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}},{key:"Gs",value:function(){var t={st:this.Is,he:this.Ls.yt().he(),nt:this.zs,qe:this.Es.At().Ot(this.Es.W().base,N(this.Es.Pt()).Vt)};this.Ws.it(t)}}]),n}(ne),me=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Ws=new Gt,t}return(0,f.Z)(n,[{key:"ne",value:function(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}},{key:"Gs",value:function(){var t=this.Es.W(),e={st:this.Is,Wt:t.lineStyle,ds:t.lineVisible?t.lineType:void 0,ht:t.lineWidth,Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,nt:this.zs,cs:this.Ls.yt().he()};this.Ws.it(e)}}]),n}(ne),ge=/[2-9]/g,we=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;(0,h.Z)(this,t),this.Ke=0,this.Ze=1,this.Ge=1,this.Je={},this.Qe=new Map,this.tr=e}return(0,f.Z)(t,[{key:"ir",value:function(){this.Ke=0,this.Qe.clear(),this.Ze=1,this.Ge=1,this.Je={}}},{key:"Si",value:function(t,e,n){return this.nr(t,e,n).width}},{key:"xi",value:function(t,e,n){var i=this.nr(t,e,n);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}},{key:"nr",value:function(t,e,n){var i=n||ge,r=String(e).replace(i,"0");if(this.Qe.has(r))return R(this.Qe.get(r)).sr;if(this.Ke===this.tr){var o=this.Je[this.Ge];delete this.Je[this.Ge],this.Qe.delete(o),this.Ge++,this.Ke--}t.save(),t.textBaseline="middle";var a=t.measureText(r);return t.restore(),0===a.width&&e.length||(this.Qe.set(r,{sr:a,er:this.Ze}),this.Je[this.Ze]=r,this.Ke++,this.Ze++),a}}]),t}(),be=function(){function t(e){(0,h.Z)(this,t),this.rr=null,this.k=null,this.hr="right",this.lr=e}return(0,f.Z)(t,[{key:"ar",value:function(t,e,n){this.rr=t,this.k=e,this.hr=n}},{key:"K",value:function(t){null!==this.k&&null!==this.rr&&this.rr.K(t,this.k,this.lr,this.hr)}}]),t}(),ke=function(){function t(e,n,i){(0,h.Z)(this,t),this._r=e,this.lr=new we(50),this.ur=n,this.F=i,this.j=-1,this.Ht=new be(this.lr)}return(0,f.Z)(t,[{key:"xt",value:function(){var t=this.F.cr(this.ur);if(null===t)return null;var e=t.dr(this.ur)?t.vr():this.ur.At();if(null===e)return null;var n=t.pr(e);if("overlay"===n)return null;var i=this.F.mr();return i.P!==this.j&&(this.j=i.P,this.lr.ir()),this.Ht.ar(this._r.zi(),i,n),this.Ht}}]),t}(),_e=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Lt=null,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.Lt=t}},{key:"br",value:function(t,e){var n;if(!(null===(n=this.Lt)||void 0===n?void 0:n.Tt))return null;var i=this.Lt,r=i.rt,o=i.ht,a=i.wr;return e>=r-o-7&&e<=r+o+7?{gr:this.Lt,wr:a}:null}},{key:"Z",value:function(t){var e=t.context,n=t.bitmapSize,i=t.horizontalPixelRatio,r=t.verticalPixelRatio;if(null!==this.Lt&&!1!==this.Lt.Tt){var o=Math.round(this.Lt.rt*r);o<0||o>n.height||(e.lineCap="butt",e.strokeStyle=this.Lt.O,e.lineWidth=Math.floor(this.Lt.ht*i),M(e,this.Lt.Wt),I(e,o,0,n.width))}}}]),n}(ct),xe=function(){function t(e){(0,h.Z)(this,t),this.Mr={rt:0,O:"rgba(0, 0, 0, 0)",ht:1,Wt:0,Tt:!1},this.Sr=new _e,this.bt=!0,this.Es=e,this.Ls=e.qt(),this.Sr.it(this.Mr)}return(0,f.Z)(t,[{key:"gt",value:function(){this.bt=!0}},{key:"xt",value:function(){return this.Es.Tt()?(this.bt&&(this.kr(),this.bt=!1),this.Sr):null}}]),t}(),Se=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){return(0,h.Z)(this,n),e.call(this,t)}return(0,f.Z)(n,[{key:"kr",value:function(){this.Mr.Tt=!1;var t=this.Es.At(),e=t.yr().yr;if(2===e||3===e){var n=this.Es.W();if(n.baseLineVisible&&this.Es.Tt()){var i=this.Es.Pt();null!==i&&(this.Mr.Tt=!0,this.Mr.rt=t.Ot(i.Vt,i.Vt),this.Mr.O=n.baseLineColor,this.Mr.ht=n.baseLineWidth,this.Mr.Wt=n.baseLineStyle)}}}}]),n}(xe),Ee=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Lt=null,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.Lt=t}},{key:"He",value:function(){return this.Lt}},{key:"Z",value:function(t){var e=t.context,n=t.horizontalPixelRatio,i=t.verticalPixelRatio,r=this.Lt;if(null!==r){var o=Math.max(1,Math.floor(n)),a=o%2/2,s=Math.round(r.Xe.x*n)+a,u=r.Xe.y*i;e.fillStyle=r.Cr,e.beginPath();var l=Math.max(2,1.5*r.Tr)*n;e.arc(s,u,l,0,2*Math.PI,!1),e.fill(),e.fillStyle=r.Pr,e.beginPath(),e.arc(s,u,r.ot*n,0,2*Math.PI,!1),e.fill(),e.lineWidth=o,e.strokeStyle=r.Rr,e.beginPath(),e.arc(s,u,r.ot*n+o/2,0,2*Math.PI,!1),e.stroke()}}}]),n}(ct),Ce=[{Dr:0,Or:.25,Ar:4,Vr:10,Br:.25,Ir:0,zr:.4,Er:.8},{Dr:.25,Or:.525,Ar:10,Vr:14,Br:0,Ir:0,zr:.8,Er:0},{Dr:.525,Or:1,Ar:14,Vr:14,Br:0,Ir:0,zr:0,Er:0}];function Te(t,e,n,i){return function(t,e){if("transparent"===t)return t;var n=q(t),i=n[3];return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(e*i,")")}(t,n+(i-n)*e)}function Ae(t,e){for(var n,i=t%2600/2600,r=0,o=Ce;r<o.length;r++){var a=o[r];if(i>=a.Dr&&i<=a.Or){n=a;break}}L(void 0!==n,"Last price animation internal logic error");var s,u,l,c=(i-n.Dr)/(n.Or-n.Dr);return{Pr:Te(e,c,n.Br,n.Ir),Rr:Te(e,c,n.zr,n.Er),ot:(s=c,u=n.Ar,l=n.Vr,u+(l-u)*s)}}var Oe=function(){function t(e){(0,h.Z)(this,t),this.Ht=new Ee,this.bt=!0,this.Lr=!0,this.Nr=performance.now(),this.Fr=this.Nr-1,this.Wr=e}return(0,f.Z)(t,[{key:"jr",value:function(){this.Fr=this.Nr-1,this.gt()}},{key:"Hr",value:function(){if(this.gt(),2===this.Wr.W().lastPriceAnimation){var t=performance.now(),e=this.Fr-t;if(e>0)return void(e<650&&(this.Fr+=2600));this.Nr=t,this.Fr=t+2600}}},{key:"gt",value:function(){this.bt=!0}},{key:"$r",value:function(){this.Lr=!0}},{key:"Tt",value:function(){return 0!==this.Wr.W().lastPriceAnimation}},{key:"Ur",value:function(){switch(this.Wr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Fr}}},{key:"xt",value:function(){return this.bt?(this.St(),this.bt=!1,this.Lr=!1):this.Lr&&(this.qr(),this.Lr=!1),this.Ht}},{key:"St",value:function(){this.Ht.it(null);var t=this.Wr.qt().yt(),e=t.Xs(),n=this.Wr.Pt();if(null!==e&&null!==n){var i=this.Wr.Yr(!0);if(!i.Xr&&e.Kr(i.se)){var r={x:t.Et(i.se),y:this.Wr.At().Ot(i.ct,n.Vt)},o=i.O,a=this.Wr.W().lineWidth,s=Ae(this.Zr(),o);this.Ht.it({Cr:o,Tr:a,Pr:s.Pr,Rr:s.Rr,ot:s.ot,Xe:r})}}}},{key:"qr",value:function(){var t=this.Ht.He();if(null!==t){var e=Ae(this.Zr(),t.Cr);t.Pr=e.Pr,t.Rr=e.Rr,t.ot=e.ot}}},{key:"Zr",value:function(){return this.Ur()?performance.now()-this.Nr:2599}}]),t}();function Ze(t,e){return jt(Math.min(Math.max(t,12),30)*e)}function Me(t,e){switch(t){case"arrowDown":case"arrowUp":return Ze(e,1);case"circle":return Ze(e,.8);case"square":return Ze(e,.7)}}function Ie(t){return function(t){var e=Math.ceil(t);return e%2!=0?e-1:e}(Ze(t,1))}function Le(t){return Math.max(Ze(t,.1),3)}function Re(t,e,n,i,r){var o=Me("square",n),a=(o-1)/2,s=t-a,u=e-a;return i>=s&&i<=s+o&&r>=u&&r<=u+o}function Ne(t,e,n,i,r){var o=(Me("arrowUp",r)-1)/2,a=(jt(r/2)-1)/2;e.beginPath(),t?(e.moveTo(n-o,i),e.lineTo(n,i-o),e.lineTo(n+o,i),e.lineTo(n+a,i),e.lineTo(n+a,i+o),e.lineTo(n-a,i+o),e.lineTo(n-a,i)):(e.moveTo(n-o,i),e.lineTo(n,i+o),e.lineTo(n+o,i),e.lineTo(n+a,i),e.lineTo(n+a,i-o),e.lineTo(n-a,i-o),e.lineTo(n-a,i)),e.fill()}var De=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Lt=null,t.lr=new we,t.j=-1,t.H="",t.Gr="",t}return(0,f.Z)(n,[{key:"it",value:function(t){this.Lt=t}},{key:"ar",value:function(t,e){this.j===t&&this.H===e||(this.j=t,this.H=e,this.Gr=nt(t,e),this.lr.ir())}},{key:"br",value:function(t,e){if(null===this.Lt||null===this.Lt.nt)return null;for(var n=this.Lt.nt.from;n<this.Lt.nt.to;n++){var i=this.Lt.st[n];if(Fe(i,t,e))return{gr:i.Jr,wr:i.wr}}return null}},{key:"Z",value:function(t,e,n){var i=t.context;if(null!==this.Lt&&null!==this.Lt.nt){i.textBaseline="middle",i.font=this.Gr;for(var r=this.Lt.nt.from;r<this.Lt.nt.to;r++){var o=this.Lt.st[r];void 0!==o.Jt&&(o.Jt.$i=this.lr.Si(i,o.Jt.Qr),o.Jt.zt=this.j,o.Jt.et=o.et-o.Jt.$i/2),Pe(o,i)}}}}]),n}(ot);function Pe(t,e){e.fillStyle=t.O,void 0!==t.Jt&&function(t,e,n,i){t.fillText(e,n,i)}(e,t.Jt.Qr,t.Jt.et,t.Jt.rt),function(t,e){if(0!==t.Ks){switch(t.th){case"arrowDown":return void Ne(!1,e,t.et,t.rt,t.Ks);case"arrowUp":return void Ne(!0,e,t.et,t.rt,t.Ks);case"circle":return void function(t,e,n,i){var r=(Me("circle",i)-1)/2;t.beginPath(),t.arc(e,n,r,0,2*Math.PI,!1),t.fill()}(e,t.et,t.rt,t.Ks);case"square":return void function(t,e,n,i){var r=Me("square",i),o=(r-1)/2,a=e-o,s=n-o;t.fillRect(a,s,r,r)}(e,t.et,t.rt,t.Ks)}t.th}}(t,e)}function Fe(t,e,n){return!(void 0===t.Jt||!function(t,e,n,i,r,o){var a=i/2;return r>=t&&r<=t+n&&o>=e-a&&o<=e+a}(t.Jt.et,t.Jt.rt,t.Jt.$i,t.Jt.zt,e,n))||function(t,e,n){if(0===t.Ks)return!1;switch(t.th){case"arrowDown":case"arrowUp":return function(t,e,n,i,r,o){return Re(e,n,i,r,o)}(0,t.et,t.rt,t.Ks,e,n);case"circle":return function(t,e,n,i,r){var o=2+Me("circle",n)/2,a=t-i,s=e-r;return Math.sqrt(a*a+s*s)<=o}(t.et,t.rt,t.Ks,e,n);case"square":return Re(t.et,t.rt,t.Ks,e,n)}}(t,e,n)}function Be(t,e,n,i,r,o,a,s,u){var l=G(n)?n:n.xe,c=G(n)?n:n.ge,h=G(n)?n:n.Me,f=G(e.size)?Math.max(e.size,0):1,d=Ie(s.he())*f,v=d/2;switch(t.Ks=d,e.position){case"inBar":return t.rt=a.Ot(l,u),void(void 0!==t.Jt&&(t.Jt.rt=t.rt+v+o+.6*r));case"aboveBar":return t.rt=a.Ot(c,u)-v-i.ih,void 0!==t.Jt&&(t.Jt.rt=t.rt-v-.6*r,i.ih+=1.2*r),void(i.ih+=d+o);case"belowBar":return t.rt=a.Ot(h,u)+v+i.nh,void 0!==t.Jt&&(t.Jt.rt=t.rt+v+o+.6*r,i.nh+=1.2*r),void(i.nh+=d+o)}e.position}var Ve=function(){function t(e,n){(0,h.Z)(this,t),this.bt=!0,this.sh=!0,this.eh=!0,this.rh=null,this.Ht=new De,this.Wr=e,this.Ui=n,this.Lt={st:[],nt:null}}return(0,f.Z)(t,[{key:"gt",value:function(t){this.bt=!0,this.eh=!0,"data"===t&&(this.sh=!0)}},{key:"xt",value:function(t){if(!this.Wr.Tt())return null;this.bt&&this.hh();var e=this.Ui.W().layout;return this.Ht.ar(e.fontSize,e.fontFamily),this.Ht.it(this.Lt),this.Ht}},{key:"lh",value:function(){if(this.eh){if(this.Wr.ah().length>0){var t=this.Ui.yt().he(),e=Le(t),n=1.5*Ie(t)+2*e;this.rh={above:n,below:n}}else this.rh=null;this.eh=!1}return this.rh}},{key:"hh",value:function(){var t=this.Wr.At(),e=this.Ui.yt(),n=this.Wr.ah();this.sh&&(this.Lt.st=n.map((function(t){return{ut:t.time,et:0,rt:0,Ks:0,th:t.shape,O:t.color,Jr:t.Jr,wr:t.id,Jt:void 0}})),this.sh=!1);var i=this.Ui.W().layout;this.Lt.nt=null;var r=e.Xs();if(null!==r){var o=this.Wr.Pt();if(null!==o&&0!==this.Lt.st.length){var a=NaN,s=Le(e.he()),u={ih:s,nh:s};this.Lt.nt=te(this.Lt.st,r,!0);for(var l=this.Lt.nt.from;l<this.Lt.nt.to;l++){var c=n[l];c.time!==a&&(u.ih=s,u.nh=s,a=c.time);var h=this.Lt.st[l];h.et=e.Et(c.time),void 0!==c.text&&c.text.length>0&&(h.Jt={Qr:c.text,et:0,rt:0,$i:0,zt:0});var f=this.Wr.oh(c.time);null!==f&&Be(h,c,f,u,i.fontSize,s,t,e,o.Vt)}this.bt=!1}}}}]),t}(),Ue=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){return(0,h.Z)(this,n),e.call(this,t)}return(0,f.Z)(n,[{key:"kr",value:function(){var t=this.Mr;t.Tt=!1;var e=this.Es.W();if(e.priceLineVisible&&this.Es.Tt()){var n=this.Es.Yr(0===e.priceLineSource);n.Xr||(t.Tt=!0,t.rt=n.yi,t.O=this.Es._h(n.O),t.ht=e.priceLineWidth,t.Wt=e.priceLineStyle)}}}]),n}(xe),ze=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var i;return(0,h.Z)(this,n),(i=e.call(this)).$t=t,i}return(0,f.Z)(n,[{key:"Ei",value:function(t,e,n){t.Tt=!1,e.Tt=!1;var i=this.$t;if(i.Tt()){var r=i.W(),o=r.lastValueVisible,a=""!==i.uh(),s=0===r.seriesLastValueMode,u=i.Yr(!1);if(!u.Xr){o&&(t.Jt=this.dh(u,o,s),t.Tt=0!==t.Jt.length),(a||s)&&(e.Jt=this.fh(u,o,a,s),e.Tt=e.Jt.length>0);var l=i._h(u.O),c=W(l);n.t=c.t,n.yi=u.yi,e.Bt=i.qt().It(u.yi/i.At().zt()),t.Bt=l,t.O=c.i,e.O=c.i}}}},{key:"fh",value:function(t,e,n,i){var r="",o=this.$t.uh();return n&&0!==o.length&&(r+="".concat(o," ")),e&&i&&(r+=this.$t.At().ph()?t.mh:t.bh),r.trim()}},{key:"dh",value:function(t,e,n){return e?n?this.$t.At().ph()?t.bh:t.mh:t.Jt:""}}]),n}(kt);function je(t,e,n,i){var r=Number.isFinite(e),o=Number.isFinite(n);return r&&o?t(e,n):r||o?r?e:n:i}var qe,We=function(){function t(e,n){(0,h.Z)(this,t),this.wh=e,this.gh=n}return(0,f.Z)(t,[{key:"Mh",value:function(t){return null!==t&&this.wh===t.wh&&this.gh===t.gh}},{key:"xh",value:function(){return new t(this.wh,this.gh)}},{key:"Sh",value:function(){return this.wh}},{key:"kh",value:function(){return this.gh}},{key:"yh",value:function(){return this.gh-this.wh}},{key:"Fi",value:function(){return this.gh===this.wh||Number.isNaN(this.gh)||Number.isNaN(this.wh)}},{key:"ts",value:function(e){return null===e?this:new t(je(Math.min,this.Sh(),e.Sh(),-1/0),je(Math.max,this.kh(),e.kh(),1/0))}},{key:"Ch",value:function(t){if(G(t)&&0!==this.gh-this.wh){var e=.5*(this.gh+this.wh),n=this.gh-e,i=this.wh-e;n*=t,i*=t,this.gh=e+n,this.wh=e+i}}},{key:"Th",value:function(t){G(t)&&(this.gh+=t,this.wh+=t)}},{key:"Ph",value:function(){return{minValue:this.wh,maxValue:this.gh}}}],[{key:"Rh",value:function(e){return null===e?null:new t(e.minValue,e.maxValue)}}]),t}(),He=function(){function t(e,n){(0,h.Z)(this,t),this.Dh=e,this.Oh=n||null}return(0,f.Z)(t,[{key:"Ah",value:function(){return this.Dh}},{key:"Vh",value:function(){return this.Oh}},{key:"Ph",value:function(){return null===this.Dh?null:{priceRange:this.Dh.Ph(),margins:this.Oh||void 0}}}],[{key:"Rh",value:function(e){return null===e?null:new t(We.Rh(e.priceRange),e.margins)}}]),t}(),Ke=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){var r;return(0,h.Z)(this,n),(r=e.call(this,t)).Bh=i,r}return(0,f.Z)(n,[{key:"kr",value:function(){var t=this.Mr;t.Tt=!1;var e=this.Bh.W();if(this.Es.Tt()&&e.lineVisible){var n=this.Bh.Ih();null!==n&&(t.Tt=!0,t.rt=n,t.O=e.color,t.ht=e.lineWidth,t.Wt=e.lineStyle,t.wr=this.Bh.W().id)}}}]),n}(xe),Ge=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){var r;return(0,h.Z)(this,n),(r=e.call(this)).Wr=t,r.Bh=i,r}return(0,f.Z)(n,[{key:"Ei",value:function(t,e,n){t.Tt=!1,e.Tt=!1;var i=this.Bh.W(),r=i.axisLabelVisible,o=""!==i.title,a=this.Wr;if(r&&a.Tt()){var s=this.Bh.Ih();if(null!==s){o&&(e.Jt=i.title,e.Tt=!0),e.Bt=a.qt().It(s/a.At().zt()),t.Jt=this.zh(i.price),t.Tt=!0;var u=W(i.axisLabelColor||i.color);n.t=u.t;var l=i.axisLabelTextColor||u.i;t.O=l,e.O=l,n.yi=s}}}},{key:"zh",value:function(t){var e=this.Wr.Pt();return null===e?"":this.Wr.At().Wi(t,e.Vt)}}]),n}(kt),Qe=function(){function t(e,n){(0,h.Z)(this,t),this.Wr=e,this.cn=n,this.Eh=new Ke(e,this),this._r=new Ge(e,this),this.Lh=new ke(this._r,e,e.qt())}return(0,f.Z)(t,[{key:"Nh",value:function(t){K(this.cn,t),this.gt(),this.Wr.qt().Fh()}},{key:"W",value:function(){return this.cn}},{key:"Wh",value:function(){return this.Eh}},{key:"jh",value:function(){return this.Lh}},{key:"Hh",value:function(){return this._r}},{key:"gt",value:function(){this.Eh.gt(),this._r.gt()}},{key:"Ih",value:function(){var t=this.Wr,e=t.At();if(t.qt().yt().Fi()||e.Fi())return null;var n=t.Pt();return null===n?null:e.Ot(this.cn.price,n.Vt)}}]),t}(),$e=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var i;return(0,h.Z)(this,n),(i=e.call(this)).Ui=t,i}return(0,f.Z)(n,[{key:"qt",value:function(){return this.Ui}}]),n}(Ct),Je={Bar:function(t,e,n,i){var r,o=e.upColor,a=e.downColor,s=N(t(n,i)),u=D(s.Vt[0])<=D(s.Vt[3]);return{ue:null!==(r=s.O)&&void 0!==r?r:u?o:a}},Candlestick:function(t,e,n,i){var r,o,a,s=e.upColor,u=e.downColor,l=e.borderUpColor,c=e.borderDownColor,h=e.wickUpColor,f=e.wickDownColor,d=N(t(n,i)),v=D(d.Vt[0])<=D(d.Vt[3]);return{ue:null!==(r=d.O)&&void 0!==r?r:v?s:u,Le:null!==(o=d.Bt)&&void 0!==o?o:v?l:c,Ee:null!==(a=d.$h)&&void 0!==a?a:v?h:f}},Custom:function(t,e,n,i){var r;return{ue:null!==(r=N(t(n,i)).O)&&void 0!==r?r:e.color}},Area:function(t,e,n,i){var r,o,a,s,u=N(t(n,i));return{ue:null!==(r=u._t)&&void 0!==r?r:e.lineColor,_t:null!==(o=u._t)&&void 0!==o?o:e.lineColor,Ts:null!==(a=u.Ts)&&void 0!==a?a:e.topColor,Ps:null!==(s=u.Ps)&&void 0!==s?s:e.bottomColor}},Baseline:function(t,e,n,i){var r,o,a,s,u,l,c=N(t(n,i));return{ue:c.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Pe:null!==(r=c.Pe)&&void 0!==r?r:e.topLineColor,Re:null!==(o=c.Re)&&void 0!==o?o:e.bottomLineColor,Se:null!==(a=c.Se)&&void 0!==a?a:e.topFillColor1,ke:null!==(s=c.ke)&&void 0!==s?s:e.topFillColor2,ye:null!==(u=c.ye)&&void 0!==u?u:e.bottomFillColor1,Ce:null!==(l=c.Ce)&&void 0!==l?l:e.bottomFillColor2}},Line:function(t,e,n,i){var r,o,a=N(t(n,i));return{ue:null!==(r=a.O)&&void 0!==r?r:e.color,_t:null!==(o=a.O)&&void 0!==o?o:e.color}},Histogram:function(t,e,n,i){var r;return{ue:null!==(r=N(t(n,i)).O)&&void 0!==r?r:e.color}}},Xe=function(){function t(e){var n=this;(0,h.Z)(this,t),this.Uh=function(t,e){return void 0!==e?e.Vt:n.Wr.In().qh(t)},this.Wr=e,this.Yh=Je[e.Xh()]}return(0,f.Z)(t,[{key:"Hs",value:function(t,e){return this.Yh(this.Uh,this.Wr.W(),t,e)}}]),t}();!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"}(qe||(qe={}));var Ye=30,tn=function(){function t(){(0,h.Z)(this,t),this.Kh=[],this.Zh=new Map,this.Gh=new Map}return(0,f.Z)(t,[{key:"Jh",value:function(){return this.Ks()>0?this.Kh[this.Kh.length-1]:null}},{key:"Qh",value:function(){return this.Ks()>0?this.tl(0):null}},{key:"Bn",value:function(){return this.Ks()>0?this.tl(this.Kh.length-1):null}},{key:"Ks",value:function(){return this.Kh.length}},{key:"Fi",value:function(){return 0===this.Ks()}},{key:"Kr",value:function(t){return null!==this.il(t,0)}},{key:"qh",value:function(t){return this.nl(t)}},{key:"nl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.il(t,e);return null===n?null:Object.assign(Object.assign({},this.sl(n)),{se:this.tl(n)})}},{key:"ie",value:function(){return this.Kh}},{key:"el",value:function(t,e,n){if(this.Fi())return null;var i,r=null,o=(0,a.Z)(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;r=en(r,this.rl(t,e,s))}}catch(u){o.e(u)}finally{o.f()}return r}},{key:"it",value:function(t){this.Gh.clear(),this.Zh.clear(),this.Kh=t}},{key:"tl",value:function(t){return this.Kh[t].se}},{key:"sl",value:function(t){return this.Kh[t]}},{key:"il",value:function(t,e){var n=this.hl(t);if(null===n&&0!==e)switch(e){case-1:return this.ll(t);case 1:return this.al(t);default:throw new TypeError("Unknown search mode")}return n}},{key:"ll",value:function(t){var e=this.ol(t);return e>0&&(e-=1),e!==this.Kh.length&&this.tl(e)<t?e:null}},{key:"al",value:function(t){var e=this._l(t);return e!==this.Kh.length&&t<this.tl(e)?e:null}},{key:"hl",value:function(t){var e=this.ol(t);return e===this.Kh.length||t<this.Kh[e].se?null:e}},{key:"ol",value:function(t){return $t(this.Kh,t,(function(t,e){return t.se<e}))}},{key:"_l",value:function(t){return Jt(this.Kh,t,(function(t,e){return t.se>e}))}},{key:"ul",value:function(t,e,n){for(var i=null,r=t;r<e;r++){var o=this.Kh[r].Vt[n];Number.isNaN(o)||(null===i?i={cl:o,dl:o}:(o<i.cl&&(i.cl=o),o>i.dl&&(i.dl=o)))}return i}},{key:"rl",value:function(t,e,n){if(this.Fi())return null;var i=null,r=N(this.Qh()),o=N(this.Bn()),a=Math.max(t,r),s=Math.min(e,o),u=Math.ceil(a/Ye)*Ye,l=Math.max(u,Math.floor(s/Ye)*Ye),c=this.ol(a),h=this._l(Math.min(s,u,e));i=en(i,this.ul(c,h,n));var f=this.Zh.get(n);void 0===f&&(f=new Map,this.Zh.set(n,f));for(var d=Math.max(u+1,a);d<l;d+=Ye){var v=Math.floor(d/Ye),p=f.get(v);if(void 0===p){var y=this.ol(v*Ye),m=this._l((v+1)*Ye-1);p=this.ul(y,m,n),f.set(v,p)}i=en(i,p)}var g=this.ol(l),w=this._l(s);return i=en(i,this.ul(g,w,n))}}]),t}();function en(t,e){return null===t?e:null===e?t:{cl:Math.min(t.cl,e.cl),dl:Math.max(t.dl,e.dl)}}var nn=function(){function t(e){(0,h.Z)(this,t),this.fl=e}return(0,f.Z)(t,[{key:"K",value:function(t,e,n){this.fl.draw(t)}},{key:"G",value:function(t,e,n){var i,r;null===(r=(i=this.fl).drawBackground)||void 0===r||r.call(i,t)}}]),t}(),rn=function(){function t(e){(0,h.Z)(this,t),this.Qe=null,this.wn=e}return(0,f.Z)(t,[{key:"xt",value:function(){var t,e=this.wn.renderer();if(null===e)return null;if((null===(t=this.Qe)||void 0===t?void 0:t.vl)===e)return this.Qe.pl;var n=new nn(e);return this.Qe={vl:e,pl:n},n}},{key:"ml",value:function(){var t,e,n;return null!==(n=null===(e=(t=this.wn).zOrder)||void 0===e?void 0:e.call(t))&&void 0!==n?n:"normal"}}]),t}();function on(t){var e,n,i,r,o;return{Jt:t.text(),yi:t.coordinate(),ki:null===(e=t.fixedCoordinate)||void 0===e?void 0:e.call(t),O:t.textColor(),t:t.backColor(),Tt:null===(i=null===(n=t.visible)||void 0===n?void 0:n.call(t))||void 0===i||i,ai:null===(o=null===(r=t.tickVisible)||void 0===r?void 0:r.call(t))||void 0===o||o}}var an=function(){function t(e,n){(0,h.Z)(this,t),this.Ht=new St,this.bl=e,this.wl=n}return(0,f.Z)(t,[{key:"xt",value:function(){return this.Ht.it(Object.assign({$i:this.wl.$i()},on(this.bl))),this.Ht}}]),t}(),sn=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){var r;return(0,h.Z)(this,n),(r=e.call(this)).bl=t,r.Li=i,r}return(0,f.Z)(n,[{key:"Ei",value:function(t,e,n){var i=on(this.bl);n.t=i.t,t.O=i.O;var r=2/12*this.Li.P();n.gi=r,n.Mi=r,n.yi=i.yi,n.ki=i.ki,t.Jt=i.Jt,t.Tt=i.Tt,t.ai=i.ai}}]),n}(kt),un=function(){function t(e,n){(0,h.Z)(this,t),this.gl=null,this.Ml=null,this.xl=null,this.Sl=null,this.kl=null,this.yl=e,this.Wr=n}return(0,f.Z)(t,[{key:"Cl",value:function(){return this.yl}},{key:"On",value:function(){var t,e;null===(e=(t=this.yl).updateAllViews)||void 0===e||e.call(t)}},{key:"Pn",value:function(){var t,e,n,i,r=null!==(n=null===(e=(t=this.yl).paneViews)||void 0===e?void 0:e.call(t))&&void 0!==n?n:[];if((null===(i=this.gl)||void 0===i?void 0:i.vl)===r)return this.gl.pl;var o=r.map((function(t){return new rn(t)}));return this.gl={vl:r,pl:o},o}},{key:"tn",value:function(){var t,e,n,i,r=null!==(n=null===(e=(t=this.yl).timeAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==n?n:[];if((null===(i=this.Ml)||void 0===i?void 0:i.vl)===r)return this.Ml.pl;var o=this.Wr.qt().yt(),a=r.map((function(t){return new an(t,o)}));return this.Ml={vl:r,pl:a},a}},{key:"Rn",value:function(){var t,e,n,i,r=null!==(n=null===(e=(t=this.yl).priceAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==n?n:[];if((null===(i=this.xl)||void 0===i?void 0:i.vl)===r)return this.xl.pl;var o=this.Wr.At(),a=r.map((function(t){return new sn(t,o)}));return this.xl={vl:r,pl:a},a}},{key:"Tl",value:function(){var t,e,n,i,r=null!==(n=null===(e=(t=this.yl).priceAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==n?n:[];if((null===(i=this.Sl)||void 0===i?void 0:i.vl)===r)return this.Sl.pl;var o=r.map((function(t){return new rn(t)}));return this.Sl={vl:r,pl:o},o}},{key:"Pl",value:function(){var t,e,n,i,r=null!==(n=null===(e=(t=this.yl).timeAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==n?n:[];if((null===(i=this.kl)||void 0===i?void 0:i.vl)===r)return this.kl.pl;var o=r.map((function(t){return new rn(t)}));return this.kl={vl:r,pl:o},o}},{key:"Rl",value:function(t,e){var n,i,r;return null!==(r=null===(i=(n=this.yl).autoscaleInfo)||void 0===i?void 0:i.call(n,t,e))&&void 0!==r?r:null}},{key:"br",value:function(t,e){var n,i,r;return null!==(r=null===(i=(n=this.yl).hitTest)||void 0===i?void 0:i.call(n,t,e))&&void 0!==r?r:null}}]),t}();function ln(t,e,n,i){t.forEach((function(t){e(t).forEach((function(t){t.ml()===n&&i.push(t)}))}))}function cn(t){return t.Pn()}function hn(t){return t.Tl()}function fn(t){return t.Pl()}var dn=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i,r,o,a){var u;(0,h.Z)(this,n),(u=e.call(this,t)).Lt=new tn,u.Eh=new Ue((0,s.Z)(u)),u.Dl=[],u.Ol=new Se((0,s.Z)(u)),u.Al=null,u.Vl=null,u.Bl=[],u.Il=[],u.zl=null,u.El=[],u.cn=i,u.Ll=r;var l=new ze((0,s.Z)(u));return u.hn=[l],u.Lh=new ke(l,(0,s.Z)(u),t),"Area"!==r&&"Line"!==r&&"Baseline"!==r||(u.Al=new Oe((0,s.Z)(u))),u.Nl(),u.Fl(a),u}return(0,f.Z)(n,[{key:"S",value:function(){null!==this.zl&&clearTimeout(this.zl)}},{key:"_h",value:function(t){return this.cn.priceLineColor||t}},{key:"Yr",value:function(t){var e={Xr:!0},n=this.At();if(this.qt().yt().Fi()||n.Fi()||this.Lt.Fi())return e;var i,r,o=this.qt().yt().Xs(),a=this.Pt();if(null===o||null===a)return e;if(t){var s=this.Lt.Jh();if(null===s)return e;i=s,r=s.se}else{var u=this.Lt.nl(o.di(),-1);if(null===u)return e;if(null===(i=this.Lt.qh(u.se)))return e;r=u.se}var l=i.Vt[3],c=this.$s().Hs(r,{Vt:i}),h=n.Ot(l,a.Vt);return{Xr:!1,ct:l,Jt:n.Wi(l,a.Vt),mh:n.Wl(l),bh:n.jl(l,a.Vt),O:c.ue,yi:h,se:r}}},{key:"$s",value:function(){return null!==this.Vl||(this.Vl=new Xe(this)),this.Vl}},{key:"W",value:function(){return this.cn}},{key:"Nh",value:function(t){var e=t.priceScaleId;void 0!==e&&e!==this.cn.priceScaleId&&this.qt().Hl(this,e),K(this.cn,t),void 0!==t.priceFormat&&(this.Nl(),this.qt().$l()),this.qt().Ul(this),this.qt().ql(),this.wn.gt("options")}},{key:"it",value:function(t,e){this.Lt.it(t),this.Yl(),this.wn.gt("data"),this.dn.gt("data"),null!==this.Al&&(e&&e.Xl?this.Al.Hr():0===t.length&&this.Al.jr());var n=this.qt().cr(this);this.qt().Kl(n),this.qt().Ul(this),this.qt().ql(),this.qt().Fh()}},{key:"Zl",value:function(t){this.Bl=t,this.Yl();var e=this.qt().cr(this);this.dn.gt("data"),this.qt().Kl(e),this.qt().Ul(this),this.qt().ql(),this.qt().Fh()}},{key:"Gl",value:function(){return this.Bl}},{key:"ah",value:function(){return this.Il}},{key:"Jl",value:function(t){var e=new Qe(this,t);return this.Dl.push(e),this.qt().Ul(this),e}},{key:"Ql",value:function(t){var e=this.Dl.indexOf(t);-1!==e&&this.Dl.splice(e,1),this.qt().Ul(this)}},{key:"Xh",value:function(){return this.Ll}},{key:"Pt",value:function(){var t=this.ta();return null===t?null:{Vt:t.Vt[3],ia:t.ut}}},{key:"ta",value:function(){var t=this.qt().yt().Xs();if(null===t)return null;var e=t.Os();return this.Lt.nl(e,1)}},{key:"In",value:function(){return this.Lt}},{key:"oh",value:function(t){var e=this.Lt.qh(t);return null===e?null:"Bar"===this.Ll||"Candlestick"===this.Ll||"Custom"===this.Ll?{we:e.Vt[0],ge:e.Vt[1],Me:e.Vt[2],xe:e.Vt[3]}:e.Vt[3]}},{key:"na",value:function(t){var e=this,n=[];ln(this.El,cn,"top",n);var i=this.Al;return null!==i&&i.Tt()?(null===this.zl&&i.Ur()&&(this.zl=setTimeout((function(){e.zl=null,e.qt().sa()}),0)),i.$r(),n.push(i),n):n}},{key:"Pn",value:function(){var t=[];this.ea()||t.push(this.Ol),t.push(this.wn,this.Eh,this.dn);var e=this.Dl.map((function(t){return t.Wh()}));return t.push.apply(t,(0,c.Z)(e)),ln(this.El,cn,"normal",t),t}},{key:"ra",value:function(){return this.ha(cn,"bottom")}},{key:"la",value:function(t){return this.ha(hn,t)}},{key:"aa",value:function(t){return this.ha(fn,t)}},{key:"oa",value:function(t,e){return this.El.map((function(n){return n.br(t,e)})).filter((function(t){return null!==t}))}},{key:"Qi",value:function(t){return[this.Lh].concat((0,c.Z)(this.Dl.map((function(t){return t.jh()}))))}},{key:"Rn",value:function(t,e){if(e!==this.Xi&&!this.ea())return[];var n,i=(0,c.Z)(this.hn),r=(0,a.Z)(this.Dl);try{for(r.s();!(n=r.n()).done;){var o=n.value;i.push(o.Hh())}}catch(s){r.e(s)}finally{r.f()}return this.El.forEach((function(t){i.push.apply(i,(0,c.Z)(t.Rn()))})),i}},{key:"tn",value:function(){var t=[];return this.El.forEach((function(e){t.push.apply(t,(0,c.Z)(e.tn()))})),t}},{key:"Rl",value:function(t,e){var n=this;if(void 0!==this.cn.autoscaleInfoProvider){var i=this.cn.autoscaleInfoProvider((function(){var i=n._a(t,e);return null===i?null:i.Ph()}));return He.Rh(i)}return this._a(t,e)}},{key:"ua",value:function(){return this.cn.priceFormat.minMove}},{key:"ca",value:function(){return this.da}},{key:"On",value:function(){var t;this.wn.gt(),this.dn.gt();var e,n=(0,a.Z)(this.hn);try{for(n.s();!(e=n.n()).done;){e.value.gt()}}catch(o){n.e(o)}finally{n.f()}var i,r=(0,a.Z)(this.Dl);try{for(r.s();!(i=r.n()).done;){i.value.gt()}}catch(o){r.e(o)}finally{r.f()}this.Eh.gt(),this.Ol.gt(),null===(t=this.Al)||void 0===t||t.gt(),this.El.forEach((function(t){return t.On()}))}},{key:"At",value:function(){return N((0,r.Z)((0,o.Z)(n.prototype),"At",this).call(this))}},{key:"Ct",value:function(t){if("Line"!==this.Ll&&"Area"!==this.Ll&&"Baseline"!==this.Ll||!this.cn.crosshairMarkerVisible)return null;var e=this.Lt.qh(t);return null===e?null:{ct:e.Vt[3],ot:this.fa(),Bt:this.va(),Dt:this.pa(),Rt:this.ma(t)}}},{key:"uh",value:function(){return this.cn.title}},{key:"Tt",value:function(){return this.cn.visible}},{key:"ba",value:function(t){this.El.push(new un(t,this))}},{key:"wa",value:function(t){this.El=this.El.filter((function(e){return e.Cl()!==t}))}},{key:"ga",value:function(){var t=this;if(this.wn instanceof de!=0)return function(e){return t.wn.Fe(e)}}},{key:"Ma",value:function(){var t=this;if(this.wn instanceof de!=0)return function(e){return t.wn.We(e)}}},{key:"ea",value:function(){return!At(this.At().xa())}},{key:"_a",value:function(t,e){if(!Q(t)||!Q(e)||this.Lt.Fi())return null;var n="Line"===this.Ll||"Area"===this.Ll||"Baseline"===this.Ll||"Histogram"===this.Ll?[3]:[2,1],i=this.Lt.el(t,e,n),r=null!==i?new We(i.cl,i.dl):null;if("Histogram"===this.Xh()){var o=this.cn.base,a=new We(o,o);r=null!==r?r.ts(a):a}var s=this.dn.lh();return this.El.forEach((function(n){var i,o,a,u,l=n.Rl(t,e);if(null==l?void 0:l.priceRange){var c=new We(l.priceRange.minValue,l.priceRange.maxValue);r=null!==r?r.ts(c):c}(null==l?void 0:l.margins)&&(i=s,o=l.margins,s={above:Math.max(null!==(a=null==i?void 0:i.above)&&void 0!==a?a:0,o.above),below:Math.max(null!==(u=null==i?void 0:i.below)&&void 0!==u?u:0,o.below)})})),new He(r,s)}},{key:"fa",value:function(){switch(this.Ll){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}},{key:"va",value:function(){switch(this.Ll){case"Line":case"Area":case"Baseline":var t=this.cn.crosshairMarkerBorderColor;if(0!==t.length)return t}return null}},{key:"pa",value:function(){switch(this.Ll){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}},{key:"ma",value:function(t){switch(this.Ll){case"Line":case"Area":case"Baseline":var e=this.cn.crosshairMarkerBackgroundColor;if(0!==e.length)return e}return this.$s().Hs(t).ue}},{key:"Nl",value:function(){switch(this.cn.priceFormat.type){case"custom":this.da={format:this.cn.priceFormat.formatter};break;case"volume":this.da=new Lt(this.cn.priceFormat.precision);break;case"percent":this.da=new It(this.cn.priceFormat.precision);break;default:var t=Math.pow(10,this.cn.priceFormat.precision);this.da=new Mt(t,this.cn.priceFormat.minMove*t)}null!==this.Xi&&this.Xi.Sa()}},{key:"Yl",value:function(){var t=this,e=this.qt().yt();if(e.ka()&&!this.Lt.Fi()){var n=N(this.Lt.Qh());this.Il=this.Bl.map((function(i,r){var o=N(e.ya(i.time,!0)),a=o<n?1:-1;return{time:N(t.Lt.nl(o,a)).se,position:i.position,shape:i.shape,color:i.color,id:i.id,Jr:r,text:i.text,size:i.size,originalTime:i.originalTime}}))}else this.Il=[]}},{key:"Fl",value:function(t){switch(this.dn=new Ve(this,this.qt()),this.Ll){case"Bar":this.wn=new ae(this,this.qt());break;case"Candlestick":this.wn=new he(this,this.qt());break;case"Line":this.wn=new me(this,this.qt());break;case"Custom":this.wn=new de(this,this.qt(),R(t));break;case"Area":this.wn=new ie(this,this.qt());break;case"Baseline":this.wn=new le(this,this.qt());break;case"Histogram":this.wn=new ye(this,this.qt());break;default:throw Error("Unknown chart style assigned: "+this.Ll)}}},{key:"ha",value:function(t,e){var n=[];return ln(this.El,t,e,n),n}}]),n}($e),vn=function(){function t(e){(0,h.Z)(this,t),this.cn=e}return(0,f.Z)(t,[{key:"Ca",value:function(t,e,n){var i=t;if(0===this.cn.mode)return i;var r=n.vn(),o=r.Pt();if(null===o)return i;var a=r.Ot(t,o),s=n.Ta().filter((function(t){return t instanceof dn})).reduce((function(t,i){if(n.dr(i)||!i.Tt())return t;var r=i.At(),o=i.In();if(r.Fi()||!o.Kr(e))return t;var a=o.qh(e);if(null===a)return t;var s=D(i.Pt());return t.concat([r.Ot(a.Vt[3],s.Vt)])}),[]);if(0===s.length)return i;s.sort((function(t,e){return Math.abs(t-a)-Math.abs(e-a)}));var u=s[0];return i=r.pn(u,o)}}]),t}(),pn=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,h.Z)(this,n),(t=e.apply(this,arguments)).Lt=null,t}return(0,f.Z)(n,[{key:"it",value:function(t){this.Lt=t}},{key:"Z",value:function(t){var e=this,n=t.context,i=t.bitmapSize,r=t.horizontalPixelRatio,o=t.verticalPixelRatio;if(null!==this.Lt){var s=Math.max(1,Math.floor(r));n.lineWidth=s,function(t,e){t.save(),t.lineWidth%2&&t.translate(.5,.5),e(),t.restore()}(n,(function(){var t=N(e.Lt);if(t.Pa){n.strokeStyle=t.Ra,M(n,t.Da),n.beginPath();var u,l=(0,a.Z)(t.Oa);try{for(l.s();!(u=l.n()).done;){var c=u.value,h=Math.round(c.Aa*r);n.moveTo(h,-s),n.lineTo(h,i.height+s)}}catch(y){l.e(y)}finally{l.f()}n.stroke()}if(t.Va){n.strokeStyle=t.Ba,M(n,t.Ia),n.beginPath();var f,d=(0,a.Z)(t.za);try{for(d.s();!(f=d.n()).done;){var v=f.value,p=Math.round(v.Aa*o);n.moveTo(-s,p),n.lineTo(i.width+s,p)}}catch(y){d.e(y)}finally{d.f()}n.stroke()}}))}}}]),n}(ct),yn=function(){function t(e){(0,h.Z)(this,t),this.Ht=new pn,this.bt=!0,this.nn=e}return(0,f.Z)(t,[{key:"gt",value:function(){this.bt=!0}},{key:"xt",value:function(){if(this.bt){var t=this.nn.qt().W().grid,e={Va:t.horzLines.visible,Pa:t.vertLines.visible,Ba:t.horzLines.color,Ra:t.vertLines.color,Ia:t.horzLines.style,Da:t.vertLines.style,za:this.nn.vn().Ea(),Oa:(this.nn.qt().yt().Ea()||[]).map((function(t){return{Aa:t.coord}}))};this.Ht.it(e),this.bt=!1}return this.Ht}}]),t}(),mn=function(){function t(e){(0,h.Z)(this,t),this.wn=new yn(e)}return(0,f.Z)(t,[{key:"Wh",value:function(){return this.wn}}]),t}(),gn={La:4,Na:1e-4};function wn(t,e){var n=100*(t-e)/e;return e<0?-n:n}function bn(t,e){var n=wn(t.Sh(),e),i=wn(t.kh(),e);return new We(n,i)}function kn(t,e){var n=100*(t-e)/e+100;return e<0?-n:n}function _n(t,e){var n=kn(t.Sh(),e),i=kn(t.kh(),e);return new We(n,i)}function xn(t,e){var n=Math.abs(t);if(n<1e-15)return 0;var i=Math.log10(n+e.Na)+e.La;return t<0?-i:i}function Sn(t,e){var n=Math.abs(t);if(n<1e-15)return 0;var i=Math.pow(10,n-e.La)-e.Na;return t<0?-i:i}function En(t,e){if(null===t)return null;var n=xn(t.Sh(),e),i=xn(t.kh(),e);return new We(n,i)}function Cn(t,e){if(null===t)return null;var n=Sn(t.Sh(),e),i=Sn(t.kh(),e);return new We(n,i)}function Tn(t){if(null===t)return gn;var e=Math.abs(t.kh()-t.Sh());if(e>=1||e<1e-15)return gn;var n=Math.ceil(Math.abs(Math.log10(e))),i=gn.La+n;return{La:i,Na:1/Math.pow(10,i)}}var An,On=function(){function t(e,n){if((0,h.Z)(this,t),this.Fa=e,this.Wa=n,function(t){if(t<0)return!1;for(var e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.Fa))this.ja=[2,2.5,2];else{this.ja=[];for(var i=this.Fa;1!==i;){if(i%2==0)this.ja.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.ja.push(2,2.5),i/=5}if(this.ja.length>100)throw new Error("something wrong with base")}}}return(0,f.Z)(t,[{key:"Ha",value:function(t,e,n){for(var i,r=0===this.Fa?0:1/this.Fa,o=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),a=0,s=this.Wa[0];;){var u=zt(o,r,1e-14)&&o>r+1e-14,l=zt(o,n*s,1e-14),c=zt(o,1,1e-14);if(!(u&&l&&c))break;o/=s,s=this.Wa[++a%this.Wa.length]}if(o<=r+1e-14&&(o=r),o=Math.max(1,o),this.ja.length>0&&(i=o,1,1e-14,Math.abs(i-1)<1e-14))for(a=0,s=this.ja[0];zt(o,n*s,1e-14)&&o>r+1e-14;)o/=s,s=this.ja[++a%this.ja.length];return o}}]),t}(),Zn=function(){function t(e,n,i,r){(0,h.Z)(this,t),this.$a=[],this.Li=e,this.Fa=n,this.Ua=i,this.qa=r}return(0,f.Z)(t,[{key:"Ha",value:function(t,e){if(t<e)throw new Error("high < low");var n=this.Li.zt(),i=(t-e)*this.Ya()/n,r=new On(this.Fa,[2,2.5,2]),o=new On(this.Fa,[2,2,2.5]),a=new On(this.Fa,[2.5,2,2]),s=[];return s.push(r.Ha(t,e,i),o.Ha(t,e,i),a.Ha(t,e,i)),function(t){if(t.length<1)throw Error("array is empty");for(var e=t[0],n=1;n<t.length;++n)t[n]<e&&(e=t[n]);return e}(s)}},{key:"Xa",value:function(){var t=this.Li,e=t.Pt();if(null!==e){var n=t.zt(),i=this.Ua(n-1,e),r=this.Ua(0,e),o=this.Li.W().entireTextOnly?this.Ka()/2:0,a=o,s=n-1-o,u=Math.max(i,r),l=Math.min(i,r);if(u!==l){for(var c=this.Ha(u,l),h=u%c,f=u>=l?1:-1,d=null,v=0,p=u-(h+=h<0?c:0);p>l;p-=c){var y=this.qa(p,e,!0);null!==d&&Math.abs(y-d)<this.Ya()||y<a||y>s||(v<this.$a.length?(this.$a[v].Aa=y,this.$a[v].Za=t.Ga(p)):this.$a.push({Aa:y,Za:t.Ga(p)}),v++,d=y,t.Ja()&&(c=this.Ha(p*f,l)))}this.$a.length=v}else this.$a=[]}else this.$a=[]}},{key:"Ea",value:function(){return this.$a}},{key:"Ka",value:function(){return this.Li.P()}},{key:"Ya",value:function(){return Math.ceil(2.5*this.Ka())}}]),t}();function Mn(t){return t.slice().sort((function(t,e){return N(t.Zi())-N(e.Zi())}))}!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(An||(An={}));var In=new It,Ln=new Mt(100,1),Rn=function(){function t(e,n,i,r){(0,h.Z)(this,t),this.Qa=0,this.io=null,this.Dh=null,this.no=null,this.so={eo:!1,ro:null},this.ho=0,this.lo=0,this.ao=new H,this.oo=new H,this._o=[],this.uo=null,this.co=null,this.do=null,this.fo=null,this.da=Ln,this.vo=Tn(null),this.po=e,this.cn=n,this.mo=i,this.bo=r,this.wo=new Zn(this,100,this.Mo.bind(this),this.xo.bind(this))}return(0,f.Z)(t,[{key:"xa",value:function(){return this.po}},{key:"W",value:function(){return this.cn}},{key:"Nh",value:function(t){if(K(this.cn,t),this.Sa(),void 0!==t.mode&&this.So({yr:t.mode}),void 0!==t.scaleMargins){var e=R(t.scaleMargins.top),n=R(t.scaleMargins.bottom);if(e<0||e>1)throw new Error("Invalid top margin - expect value between 0 and 1, given=".concat(e));if(n<0||n>1||e+n>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given=".concat(n));if(e+n>1)throw new Error("Invalid margins - sum of margins must be less than 1, given=".concat(e+n));this.ko(),this.co=null}}},{key:"yo",value:function(){return this.cn.autoScale}},{key:"Ja",value:function(){return 1===this.cn.mode}},{key:"ph",value:function(){return 2===this.cn.mode}},{key:"Co",value:function(){return 3===this.cn.mode}},{key:"yr",value:function(){return{Wn:this.cn.autoScale,To:this.cn.invertScale,yr:this.cn.mode}}},{key:"So",value:function(t){var e=this.yr(),n=null;void 0!==t.Wn&&(this.cn.autoScale=t.Wn),void 0!==t.yr&&(this.cn.mode=t.yr,2!==t.yr&&3!==t.yr||(this.cn.autoScale=!0),this.so.eo=!1),1===e.yr&&t.yr!==e.yr&&(function(t,e){if(null===t)return!1;var n=Sn(t.Sh(),e),i=Sn(t.kh(),e);return isFinite(n)&&isFinite(i)}(this.Dh,this.vo)?null!==(n=Cn(this.Dh,this.vo))&&this.Po(n):this.cn.autoScale=!0),1===t.yr&&t.yr!==e.yr&&(null!==(n=En(this.Dh,this.vo))&&this.Po(n));var i=e.yr!==this.cn.mode;i&&(2===e.yr||this.ph())&&this.Sa(),i&&(3===e.yr||this.Co())&&this.Sa(),void 0!==t.To&&e.To!==t.To&&(this.cn.invertScale=t.To,this.Ro()),this.oo.m(e,this.yr())}},{key:"Do",value:function(){return this.oo}},{key:"P",value:function(){return this.mo.fontSize}},{key:"zt",value:function(){return this.Qa}},{key:"Oo",value:function(t){this.Qa!==t&&(this.Qa=t,this.ko(),this.co=null)}},{key:"Ao",value:function(){if(this.io)return this.io;var t=this.zt()-this.Vo()-this.Bo();return this.io=t,t}},{key:"Ah",value:function(){return this.Io(),this.Dh}},{key:"Po",value:function(t,e){var n=this.Dh;(e||null===n&&null!==t||null!==n&&!n.Mh(t))&&(this.co=null,this.Dh=t)}},{key:"Fi",value:function(){return this.Io(),0===this.Qa||!this.Dh||this.Dh.Fi()}},{key:"zo",value:function(t){return this.To()?t:this.zt()-1-t}},{key:"Ot",value:function(t,e){return this.ph()?t=wn(t,e):this.Co()&&(t=kn(t,e)),this.xo(t,e)}},{key:"Qs",value:function(t,e,n){this.Io();for(var i=this.Bo(),r=N(this.Ah()),o=r.Sh(),a=r.kh(),s=this.Ao()-1,u=this.To(),l=s/(a-o),c=void 0===n?0:n.from,h=void 0===n?t.length:n.to,f=this.Eo(),d=c;d<h;d++){var v=t[d],p=v.ct;if(!isNaN(p)){var y=p;null!==f&&(y=f(v.ct,e));var m=i+l*(y-o),g=u?m:this.Qa-1-m;v.rt=g}}}},{key:"me",value:function(t,e,n){this.Io();for(var i=this.Bo(),r=N(this.Ah()),o=r.Sh(),a=r.kh(),s=this.Ao()-1,u=this.To(),l=s/(a-o),c=void 0===n?0:n.from,h=void 0===n?t.length:n.to,f=this.Eo(),d=c;d<h;d++){var v=t[d],p=v.we,y=v.ge,m=v.Me,g=v.xe;null!==f&&(p=f(v.we,e),y=f(v.ge,e),m=f(v.Me,e),g=f(v.xe,e));var w=i+l*(p-o),b=u?w:this.Qa-1-w;v.ve=b,w=i+l*(y-o),b=u?w:this.Qa-1-w,v.ce=b,w=i+l*(m-o),b=u?w:this.Qa-1-w,v.de=b,w=i+l*(g-o),b=u?w:this.Qa-1-w,v.pe=b}}},{key:"pn",value:function(t,e){var n=this.Mo(t,e);return this.Lo(n,e)}},{key:"Lo",value:function(t,e){var n=t;return this.ph()?n=function(t,e){return e<0&&(t=-t),t/100*e+e}(n,e):this.Co()&&(n=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(n,e)),n}},{key:"Ta",value:function(){return this._o}},{key:"No",value:function(){if(this.uo)return this.uo;for(var t=[],e=0;e<this._o.length;e++){var n=this._o[e];null===n.Zi()&&n.Gi(e+1),t.push(n)}return t=Mn(t),this.uo=t,this.uo}},{key:"Fo",value:function(t){-1===this._o.indexOf(t)&&(this._o.push(t),this.Sa(),this.Wo())}},{key:"jo",value:function(t){var e=this._o.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this._o.splice(e,1),0===this._o.length&&(this.So({Wn:!0}),this.Po(null)),this.Sa(),this.Wo()}},{key:"Pt",value:function(){var t,e=null,n=(0,a.Z)(this._o);try{for(n.s();!(t=n.n()).done;){var i=t.value.Pt();null!==i&&(null===e||i.ia<e.ia)&&(e=i)}}catch(r){n.e(r)}finally{n.f()}return null===e?null:e.Vt}},{key:"To",value:function(){return this.cn.invertScale}},{key:"Ea",value:function(){var t=null===this.Pt();if(null!==this.co&&(t||this.co.Ho===t))return this.co.Ea;this.wo.Xa();var e=this.wo.Ea();return this.co={Ea:e,Ho:t},this.ao.m(),e}},{key:"$o",value:function(){return this.ao}},{key:"Uo",value:function(t){this.ph()||this.Co()||null===this.do&&null===this.no&&(this.Fi()||(this.do=this.Qa-t,this.no=N(this.Ah()).xh()))}},{key:"qo",value:function(t){if(!this.ph()&&!this.Co()&&null!==this.do){this.So({Wn:!1}),(t=this.Qa-t)<0&&(t=0);var e=(this.do+.2*(this.Qa-1))/(t+.2*(this.Qa-1)),n=N(this.no).xh();e=Math.max(e,.1),n.Ch(e),this.Po(n)}}},{key:"Yo",value:function(){this.ph()||this.Co()||(this.do=null,this.no=null)}},{key:"Xo",value:function(t){this.yo()||null===this.fo&&null===this.no&&(this.Fi()||(this.fo=t,this.no=N(this.Ah()).xh()))}},{key:"Ko",value:function(t){if(!this.yo()&&null!==this.fo){var e=N(this.Ah()).yh()/(this.Ao()-1),n=t-this.fo;this.To()&&(n*=-1);var i=n*e,r=N(this.no).xh();r.Th(i),this.Po(r,!0),this.co=null}}},{key:"Zo",value:function(){this.yo()||null!==this.fo&&(this.fo=null,this.no=null)}},{key:"ca",value:function(){return this.da||this.Sa(),this.da}},{key:"Wi",value:function(t,e){switch(this.cn.mode){case 2:return this.Go(wn(t,e));case 3:return this.ca().format(kn(t,e));default:return this.zh(t)}}},{key:"Ga",value:function(t){switch(this.cn.mode){case 2:return this.Go(t);case 3:return this.ca().format(t);default:return this.zh(t)}}},{key:"Wl",value:function(t){return this.zh(t,N(this.Jo()).ca())}},{key:"jl",value:function(t,e){return t=wn(t,e),this.Go(t,In)}},{key:"Qo",value:function(){return this._o}},{key:"t_",value:function(t){this.so={ro:t,eo:!1}}},{key:"On",value:function(){this._o.forEach((function(t){return t.On()}))}},{key:"Sa",value:function(){this.co=null;var t=this.Jo(),e=100;null!==t&&(e=Math.round(1/t.ua())),this.da=Ln,this.ph()?(this.da=In,e=100):this.Co()?(this.da=new Mt(100,1),e=100):null!==t&&(this.da=t.ca()),this.wo=new Zn(this,e,this.Mo.bind(this),this.xo.bind(this)),this.wo.Xa()}},{key:"Wo",value:function(){this.uo=null}},{key:"Jo",value:function(){return this._o[0]||null}},{key:"Vo",value:function(){return this.To()?this.cn.scaleMargins.bottom*this.zt()+this.lo:this.cn.scaleMargins.top*this.zt()+this.ho}},{key:"Bo",value:function(){return this.To()?this.cn.scaleMargins.top*this.zt()+this.ho:this.cn.scaleMargins.bottom*this.zt()+this.lo}},{key:"Io",value:function(){this.so.eo||(this.so.eo=!0,this.i_())}},{key:"ko",value:function(){this.io=null}},{key:"xo",value:function(t,e){if(this.Io(),this.Fi())return 0;t=this.Ja()&&t?xn(t,this.vo):t;var n=N(this.Ah()),i=this.Bo()+(this.Ao()-1)*(t-n.Sh())/n.yh();return this.zo(i)}},{key:"Mo",value:function(t,e){if(this.Io(),this.Fi())return 0;var n=this.zo(t),i=N(this.Ah()),r=i.Sh()+i.yh()*((n-this.Bo())/(this.Ao()-1));return this.Ja()?Sn(r,this.vo):r}},{key:"Ro",value:function(){this.co=null,this.wo.Xa()}},{key:"i_",value:function(){var t=this.so.ro;if(null!==t){var e,n,i,r=null,o=this.Qo(),s=0,u=0,l=(0,a.Z)(o);try{for(l.s();!(e=l.n()).done;){var c=e.value;if(c.Tt()){var h=c.Pt();if(null!==h){var f=c.Rl(t.Os(),t.di()),d=f&&f.Ah();if(null!==d){switch(this.cn.mode){case 1:d=En(d,this.vo);break;case 2:d=bn(d,h.Vt);break;case 3:d=_n(d,h.Vt)}if(r=null===r?d:r.ts(N(d)),null!==f){var v=f.Vh();null!==v&&(s=Math.max(s,v.above),u=Math.max(s,v.below))}}}}}}catch(b){l.e(b)}finally{l.f()}if(s===this.ho&&u===this.lo||(this.ho=s,this.lo=u,this.co=null,this.ko()),null!==r){if(r.Sh()===r.kh()){var p=this.Jo(),y=5*(null===p||this.ph()||this.Co()?1:p.ua());this.Ja()&&(r=Cn(r,this.vo)),r=new We(r.Sh()-y,r.kh()+y),this.Ja()&&(r=En(r,this.vo))}if(this.Ja()){var m=Cn(r,this.vo),g=Tn(m);if(n=g,i=this.vo,n.La!==i.La||n.Na!==i.Na){var w=null!==this.no?Cn(this.no,this.vo):null;this.vo=g,r=En(m,g),null!==w&&(this.no=En(w,g))}}this.Po(r)}else null===this.Dh&&(this.Po(new We(-.5,.5)),this.vo=Tn(null));this.so.eo=!0}}},{key:"Eo",value:function(){var t=this;return this.ph()?wn:this.Co()?kn:this.Ja()?function(e){return xn(e,t.vo)}:null}},{key:"n_",value:function(t,e,n){return void 0===e?(void 0===n&&(n=this.ca()),n.format(t)):e(t)}},{key:"zh",value:function(t,e){return this.n_(t,this.bo.priceFormatter,e)}},{key:"Go",value:function(t,e){return this.n_(t,this.bo.percentageFormatter,e)}}]),t}(),Nn=function(){function t(e,n){(0,h.Z)(this,t),this._o=[],this.s_=new Map,this.Qa=0,this.e_=0,this.r_=1e3,this.uo=null,this.h_=new H,this.wl=e,this.Ui=n,this.l_=new mn(this);var i=n.W();this.a_=this.o_("left",i.leftPriceScale),this.__=this.o_("right",i.rightPriceScale),this.a_.Do().l(this.u_.bind(this,this.a_),this),this.__.Do().l(this.u_.bind(this,this.__),this),this.c_(i)}return(0,f.Z)(t,[{key:"c_",value:function(t){if(t.leftPriceScale&&this.a_.Nh(t.leftPriceScale),t.rightPriceScale&&this.__.Nh(t.rightPriceScale),t.localization&&(this.a_.Sa(),this.__.Sa()),t.overlayPriceScales)for(var e=0,n=Array.from(this.s_.values());e<n.length;e++){var i=N(n[e][0].At());i.Nh(t.overlayPriceScales),t.localization&&i.Sa()}}},{key:"d_",value:function(t){switch(t){case"left":return this.a_;case"right":return this.__}return this.s_.has(t)?R(this.s_.get(t))[0].At():null}},{key:"S",value:function(){this.qt().f_().p(this),this.a_.Do().p(this),this.__.Do().p(this),this._o.forEach((function(t){t.S&&t.S()})),this.h_.m()}},{key:"v_",value:function(){return this.r_}},{key:"p_",value:function(t){this.r_=t}},{key:"qt",value:function(){return this.Ui}},{key:"$i",value:function(){return this.e_}},{key:"zt",value:function(){return this.Qa}},{key:"m_",value:function(t){this.e_=t,this.b_()}},{key:"Oo",value:function(t){var e=this;this.Qa=t,this.a_.Oo(t),this.__.Oo(t),this._o.forEach((function(n){if(e.dr(n)){var i=n.At();null!==i&&i.Oo(t)}})),this.b_()}},{key:"Ta",value:function(){return this._o}},{key:"dr",value:function(t){var e=t.At();return null===e||this.a_!==e&&this.__!==e}},{key:"Fo",value:function(t,e,n){var i=void 0!==n?n:this.g_().w_+1;this.M_(t,e,i)}},{key:"jo",value:function(t){var e=this._o.indexOf(t);L(-1!==e,"removeDataSource: invalid data source"),this._o.splice(e,1);var n=N(t.At()).xa();if(this.s_.has(n)){var i=R(this.s_.get(n)),r=i.indexOf(t);-1!==r&&(i.splice(r,1),0===i.length&&this.s_.delete(n))}var o=t.At();o&&o.Ta().indexOf(t)>=0&&o.jo(t),null!==o&&(o.Wo(),this.x_(o)),this.uo=null}},{key:"pr",value:function(t){return t===this.a_?"left":t===this.__?"right":"overlay"}},{key:"S_",value:function(){return this.a_}},{key:"k_",value:function(){return this.__}},{key:"y_",value:function(t,e){t.Uo(e)}},{key:"C_",value:function(t,e){t.qo(e),this.b_()}},{key:"T_",value:function(t){t.Yo()}},{key:"P_",value:function(t,e){t.Xo(e)}},{key:"R_",value:function(t,e){t.Ko(e),this.b_()}},{key:"D_",value:function(t){t.Zo()}},{key:"b_",value:function(){this._o.forEach((function(t){t.On()}))}},{key:"vn",value:function(){var t=null;return this.Ui.W().rightPriceScale.visible&&0!==this.__.Ta().length?t=this.__:this.Ui.W().leftPriceScale.visible&&0!==this.a_.Ta().length?t=this.a_:0!==this._o.length&&(t=this._o[0].At()),null===t&&(t=this.__),t}},{key:"vr",value:function(){var t=null;return this.Ui.W().rightPriceScale.visible?t=this.__:this.Ui.W().leftPriceScale.visible&&(t=this.a_),t}},{key:"x_",value:function(t){null!==t&&t.yo()&&this.O_(t)}},{key:"A_",value:function(t){var e=this.wl.Xs();t.So({Wn:!0}),null!==e&&t.t_(e),this.b_()}},{key:"V_",value:function(){this.O_(this.a_),this.O_(this.__)}},{key:"B_",value:function(){var t=this;this.x_(this.a_),this.x_(this.__),this._o.forEach((function(e){t.dr(e)&&t.x_(e.At())})),this.b_(),this.Ui.Fh()}},{key:"No",value:function(){return null===this.uo&&(this.uo=Mn(this._o)),this.uo}},{key:"I_",value:function(){return this.h_}},{key:"z_",value:function(){return this.l_}},{key:"O_",value:function(t){var e=t.Qo();if(e&&e.length>0&&!this.wl.Fi()){var n=this.wl.Xs();null!==n&&t.t_(n)}t.On()}},{key:"g_",value:function(){var t=this.No();if(0===t.length)return{E_:0,w_:0};for(var e=0,n=0,i=0;i<t.length;i++){var r=t[i].Zi();null!==r&&(r<e&&(e=r),r>n&&(n=r))}return{E_:e,w_:n}}},{key:"M_",value:function(t,e,n){var i=this.d_(e);if(null===i&&(i=this.o_(e,this.Ui.W().overlayPriceScales)),this._o.push(t),!At(e)){var r=this.s_.get(e)||[];r.push(t),this.s_.set(e,r)}i.Fo(t),t.Ji(i),t.Gi(n),this.x_(i),this.uo=null}},{key:"u_",value:function(t,e,n){e.yr!==n.yr&&this.O_(t)}},{key:"o_",value:function(t,e){var n=Object.assign({visible:!0,autoScale:!0},X(e)),i=new Rn(t,n,this.Ui.W().layout,this.Ui.W().localization);return i.Oo(this.zt()),i}}]),t}(),Dn=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;(0,h.Z)(this,t),this.Ke=0,this.Ze=1,this.Ge=1,this.Qe=new Map,this.Je=new Map,this.L_=e,this.N_=n,this.tr=i}return(0,f.Z)(t,[{key:"F_",value:function(t){var e=t.time,n=this.N_.cacheKey(e),i=this.Qe.get(n);if(void 0!==i)return i.W_;if(this.Ke===this.tr){var r=this.Je.get(this.Ge);this.Je.delete(this.Ge),this.Qe.delete(R(r)),this.Ge++,this.Ke--}var o=this.L_(t);return this.Qe.set(n,{W_:o,er:this.Ze}),this.Je.set(this.Ze,n),this.Ke++,this.Ze++,o}}]),t}(),Pn=function(){function t(e,n){(0,h.Z)(this,t),L(e<=n,"right should be >= left"),this.j_=e,this.H_=n}return(0,f.Z)(t,[{key:"Os",value:function(){return this.j_}},{key:"di",value:function(){return this.H_}},{key:"U_",value:function(){return this.H_-this.j_+1}},{key:"Kr",value:function(t){return this.j_<=t&&t<=this.H_}},{key:"Mh",value:function(t){return this.j_===t.Os()&&this.H_===t.di()}}]),t}();function Fn(t,e){return null===t||null===e?t===e:t.Mh(e)}var Bn=function(){function t(){(0,h.Z)(this,t),this.q_=new Map,this.Qe=null,this.Y_=!1}return(0,f.Z)(t,[{key:"X_",value:function(t){this.Y_=t,this.Qe=null}},{key:"K_",value:function(t,e){this.Z_(e),this.Qe=null;for(var n=e;n<t.length;++n){var i=t[n],r=this.q_.get(i.timeWeight);void 0===r&&(r=[],this.q_.set(i.timeWeight,r)),r.push({index:n,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}},{key:"G_",value:function(t,e){var n=Math.ceil(e/t);return null!==this.Qe&&this.Qe.J_===n||(this.Qe={Ea:this.Q_(n),J_:n}),this.Qe.Ea}},{key:"Z_",value:function(t){if(0!==t){var e=[];this.q_.forEach((function(n,i){t<=n[0].index?e.push(i):n.splice($t(n,t,(function(e){return e.index<t})),1/0)}));for(var n=0,i=e;n<i.length;n++){var r=i[n];this.q_.delete(r)}}else this.q_.clear()}},{key:"Q_",value:function(t){var e,n=[],i=(0,a.Z)(Array.from(this.q_.keys()).sort((function(t,e){return e-t})));try{for(i.s();!(e=i.n()).done;){var r=e.value;if(this.q_.get(r)){var o=n;n=[];for(var s=o.length,u=0,l=R(this.q_.get(r)),c=l.length,h=1/0,f=-1/0,d=0;d<c;d++){for(var v=l[d],p=v.index;u<s;){var y=o[u],m=y.index;if(!(m<p)){h=m;break}u++,n.push(y),f=m,h=1/0}if(h-p>=t&&p-f>=t)n.push(v),f=p;else if(this.Y_)return o}for(;u<s;u++)n.push(o[u])}}}catch(g){i.e(g)}finally{i.f()}return n}}]),t}(),Vn=function(){function t(e){(0,h.Z)(this,t),this.tu=e}return(0,f.Z)(t,[{key:"iu",value:function(){return null===this.tu?null:new Pn(Math.floor(this.tu.Os()),Math.ceil(this.tu.di()))}},{key:"nu",value:function(){return this.tu}}],[{key:"su",value:function(){return new t(null)}}]),t}();function Un(t,e){return t.weight>e.weight?t:e}var zn,jn,qn,Wn,Hn,Kn=function(){function t(e,n,i,r){(0,h.Z)(this,t),this.e_=0,this.eu=null,this.ru=[],this.fo=null,this.do=null,this.hu=new Bn,this.lu=new Map,this.au=Vn.su(),this.ou=!0,this._u=new H,this.uu=new H,this.cu=new H,this.du=null,this.fu=null,this.vu=[],this.cn=n,this.bo=i,this.pu=n.rightOffset,this.mu=n.barSpacing,this.Ui=e,this.N_=r,this.bu(),this.hu.X_(n.uniformDistribution)}return(0,f.Z)(t,[{key:"W",value:function(){return this.cn}},{key:"wu",value:function(t){K(this.bo,t),this.gu(),this.bu()}},{key:"Nh",value:function(t,e){var n;K(this.cn,t),this.cn.fixLeftEdge&&this.Mu(),this.cn.fixRightEdge&&this.xu(),void 0!==t.barSpacing&&this.Ui.Gn(t.barSpacing),void 0!==t.rightOffset&&this.Ui.Jn(t.rightOffset),void 0!==t.minBarSpacing&&this.Ui.Gn(null!==(n=t.barSpacing)&&void 0!==n?n:this.mu),this.gu(),this.bu(),this.cu.m()}},{key:"mn",value:function(t){var e,n;return null!==(n=null===(e=this.ru[t])||void 0===e?void 0:e.time)&&void 0!==n?n:null}},{key:"qi",value:function(t){var e;return null!==(e=this.ru[t])&&void 0!==e?e:null}},{key:"ya",value:function(t,e){var n=this;if(this.ru.length<1)return null;if(this.N_.key(t)>this.N_.key(this.ru[this.ru.length-1].time))return e?this.ru.length-1:null;var i=$t(this.ru,this.N_.key(t),(function(t,e){return n.N_.key(t.time)<e}));return this.N_.key(t)<this.N_.key(this.ru[i].time)?e?i:null:i}},{key:"Fi",value:function(){return 0===this.e_||0===this.ru.length||null===this.eu}},{key:"ka",value:function(){return this.ru.length>0}},{key:"Xs",value:function(){return this.Su(),this.au.iu()}},{key:"ku",value:function(){return this.Su(),this.au.nu()}},{key:"yu",value:function(){var t=this.Xs();if(null===t)return null;var e={from:t.Os(),to:t.di()};return this.Cu(e)}},{key:"Cu",value:function(t){var e=Math.round(t.from),n=Math.round(t.to),i=N(this.Tu()),r=N(this.Pu());return{from:N(this.qi(Math.max(i,e))),to:N(this.qi(Math.min(r,n)))}}},{key:"Ru",value:function(t){return{from:N(this.ya(t.from,!0)),to:N(this.ya(t.to,!0))}}},{key:"$i",value:function(){return this.e_}},{key:"m_",value:function(t){if(isFinite(t)&&!(t<=0)&&this.e_!==t){var e=this.ku(),n=this.e_;if(this.e_=t,this.ou=!0,this.cn.lockVisibleTimeRangeOnResize&&0!==n){var i=this.mu*t/n;this.mu=i}if(this.cn.fixLeftEdge&&null!==e&&e.Os()<=0){var r=n-t;this.pu-=Math.round(r/this.mu)+1,this.ou=!0}this.Du(),this.Ou()}}},{key:"Et",value:function(t){if(this.Fi()||!Q(t))return 0;var e=this.Au()+this.pu-t;return this.e_-(e+.5)*this.mu-1}},{key:"Js",value:function(t,e){for(var n=this.Au(),i=void 0===e?0:e.from,r=void 0===e?t.length:e.to,o=i;o<r;o++){var a=t[o].ut,s=n+this.pu-a,u=this.e_-(s+.5)*this.mu-1;t[o].et=u}}},{key:"Vu",value:function(t){return Math.ceil(this.Bu(t))}},{key:"Jn",value:function(t){this.ou=!0,this.pu=t,this.Ou(),this.Ui.Iu(),this.Ui.Fh()}},{key:"he",value:function(){return this.mu}},{key:"Gn",value:function(t){this.zu(t),this.Ou(),this.Ui.Iu(),this.Ui.Fh()}},{key:"Eu",value:function(){return this.pu}},{key:"Ea",value:function(){if(this.Fi())return null;if(null!==this.fu)return this.fu;var t,e=this.mu,n=5*(this.Ui.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),i=Math.round(n/e),r=N(this.Xs()),o=Math.max(r.Os(),r.Os()-i),s=Math.max(r.di(),r.di()-i),u=this.hu.G_(e,n),l=this.Tu()+i,c=this.Pu()-i,h=this.Lu(),f=this.cn.fixLeftEdge||h,d=this.cn.fixRightEdge||h,v=0,p=(0,a.Z)(u);try{for(p.s();!(t=p.n()).done;){var y=t.value;if(o<=y.index&&y.index<=s){var m=void 0;v<this.vu.length?((m=this.vu[v]).coord=this.Et(y.index),m.label=this.Nu(y),m.weight=y.weight):(m={needAlignCoordinate:!1,coord:this.Et(y.index),label:this.Nu(y),weight:y.weight},this.vu.push(m)),this.mu>n/2&&!h?m.needAlignCoordinate=!1:m.needAlignCoordinate=f&&y.index<=l||d&&y.index>=c,v++}}}catch(g){p.e(g)}finally{p.f()}return this.vu.length=v,this.fu=this.vu,this.vu}},{key:"Fu",value:function(){this.ou=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}},{key:"Wu",value:function(t){this.ou=!0,this.eu=t,this.Ou(),this.Mu()}},{key:"ju",value:function(t,e){var n=this.Bu(t),i=this.he(),r=i+e*(i/10);this.Gn(r),this.cn.rightBarStaysOnScroll||this.Jn(this.Eu()+(n-this.Bu(t)))}},{key:"Uo",value:function(t){this.fo&&this.Zo(),null===this.do&&null===this.du&&(this.Fi()||(this.do=t,this.Hu()))}},{key:"qo",value:function(t){if(null!==this.du){var e=Ut(this.e_-t,0,this.e_),n=Ut(this.e_-N(this.do),0,this.e_);0!==e&&0!==n&&this.Gn(this.du.he*e/n)}}},{key:"Yo",value:function(){null!==this.do&&(this.do=null,this.$u())}},{key:"Xo",value:function(t){null===this.fo&&null===this.du&&(this.Fi()||(this.fo=t,this.Hu()))}},{key:"Ko",value:function(t){if(null!==this.fo){var e=(this.fo-t)/this.he();this.pu=N(this.du).Eu+e,this.ou=!0,this.Ou()}}},{key:"Zo",value:function(){null!==this.fo&&(this.fo=null,this.$u())}},{key:"Uu",value:function(){this.qu(this.cn.rightOffset)}},{key:"qu",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");var n=this.pu,i=performance.now();this.Ui.Xn({Yu:function(t){return(t-i)/e>=1},Xu:function(r){var o=(r-i)/e;return o>=1?t:n+(t-n)*o}})}},{key:"gt",value:function(t,e){this.ou=!0,this.ru=t,this.hu.K_(t,e),this.Ou()}},{key:"Ku",value:function(){return this._u}},{key:"Zu",value:function(){return this.uu}},{key:"Gu",value:function(){return this.cu}},{key:"Au",value:function(){return this.eu||0}},{key:"Ju",value:function(t){var e=t.U_();this.zu(this.e_/e),this.pu=t.di()-this.Au(),this.Ou(),this.ou=!0,this.Ui.Iu(),this.Ui.Fh()}},{key:"Qu",value:function(){var t=this.Tu(),e=this.Pu();null!==t&&null!==e&&this.Ju(new Pn(t,e+this.cn.rightOffset))}},{key:"tc",value:function(t){var e=new Pn(t.from,t.to);this.Ju(e)}},{key:"Yi",value:function(t){return void 0!==this.bo.timeFormatter?this.bo.timeFormatter(t.originalTime):this.N_.formatHorzItem(t.time)}},{key:"Lu",value:function(){var t=this.Ui.W(),e=t.handleScroll,n=t.handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||n.axisDoubleClickReset.time||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)}},{key:"Tu",value:function(){return 0===this.ru.length?null:0}},{key:"Pu",value:function(){return 0===this.ru.length?null:this.ru.length-1}},{key:"ic",value:function(t){return(this.e_-1-t)/this.mu}},{key:"Bu",value:function(t){var e=this.ic(t),n=this.Au()+this.pu-e;return Math.round(1e6*n)/1e6}},{key:"zu",value:function(t){var e=this.mu;this.mu=t,this.Du(),e!==this.mu&&(this.ou=!0,this.nc())}},{key:"Su",value:function(){if(this.ou)if(this.ou=!1,this.Fi())this.sc(Vn.su());else{var t=this.Au(),e=this.e_/this.mu,n=this.pu+t,i=new Pn(n-e+1,n);this.sc(new Vn(i))}}},{key:"Du",value:function(){var t=this.ec();if(this.mu<t&&(this.mu=t,this.ou=!0),0!==this.e_){var e=.5*this.e_;this.mu>e&&(this.mu=e,this.ou=!0)}}},{key:"ec",value:function(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&0!==this.ru.length?this.e_/this.ru.length:this.cn.minBarSpacing}},{key:"Ou",value:function(){var t=this.rc();this.pu>t&&(this.pu=t,this.ou=!0);var e=this.hc();null!==e&&this.pu<e&&(this.pu=e,this.ou=!0)}},{key:"hc",value:function(){var t=this.Tu(),e=this.eu;return null===t||null===e?null:t-e-1+(this.cn.fixLeftEdge?this.e_/this.mu:Math.min(2,this.ru.length))}},{key:"rc",value:function(){return this.cn.fixRightEdge?0:this.e_/this.mu-Math.min(2,this.ru.length)}},{key:"Hu",value:function(){this.du={he:this.he(),Eu:this.Eu()}}},{key:"$u",value:function(){this.du=null}},{key:"Nu",value:function(t){var e=this,n=this.lu.get(t.weight);return void 0===n&&(n=new Dn((function(t){return e.lc(t)}),this.N_),this.lu.set(t.weight,n)),n.F_(t)}},{key:"lc",value:function(t){return this.N_.formatTickmark(t,this.bo)}},{key:"sc",value:function(t){var e=this.au;this.au=t,Fn(e.iu(),this.au.iu())||this._u.m(),Fn(e.nu(),this.au.nu())||this.uu.m(),this.nc()}},{key:"nc",value:function(){this.fu=null}},{key:"gu",value:function(){this.nc(),this.lu.clear()}},{key:"bu",value:function(){this.N_.updateFormatter(this.bo)}},{key:"Mu",value:function(){if(this.cn.fixLeftEdge){var t=this.Tu();if(null!==t){var e=this.Xs();if(null!==e){var n=e.Os()-t;if(n<0){var i=this.pu-n-1;this.Jn(i)}this.Du()}}}}},{key:"xu",value:function(){this.Ou(),this.Du()}}]),t}(),Gn=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var i;return(0,h.Z)(this,n),(i=e.call(this)).ac=new Map,i.Lt=t,i}return(0,f.Z)(n,[{key:"Z",value:function(t){}},{key:"J",value:function(t){if(this.Lt.Tt){var e,n=t.context,i=t.mediaSize,r=0,o=(0,a.Z)(this.Lt.oc);try{for(o.s();!(e=o.n()).done;){var s=e.value;if(0!==s.Jt.length){n.font=s.R;var u=this._c(n,s.Jt);u>i.width?s.ju=i.width/u:s.ju=1,r+=s.uc*s.ju}}}catch(v){o.e(v)}finally{o.f()}var l=0;switch(this.Lt.cc){case"top":l=0;break;case"center":l=Math.max((i.height-r)/2,0);break;case"bottom":l=Math.max(i.height-r,0)}n.fillStyle=this.Lt.O;var c,h=(0,a.Z)(this.Lt.oc);try{for(h.s();!(c=h.n()).done;){var f=c.value;n.save();var d=0;switch(this.Lt.dc){case"left":n.textAlign="left",d=f.uc/2;break;case"center":n.textAlign="center",d=i.width/2;break;case"right":n.textAlign="right",d=i.width-1-f.uc/2}n.translate(d,l),n.textBaseline="top",n.font=f.R,n.scale(f.ju,f.ju),n.fillText(f.Jt,0,f.fc),n.restore(),l+=f.uc*f.ju}}catch(v){h.e(v)}finally{h.f()}}}},{key:"_c",value:function(t,e){var n=this.vc(t.font),i=n.get(e);return void 0===i&&(i=t.measureText(e).width,n.set(e,i)),i}},{key:"vc",value:function(t){var e=this.ac.get(t);return void 0===e&&(e=new Map,this.ac.set(t,e)),e}}]),n}(ot),Qn=function(){function t(e){(0,h.Z)(this,t),this.bt=!0,this.jt={Tt:!1,O:"",oc:[],cc:"center",dc:"center"},this.Ht=new Gn(this.jt),this.$t=e}return(0,f.Z)(t,[{key:"gt",value:function(){this.bt=!0}},{key:"xt",value:function(){return this.bt&&(this.St(),this.bt=!1),this.Ht}},{key:"St",value:function(){var t=this.$t.W(),e=this.jt;e.Tt=t.visible,e.Tt&&(e.O=t.color,e.dc=t.horzAlign,e.cc=t.vertAlign,e.oc=[{Jt:t.text,R:nt(t.fontSize,t.fontFamily,t.fontStyle),uc:1.2*t.fontSize,fc:0,ju:0}])}}]),t}(),$n=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,i){var r;return(0,h.Z)(this,n),(r=e.call(this)).cn=i,r.wn=new Qn((0,s.Z)(r)),r}return(0,f.Z)(n,[{key:"Rn",value:function(){return[]}},{key:"Pn",value:function(){return[this.wn]}},{key:"W",value:function(){return this.cn}},{key:"On",value:function(){this.wn.gt()}}]),n}(Ct);!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}(zn||(zn={}));var Jn=function(){function t(e,n,i){(0,h.Z)(this,t),this.mc=[],this.bc=[],this.e_=0,this.wc=null,this.gc=new H,this.Mc=new H,this.xc=null,this.Sc=e,this.cn=n,this.N_=i,this.kc=new it(this),this.wl=new Kn(this,n.timeScale,this.cn.localization,i),this.wt=new Tt(this,n.crosshair),this.yc=new vn(n.crosshair),this.Cc=new $n(this,n.watermark),this.Tc(),this.mc[0].p_(2e3),this.Pc=this.Rc(0),this.Dc=this.Rc(1)}return(0,f.Z)(t,[{key:"$l",value:function(){this.Oc(Ot.es())}},{key:"Fh",value:function(){this.Oc(Ot.ss())}},{key:"sa",value:function(){this.Oc(new Ot(1))}},{key:"Ul",value:function(t){var e=this.Ac(t);this.Oc(e)}},{key:"Vc",value:function(){return this.wc}},{key:"Bc",value:function(t){var e=this.wc;this.wc=t,null!==e&&this.Ul(e.Ic),null!==t&&this.Ul(t.Ic)}},{key:"W",value:function(){return this.cn}},{key:"Nh",value:function(t){K(this.cn,t),this.mc.forEach((function(e){return e.c_(t)})),void 0!==t.timeScale&&this.wl.Nh(t.timeScale),void 0!==t.localization&&this.wl.wu(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.gc.m(),this.Pc=this.Rc(0),this.Dc=this.Rc(1),this.$l()}},{key:"zc",value:function(t,e){if("left"!==t)if("right"!==t){var n=this.Ec(t);null!==n&&(n.At.Nh(e),this.gc.m())}else this.Nh({rightPriceScale:e});else this.Nh({leftPriceScale:e})}},{key:"Ec",value:function(t){var e,n=(0,a.Z)(this.mc);try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.d_(t);if(null!==r)return{Ut:i,At:r}}}catch(o){n.e(o)}finally{n.f()}return null}},{key:"yt",value:function(){return this.wl}},{key:"Lc",value:function(){return this.mc}},{key:"Nc",value:function(){return this.Cc}},{key:"Fc",value:function(){return this.wt}},{key:"Wc",value:function(){return this.Mc}},{key:"jc",value:function(t,e){t.Oo(e),this.Iu()}},{key:"m_",value:function(t){this.e_=t,this.wl.m_(this.e_),this.mc.forEach((function(e){return e.m_(t)})),this.Iu()}},{key:"Tc",value:function(t){var e=new Nn(this.wl,this);void 0!==t?this.mc.splice(t,0,e):this.mc.push(e);var n=void 0===t?this.mc.length-1:t,i=Ot.es();return i.Nn(n,{Fn:0,Wn:!0}),this.Oc(i),e}},{key:"y_",value:function(t,e,n){t.y_(e,n)}},{key:"C_",value:function(t,e,n){t.C_(e,n),this.ql(),this.Oc(this.Hc(t,2))}},{key:"T_",value:function(t,e){t.T_(e),this.Oc(this.Hc(t,2))}},{key:"P_",value:function(t,e,n){e.yo()||t.P_(e,n)}},{key:"R_",value:function(t,e,n){e.yo()||(t.R_(e,n),this.ql(),this.Oc(this.Hc(t,2)))}},{key:"D_",value:function(t,e){e.yo()||(t.D_(e),this.Oc(this.Hc(t,2)))}},{key:"A_",value:function(t,e){t.A_(e),this.Oc(this.Hc(t,2))}},{key:"$c",value:function(t){this.wl.Uo(t)}},{key:"Uc",value:function(t,e){var n=this.yt();if(!n.Fi()&&0!==e){var i=n.$i();t=Math.max(1,Math.min(t,i)),n.ju(t,e),this.Iu()}}},{key:"qc",value:function(t){this.Yc(0),this.Xc(t),this.Kc()}},{key:"Zc",value:function(t){this.wl.qo(t),this.Iu()}},{key:"Gc",value:function(){this.wl.Yo(),this.Fh()}},{key:"Yc",value:function(t){this.wl.Xo(t)}},{key:"Xc",value:function(t){this.wl.Ko(t),this.Iu()}},{key:"Kc",value:function(){this.wl.Zo(),this.Fh()}},{key:"Mt",value:function(){return this.bc}},{key:"Jc",value:function(t,e,n,i,r){this.wt.gn(t,e);var o=NaN,a=this.wl.Vu(t),s=this.wl.Xs();null!==s&&(a=Math.min(Math.max(s.Os(),a),s.di()));var u=i.vn(),l=u.Pt();null!==l&&(o=u.pn(e,l)),o=this.yc.Ca(o,a,i),this.wt.kn(a,o,i),this.sa(),r||this.Mc.m(this.wt.kt(),{x:t,y:e},n)}},{key:"Qc",value:function(t,e,n){var i=n.vn(),r=i.Pt(),o=i.Ot(t,N(r)),a=this.wl.ya(e,!0),s=this.wl.Et(N(a));this.Jc(s,o,null,n,!0)}},{key:"td",value:function(t){this.Fc().Cn(),this.sa(),t||this.Mc.m(null,null,null)}},{key:"ql",value:function(){var t=this.wt.Ut();if(null!==t){var e=this.wt.xn(),n=this.wt.Sn();this.Jc(e,n,null,t)}this.wt.On()}},{key:"nd",value:function(t,e,n){var i=this.wl.mn(0);void 0!==e&&void 0!==n&&this.wl.gt(e,n);var r=this.wl.mn(0),o=this.wl.Au(),a=this.wl.Xs();if(null!==a&&null!==i&&null!==r){var s=a.Kr(o),u=this.N_.key(i)>this.N_.key(r),l=null!==t&&t>o&&!u,c=this.wl.W().allowShiftVisibleRangeOnWhitespaceReplacement,h=s&&(!(void 0===n)||c)&&this.wl.W().shiftVisibleRangeOnNewBar;if(l&&!h){var f=t-o;this.wl.Jn(this.wl.Eu()-f)}}this.wl.Wu(t)}},{key:"Kl",value:function(t){null!==t&&t.B_()}},{key:"cr",value:function(t){var e=this.mc.find((function(e){return e.No().includes(t)}));return void 0===e?null:e}},{key:"Iu",value:function(){this.Cc.On(),this.mc.forEach((function(t){return t.B_()})),this.ql()}},{key:"S",value:function(){this.mc.forEach((function(t){return t.S()})),this.mc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}},{key:"sd",value:function(){return this.kc}},{key:"mr",value:function(){return this.kc.W()}},{key:"f_",value:function(){return this.gc}},{key:"ed",value:function(t,e,n){var i=this.mc[0],r=this.rd(e,t,i,n);return this.bc.push(r),1===this.bc.length?this.$l():this.Fh(),r}},{key:"hd",value:function(t){var e=this.cr(t),n=this.bc.indexOf(t);L(-1!==n,"Series not found"),this.bc.splice(n,1),N(e).jo(t),t.S&&t.S()}},{key:"Hl",value:function(t,e){var n=N(this.cr(t));n.jo(t);var i=this.Ec(e);if(null===i){var r=t.Zi();n.Fo(t,e,r)}else{var o=i.Ut===n?t.Zi():void 0;i.Ut.Fo(t,e,o)}}},{key:"Qu",value:function(){var t=Ot.ss();t.$n(),this.Oc(t)}},{key:"ld",value:function(t){var e=Ot.ss();e.Yn(t),this.Oc(e)}},{key:"Zn",value:function(){var t=Ot.ss();t.Zn(),this.Oc(t)}},{key:"Gn",value:function(t){var e=Ot.ss();e.Gn(t),this.Oc(e)}},{key:"Jn",value:function(t){var e=Ot.ss();e.Jn(t),this.Oc(e)}},{key:"Xn",value:function(t){var e=Ot.ss();e.Xn(t),this.Oc(e)}},{key:"Un",value:function(){var t=Ot.ss();t.Un(),this.Oc(t)}},{key:"ad",value:function(){return this.cn.rightPriceScale.visible?"right":"left"}},{key:"od",value:function(){return this.Dc}},{key:"q",value:function(){return this.Pc}},{key:"It",value:function(t){var e=this.Dc,n=this.Pc;if(e===n)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.xc||this.xc.Ts!==n||this.xc.Ps!==e)this.xc={Ts:n,Ps:e,_d:new Map};else{var r=this.xc._d.get(t);if(void 0!==r)return r}var o=function(t,e,n){var r=q(t),o=(0,i.Z)(r,4),a=o[0],s=o[1],u=o[2],l=o[3],c=q(e),h=(0,i.Z)(c,4),f=h[0],d=h[1],v=h[2],p=h[3],y=[F(a+n*(f-a)),F(s+n*(d-s)),F(u+n*(v-u)),B(l+n*(p-l))];return"rgba(".concat(y[0],", ").concat(y[1],", ").concat(y[2],", ").concat(y[3],")")}(n,e,t/100);return this.xc._d.set(t,o),o}},{key:"Hc",value:function(t,e){var n=new Ot(e);if(null!==t){var i=this.mc.indexOf(t);n.Nn(i,{Fn:e})}return n}},{key:"Ac",value:function(t,e){return void 0===e&&(e=2),this.Hc(this.cr(t),e)}},{key:"Oc",value:function(t){this.Sc&&this.Sc(t),this.mc.forEach((function(t){return t.z_().Wh().gt()}))}},{key:"rd",value:function(t,e,n,i){var r=new dn(this,t,e,n,i),o=void 0!==t.priceScaleId?t.priceScaleId:this.ad();return n.Fo(r,o),At(o)||r.Nh(t),r}},{key:"Rc",value:function(t){var e=this.cn.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color}}]),t}();function Xn(t){return!G(t)&&!$(t)}function Yn(t){return G(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(jn||(jn={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(qn||(qn={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(Wn||(Wn={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Hn||(Hn={}));var ti=function(t){return t.getUTCFullYear()};var ei=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yyyy-MM-dd",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";(0,h.Z)(this,t),this.ud=e,this.dd=n}return(0,f.Z)(t,[{key:"F_",value:function(t){return function(t,e,n){return e.replace(/yyyy/g,function(t){return Zt(ti(t),4)}(t)).replace(/yy/g,function(t){return Zt(ti(t)%100,2)}(t)).replace(/MMMM/g,function(t,e){return new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"long"})}(t,n)).replace(/MMM/g,function(t,e){return new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"})}(t,n)).replace(/MM/g,function(t){return Zt(function(t){return t.getUTCMonth()+1}(t),2)}(t)).replace(/dd/g,function(t){return Zt(function(t){return t.getUTCDate()}(t),2)}(t))}(t,this.ud,this.dd)}}]),t}(),ni=function(){function t(e){(0,h.Z)(this,t),this.fd=e||"%h:%m:%s"}return(0,f.Z)(t,[{key:"F_",value:function(t){return this.fd.replace("%h",Zt(t.getUTCHours(),2)).replace("%m",Zt(t.getUTCMinutes(),2)).replace("%s",Zt(t.getUTCSeconds(),2))}}]),t}(),ii={vd:"yyyy-MM-dd",pd:"%h:%m:%s",md:" ",bd:"default"},ri=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,h.Z)(this,t);var n=Object.assign(Object.assign({},ii),e);this.wd=new ei(n.vd,n.bd),this.gd=new ni(n.pd),this.Md=n.md}return(0,f.Z)(t,[{key:"F_",value:function(t){return"".concat(this.wd.F_(t)).concat(this.Md).concat(this.gd.F_(t))}}]),t}();function oi(t){return 60*t*60*1e3}function ai(t){return 60*t*1e3}var si=[{xd:(1,1e3),Sd:10},{xd:ai(1),Sd:20},{xd:ai(5),Sd:21},{xd:ai(30),Sd:22},{xd:oi(1),Sd:30},{xd:oi(3),Sd:31},{xd:oi(6),Sd:32},{xd:oi(12),Sd:33}];function ui(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(var n=si.length-1;n>=0;--n)if(Math.floor(e.getTime()/si[n].xd)!==Math.floor(t.getTime()/si[n].xd))return si[n].Sd;return 0}function li(t){var e=t;if($(t)&&(e=hi(t)),!Xn(e))throw new Error("time must be of type BusinessDay");var n=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{kd:Math.round(n.getTime()/1e3),yd:e}}function ci(t){if(!Yn(t))throw new Error("time must be of type isUTCTimestamp");return{kd:t}}function hi(t){var e=new Date(t);if(isNaN(e.getTime()))throw new Error("Invalid date string=".concat(t,", expected format=yyyy-mm-dd"));return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function fi(t){$(t.time)&&(t.time=hi(t.time))}var di=function(){function t(){(0,h.Z)(this,t)}return(0,f.Z)(t,[{key:"options",value:function(){return this.cn}},{key:"setOptions",value:function(t){this.cn=t,this.updateFormatter(t.localization)}},{key:"preprocessData",value:function(t){Array.isArray(t)?function(t){t.forEach(fi)}(t):fi(t)}},{key:"createConverterToInternalObj",value:function(t){return N(function(t){return 0===t.length?null:Xn(t[0].time)||$(t[0].time)?li:ci}(t))}},{key:"key",value:function(t){return"object"==typeof t&&"kd"in t?t.kd:this.key(this.convertHorzItemToInternal(t))}},{key:"cacheKey",value:function(t){var e=t;return void 0===e.yd?new Date(1e3*e.kd).getTime():new Date(Date.UTC(e.yd.year,e.yd.month-1,e.yd.day)).getTime()}},{key:"convertHorzItemToInternal",value:function(t){return Yn(e=t)?ci(e):Xn(e)?li(e):li(hi(e));var e}},{key:"updateFormatter",value:function(t){if(this.cn){var e=t.dateFormat;this.cn.timeScale.timeVisible?this.Cd=new ri({vd:e,pd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",md:"   ",bd:t.locale}):this.Cd=new ei(e,t.locale)}}},{key:"formatHorzItem",value:function(t){var e=t;return this.Cd.F_(new Date(1e3*e.kd))}},{key:"formatTickmark",value:function(t,e){var n=function(t,e,n){switch(t){case 0:case 10:return e?n?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),i=this.cn.timeScale;if(void 0!==i.tickMarkFormatter){var r=i.tickMarkFormatter(t.originalTime,n,e.locale);if(null!==r)return r}return function(t,e,n){var i={};switch(e){case 0:i.year="numeric";break;case 1:i.month="short";break;case 2:i.day="numeric";break;case 3:i.hour12=!1,i.hour="2-digit",i.minute="2-digit";break;case 4:i.hour12=!1,i.hour="2-digit",i.minute="2-digit",i.second="2-digit"}var r=void 0===t.yd?new Date(1e3*t.kd):new Date(Date.UTC(t.yd.year,t.yd.month-1,t.yd.day));return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()).toLocaleString(n,i)}(t.time,n,e.locale)}},{key:"maxTickMarkWeight",value:function(t){var e=t.reduce(Un,t[0]).weight;return e>30&&e<50&&(e=30),e}},{key:"fillWeightsForPoints",value:function(t,e){!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0!==t.length){for(var n=0===e?null:t[e-1].time.kd,i=null!==n?new Date(1e3*n):null,r=0,o=e;o<t.length;++o){var a=t[o],s=new Date(1e3*a.time.kd);null!==i&&(a.timeWeight=ui(s,i)),r+=a.time.kd-(n||a.time.kd),n=a.time.kd,i=s}if(0===e&&t.length>1){var u=Math.ceil(r/(t.length-1)),l=new Date(1e3*(t[0].time.kd-u));t[0].timeWeight=ui(new Date(1e3*t[0].time.kd),l)}}}(t,e)}}],[{key:"Td",value:function(t){return K({localization:{dateFormat:"dd MMM 'yy"}},null!=t?t:{})}}]),t}(),vi="undefined"!=typeof window;function pi(){return!!vi&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function yi(){return!!vi&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function mi(t){return t+t%2}function gi(t,e){return t.Pd-e.Pd}function wi(t,e,n){var i=(t.Pd-e.Pd)/(t.ut-e.ut);return Math.sign(i)*Math.min(Math.abs(i),n)}var bi=function(){function t(e,n,i,r){(0,h.Z)(this,t),this.Rd=null,this.Dd=null,this.Od=null,this.Ad=null,this.Vd=null,this.Bd=0,this.Id=0,this.zd=e,this.Ed=n,this.Ld=i,this.rs=r}return(0,f.Z)(t,[{key:"Nd",value:function(t,e){if(null!==this.Rd){if(this.Rd.ut===e)return void(this.Rd.Pd=t);if(Math.abs(this.Rd.Pd-t)<this.rs)return}this.Ad=this.Od,this.Od=this.Dd,this.Dd=this.Rd,this.Rd={ut:e,Pd:t}}},{key:"Dr",value:function(t,e){if(null!==this.Rd&&null!==this.Dd&&!(e-this.Rd.ut>50)){var n=0,i=wi(this.Rd,this.Dd,this.Ed),r=gi(this.Rd,this.Dd),o=[i],a=[r];if(n+=r,null!==this.Od){var s=wi(this.Dd,this.Od,this.Ed);if(Math.sign(s)===Math.sign(i)){var u=gi(this.Dd,this.Od);if(o.push(s),a.push(u),n+=u,null!==this.Ad){var l=wi(this.Od,this.Ad,this.Ed);if(Math.sign(l)===Math.sign(i)){var c=gi(this.Od,this.Ad);o.push(l),a.push(c),n+=c}}}}for(var h=0,f=0;f<o.length;++f)h+=a[f]/n*o[f];Math.abs(h)<this.zd||(this.Vd={Pd:t,ut:e},this.Id=h,this.Bd=function(t,e){var n=Math.log(e);return Math.log(1*n/-t)/n}(Math.abs(h),this.Ld))}}},{key:"Xu",value:function(t){var e=N(this.Vd),n=t-e.ut;return e.Pd+this.Id*(Math.pow(this.Ld,n)-1)/Math.log(this.Ld)}},{key:"Yu",value:function(t){return null===this.Vd||this.Fd(t)===this.Bd}},{key:"Fd",value:function(t){var e=t-N(this.Vd).ut;return Math.min(e,this.Bd)}}]),t}();function ki(t,e){var n=N(t.ownerDocument).createElement("canvas");t.appendChild(n);var i=function(t,e){if("device-pixel-content-box"===e.type)return new y(t,e.transform,e.options);throw new Error("Unsupported binding target")}(n,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:function(t,e){return{width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)}}});return i.resizeCanvasElement(e),i}function _i(t,e,n,i){t.G&&t.G(e,n,i)}function xi(t,e,n,i){t.K(e,n,i)}function Si(t,e,n,i){var r,o=t(n,i),s=(0,a.Z)(o);try{for(s.s();!(r=s.n()).done;){var u=r.value.xt();null!==u&&e(u)}}catch(l){s.e(l)}finally{s.f()}}var Ei=function(){function t(e,n,i){var r=this;(0,h.Z)(this,t),this.Wd=0,this.jd=null,this.Hd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY},this.$d=0,this.Ud=null,this.qd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY},this.Yd=null,this.Xd=!1,this.Kd=null,this.Zd=null,this.Gd=!1,this.Jd=!1,this.Qd=!1,this.tf=null,this.if=null,this.nf=null,this.sf=null,this.ef=null,this.rf=null,this.hf=null,this.lf=0,this.af=!1,this._f=!1,this.uf=!1,this.cf=0,this.df=null,this.ff=!yi(),this.vf=function(t){r.pf(t)},this.mf=function(t){if(r.bf(t)){var e=r.wf(t);if(++r.$d,r.Ud&&r.$d>1)r.Mf(Ai(t),r.qd).gf<30&&!r.Qd&&r.xf(e,r.kf.Sf),r.yf()}else{var n=r.wf(t);if(++r.Wd,r.jd&&r.Wd>1)r.Mf(Ai(t),r.Hd).gf<5&&!r.Jd&&r.Cf(n,r.kf.Tf),r.Pf()}},this.Rf=e,this.kf=n,this.cn=i,this.Df()}return(0,f.Z)(t,[{key:"S",value:function(){null!==this.tf&&(this.tf(),this.tf=null),null!==this.if&&(this.if(),this.if=null),null!==this.sf&&(this.sf(),this.sf=null),null!==this.ef&&(this.ef(),this.ef=null),null!==this.rf&&(this.rf(),this.rf=null),null!==this.nf&&(this.nf(),this.nf=null),this.Of(),this.Pf()}},{key:"Af",value:function(t){var e=this;this.sf&&this.sf();var n=this.Vf.bind(this);if(this.sf=function(){e.Rf.removeEventListener("mousemove",n)},this.Rf.addEventListener("mousemove",n),!this.bf(t)){var i=this.wf(t);this.Cf(i,this.kf.Bf),this.ff=!0}}},{key:"Pf",value:function(){null!==this.jd&&clearTimeout(this.jd),this.Wd=0,this.jd=null,this.Hd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY}}},{key:"yf",value:function(){null!==this.Ud&&clearTimeout(this.Ud),this.$d=0,this.Ud=null,this.qd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY}}},{key:"Vf",value:function(t){if(!this.uf&&null===this.Zd&&!this.bf(t)){var e=this.wf(t);this.Cf(e,this.kf.If),this.ff=!0}}},{key:"zf",value:function(t){var e=Zi(t.changedTouches,N(this.df));if(null!==e&&(this.cf=Oi(t),null===this.hf&&!this._f)){this.af=!0;var n=this.Mf(Ai(e),N(this.Zd)),i=n.Ef,r=n.Lf,o=n.gf;if(this.Gd||!(o<5)){if(!this.Gd){var a=.5*i,s=r>=a&&!this.cn.Nf(),u=a>r&&!this.cn.Ff();s||u||(this._f=!0),this.Gd=!0,this.Qd=!0,this.Of(),this.yf()}if(!this._f){var l=this.wf(t,e);this.xf(l,this.kf.Wf),Ti(t)}}}}},{key:"jf",value:function(t){if(0===t.button&&(this.Mf(Ai(t),N(this.Kd)).gf>=5&&(this.Jd=!0,this.Pf()),this.Jd)){var e=this.wf(t);this.Cf(e,this.kf.Hf)}}},{key:"Mf",value:function(t,e){var n=Math.abs(e.et-t.et),i=Math.abs(e.rt-t.rt);return{Ef:n,Lf:i,gf:n+i}}},{key:"$f",value:function(t){var e=Zi(t.changedTouches,N(this.df));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null!==e){this.df=null,this.cf=Oi(t),this.Of(),this.Zd=null,this.rf&&(this.rf(),this.rf=null);var n=this.wf(t,e);if(this.xf(n,this.kf.Uf),++this.$d,this.Ud&&this.$d>1)this.Mf(Ai(e),this.qd).gf<30&&!this.Qd&&this.xf(n,this.kf.Sf),this.yf();else this.Qd||(this.xf(n,this.kf.qf),this.kf.qf&&Ti(t));0===this.$d&&Ti(t),0===t.touches.length&&this.Xd&&(this.Xd=!1,Ti(t))}}},{key:"pf",value:function(t){if(0===t.button){var e=this.wf(t);if(this.Kd=null,this.uf=!1,this.ef&&(this.ef(),this.ef=null),pi()&&this.Rf.ownerDocument.documentElement.removeEventListener("mouseleave",this.vf),!this.bf(t))if(this.Cf(e,this.kf.Yf),++this.Wd,this.jd&&this.Wd>1){this.Mf(Ai(t),this.Hd).gf<5&&!this.Jd&&this.Cf(e,this.kf.Tf),this.Pf()}else this.Jd||this.Cf(e,this.kf.Xf)}}},{key:"Of",value:function(){null!==this.Yd&&(clearTimeout(this.Yd),this.Yd=null)}},{key:"Kf",value:function(t){if(null===this.df){var e=t.changedTouches[0];this.df=e.identifier,this.cf=Oi(t);var n=this.Rf.ownerDocument.documentElement;this.Qd=!1,this.Gd=!1,this._f=!1,this.Zd=Ai(e),this.rf&&(this.rf(),this.rf=null);var i=this.zf.bind(this),r=this.$f.bind(this);this.rf=function(){n.removeEventListener("touchmove",i),n.removeEventListener("touchend",r)},n.addEventListener("touchmove",i,{passive:!1}),n.addEventListener("touchend",r,{passive:!1}),this.Of(),this.Yd=setTimeout(this.Zf.bind(this,t),240);var o=this.wf(t,e);this.xf(o,this.kf.Gf),this.Ud||(this.$d=0,this.Ud=setTimeout(this.yf.bind(this),500),this.qd=Ai(e))}}},{key:"Jf",value:function(t){if(0===t.button){var e=this.Rf.ownerDocument.documentElement;pi()&&e.addEventListener("mouseleave",this.vf),this.Jd=!1,this.Kd=Ai(t),this.ef&&(this.ef(),this.ef=null);var n=this.jf.bind(this),i=this.pf.bind(this);if(this.ef=function(){e.removeEventListener("mousemove",n),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",n),e.addEventListener("mouseup",i),this.uf=!0,!this.bf(t)){var r=this.wf(t);this.Cf(r,this.kf.Qf),this.jd||(this.Wd=0,this.jd=setTimeout(this.Pf.bind(this),500),this.Hd=Ai(t))}}}},{key:"Df",value:function(){var t=this;this.Rf.addEventListener("mouseenter",this.Af.bind(this)),this.Rf.addEventListener("touchcancel",this.Of.bind(this));var e=this.Rf.ownerDocument,n=function(e){t.kf.tv&&(e.composed&&t.Rf.contains(e.composedPath()[0])||e.target&&t.Rf.contains(e.target)||t.kf.tv())};this.if=function(){e.removeEventListener("touchstart",n)},this.tf=function(){e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0}),yi()&&(this.nf=function(){t.Rf.removeEventListener("dblclick",t.mf)},this.Rf.addEventListener("dblclick",this.mf)),this.Rf.addEventListener("mouseleave",this.iv.bind(this)),this.Rf.addEventListener("touchstart",this.Kf.bind(this),{passive:!0}),function(t){vi&&void 0!==window.chrome&&t.addEventListener("mousedown",(function(t){if(1===t.button)return t.preventDefault(),!1}))}(this.Rf),this.Rf.addEventListener("mousedown",this.Jf.bind(this)),this.nv(),this.Rf.addEventListener("touchmove",(function(){}),{passive:!1})}},{key:"nv",value:function(){var t=this;void 0===this.kf.sv&&void 0===this.kf.ev&&void 0===this.kf.rv||(this.Rf.addEventListener("touchstart",(function(e){return t.hv(e.touches)}),{passive:!0}),this.Rf.addEventListener("touchmove",(function(e){if(2===e.touches.length&&null!==t.hf&&void 0!==t.kf.ev){var n=Ci(e.touches[0],e.touches[1])/t.lf;t.kf.ev(t.hf,n),Ti(e)}}),{passive:!1}),this.Rf.addEventListener("touchend",(function(e){t.hv(e.touches)})))}},{key:"hv",value:function(t){1===t.length&&(this.af=!1),2!==t.length||this.af||this.Xd?this.lv():this.av(t)}},{key:"av",value:function(t){var e=this.Rf.getBoundingClientRect()||{left:0,top:0};this.hf={et:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,rt:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.lf=Ci(t[0],t[1]),void 0!==this.kf.sv&&this.kf.sv(),this.Of()}},{key:"lv",value:function(){null!==this.hf&&(this.hf=null,void 0!==this.kf.rv&&this.kf.rv())}},{key:"iv",value:function(t){if(this.sf&&this.sf(),!this.bf(t)&&this.ff){var e=this.wf(t);this.Cf(e,this.kf.ov),this.ff=!yi()}}},{key:"Zf",value:function(t){var e=Zi(t.touches,N(this.df));if(null!==e){var n=this.wf(t,e);this.xf(n,this.kf._v),this.Qd=!0,this.Xd=!0}}},{key:"bf",value:function(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:Oi(t)<this.cf+500}},{key:"xf",value:function(t,e){e&&e.call(this.kf,t)}},{key:"Cf",value:function(t,e){e&&e.call(this.kf,t)}},{key:"wf",value:function(t,e){var n=e||t,i=this.Rf.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-i.left,localY:n.clientY-i.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,uv:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,cv:t.type,dv:n.target,fv:t.view,vv:function(){"touchstart"!==t.type&&Ti(t)}}}}]),t}();function Ci(t,e){var n=t.clientX-e.clientX,i=t.clientY-e.clientY;return Math.sqrt(n*n+i*i)}function Ti(t){t.cancelable&&t.preventDefault()}function Ai(t){return{et:t.pageX,rt:t.pageY}}function Oi(t){return t.timeStamp||performance.now()}function Zi(t,e){for(var n=0;n<t.length;++n)if(t[n].identifier===e)return t[n];return null}function Mi(t){return{Ic:t.Ic,pv:{wr:t.mv.externalId},bv:t.mv.cursorStyle}}function Ii(t,e,n){var i,r=(0,a.Z)(t);try{for(r.s();!(i=r.n()).done;){var o=i.value,s=o.xt();if(null!==s&&s.br){var u=s.br(e,n);if(null!==u)return{fv:o,pv:u}}}}catch(l){r.e(l)}finally{r.f()}return null}function Li(t,e){return function(n){var i,r,o,a;return(null!==(r=null===(i=n.At())||void 0===i?void 0:i.xa())&&void 0!==r?r:"")!==e?[]:null!==(a=null===(o=n.la)||void 0===o?void 0:o.call(n,t))&&void 0!==a?a:[]}}var Ri=function(){function t(e,n,i,r){var o=this;(0,h.Z)(this,t),this.Li=null,this.wv=null,this.gv=!1,this.Mv=new we(200),this.Gr=null,this.xv=0,this.Sv=!1,this.kv=function(){o.Sv||o.nn.yv().qt().Fh()},this.Cv=function(){o.Sv||o.nn.yv().qt().Fh()},this.nn=e,this.cn=n,this.mo=n.layout,this.kc=i,this.Tv="left"===r,this.Pv=Li("normal",r),this.Rv=Li("top",r),this.Dv=Li("bottom",r),this.Ov=document.createElement("div"),this.Ov.style.height="100%",this.Ov.style.overflow="hidden",this.Ov.style.width="25px",this.Ov.style.left="0",this.Ov.style.position="relative",this.Av=ki(this.Ov,d({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.kv);var a=this.Av.canvasElement;a.style.position="absolute",a.style.zIndex="1",a.style.left="0",a.style.top="0",this.Vv=ki(this.Ov,d({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.Cv);var s=this.Vv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0";var u={Qf:this.Bv.bind(this),Gf:this.Bv.bind(this),Hf:this.Iv.bind(this),Wf:this.Iv.bind(this),tv:this.zv.bind(this),Yf:this.Ev.bind(this),Uf:this.Ev.bind(this),Tf:this.Lv.bind(this),Sf:this.Lv.bind(this),Bf:this.Nv.bind(this),ov:this.Fv.bind(this)};this.Wv=new Ei(this.Vv.canvasElement,u,{Nf:function(){return!o.cn.handleScroll.vertTouchDrag},Ff:function(){return!0}})}return(0,f.Z)(t,[{key:"S",value:function(){this.Wv.S(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.Cv),this.Vv.dispose(),this.Av.unsubscribeSuggestedBitmapSizeChanged(this.kv),this.Av.dispose(),null!==this.Li&&this.Li.$o().p(this),this.Li=null}},{key:"jv",value:function(){return this.Ov}},{key:"P",value:function(){return this.mo.fontSize}},{key:"Hv",value:function(){var t=this.kc.W();return this.Gr!==t.R&&(this.Mv.ir(),this.Gr=t.R),t}},{key:"$v",value:function(){if(null===this.Li)return 0;var t=0,e=this.Hv(),n=N(this.Av.canvasElement.getContext("2d"));n.save();var i=this.Li.Ea();n.font=this.Uv(),i.length>0&&(t=Math.max(this.Mv.Si(n,i[0].Za),this.Mv.Si(n,i[i.length-1].Za)));for(var r=this.qv(),o=r.length;o--;){var a=this.Mv.Si(n,r[o].Jt());a>t&&(t=a)}var s=this.Li.Pt();if(null!==s&&null!==this.wv){var u=this.Li.pn(1,s),l=this.Li.pn(this.wv.height-2,s);t=Math.max(t,this.Mv.Si(n,this.Li.Wi(Math.floor(Math.min(u,l))+.11111111111111,s)),this.Mv.Si(n,this.Li.Wi(Math.ceil(Math.max(u,l))-.11111111111111,s)))}n.restore();var c=t||34;return mi(Math.ceil(e.C+e.T+e.B+e.I+5+c))}},{key:"Yv",value:function(t){null!==this.wv&&v(this.wv,t)||(this.wv=t,this.Sv=!0,this.Av.resizeCanvasElement(t),this.Vv.resizeCanvasElement(t),this.Sv=!1,this.Ov.style.width="".concat(t.width,"px"),this.Ov.style.height="".concat(t.height,"px"))}},{key:"Xv",value:function(){return N(this.wv).width}},{key:"Ji",value:function(t){this.Li!==t&&(null!==this.Li&&this.Li.$o().p(this),this.Li=t,t.$o().l(this.ao.bind(this),this))}},{key:"At",value:function(){return this.Li}},{key:"ir",value:function(){var t=this.nn.Kv();this.nn.yv().qt().A_(t,N(this.At()))}},{key:"Zv",value:function(t){var e=this;if(null!==this.wv){if(1!==t){this.Gv(),this.Av.applySuggestedBitmapSize();var n=w(this.Av);null!==n&&(n.useBitmapCoordinateSpace((function(t){e.Jv(t),e.Be(t)})),this.nn.Qv(n,this.Dv),this.tp(n),this.nn.Qv(n,this.Pv),this.ip(n))}this.Vv.applySuggestedBitmapSize();var i=w(this.Vv);null!==i&&(i.useBitmapCoordinateSpace((function(t){var e=t.context,n=t.bitmapSize;e.clearRect(0,0,n.width,n.height)})),this.np(i),this.nn.Qv(i,this.Rv))}}},{key:"sp",value:function(){return this.Av.bitmapSize}},{key:"ep",value:function(t,e,n){var i=this.sp();i.width>0&&i.height>0&&t.drawImage(this.Av.canvasElement,e,n)}},{key:"gt",value:function(){var t;null===(t=this.Li)||void 0===t||t.Ea()}},{key:"Bv",value:function(t){if(null!==this.Li&&!this.Li.Fi()&&this.cn.handleScale.axisPressedMouseMove.price){var e=this.nn.yv().qt(),n=this.nn.Kv();this.gv=!0,e.y_(n,this.Li,t.localY)}}},{key:"Iv",value:function(t){if(null!==this.Li&&this.cn.handleScale.axisPressedMouseMove.price){var e=this.nn.yv().qt(),n=this.nn.Kv(),i=this.Li;e.C_(n,i,t.localY)}}},{key:"zv",value:function(){if(null!==this.Li&&this.cn.handleScale.axisPressedMouseMove.price){var t=this.nn.yv().qt(),e=this.nn.Kv(),n=this.Li;this.gv&&(this.gv=!1,t.T_(e,n))}}},{key:"Ev",value:function(t){if(null!==this.Li&&this.cn.handleScale.axisPressedMouseMove.price){var e=this.nn.yv().qt(),n=this.nn.Kv();this.gv=!1,e.T_(n,this.Li)}}},{key:"Lv",value:function(t){this.cn.handleScale.axisDoubleClickReset.price&&this.ir()}},{key:"Nv",value:function(t){null!==this.Li&&(!this.nn.yv().qt().W().handleScale.axisPressedMouseMove.price||this.Li.ph()||this.Li.Co()||this.rp(1))}},{key:"Fv",value:function(t){this.rp(0)}},{key:"qv",value:function(){var t=this,e=[],n=null===this.Li?void 0:this.Li;return function(i){for(var r=0;r<i.length;++r)for(var o=i[r].Rn(t.nn.Kv(),n),a=0;a<o.length;a++)e.push(o[a])}(this.nn.Kv().No()),e}},{key:"Jv",value:function(t){var e=t.context,n=t.bitmapSize,i=n.width,r=n.height,o=this.nn.Kv().qt(),a=o.q(),s=o.od();a===s?vt(e,0,0,i,r,a):gt(e,0,0,i,r,a,s)}},{key:"Be",value:function(t){var e=t.context,n=t.bitmapSize,i=t.horizontalPixelRatio;if(null!==this.wv&&null!==this.Li&&this.Li.W().borderVisible){e.fillStyle=this.Li.W().borderColor;var r,o=Math.max(1,Math.floor(this.Hv().C*i));r=this.Tv?n.width-o:0,e.fillRect(r,0,o,n.height)}}},{key:"tp",value:function(t){var e=this;if(null!==this.wv&&null!==this.Li){var n=this.Li.Ea(),i=this.Li.W(),r=this.Hv(),o=this.Tv?this.wv.width-r.T:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace((function(t){var e=t.context,s=t.horizontalPixelRatio,u=t.verticalPixelRatio;e.fillStyle=i.borderColor;var l=Math.max(1,Math.floor(u)),c=Math.floor(.5*u),h=Math.round(r.T*s);e.beginPath();var f,d=(0,a.Z)(n);try{for(d.s();!(f=d.n()).done;){var v=f.value;e.rect(Math.floor(o*s),Math.round(v.Aa*u)-c,h,l)}}catch(p){d.e(p)}finally{d.f()}e.fill()})),t.useMediaCoordinateSpace((function(t){var a,s=t.context;s.font=e.Uv(),s.fillStyle=null!==(a=i.textColor)&&void 0!==a?a:e.mo.textColor,s.textAlign=e.Tv?"right":"left",s.textBaseline="middle";for(var u=e.Tv?Math.round(o-r.B):Math.round(o+r.T+r.B),l=n.map((function(t){return e.Mv.xi(s,t.Za)})),c=n.length;c--;){var h=n[c];s.fillText(h.Za,u,h.Aa+l[c])}}))}}},{key:"Gv",value:function(){if(null!==this.wv&&null!==this.Li){var t=this.wv.height/2,e=[],n=this.Li.No().slice(),i=this.nn.Kv(),r=this.Hv();this.Li===i.vr()&&this.nn.Kv().No().forEach((function(t){i.dr(t)&&n.push(t)}));var o=this.Li.Ta()[0],a=this.Li;n.forEach((function(n){var r=n.Rn(i,a);r.forEach((function(t){t.Vi(null),t.Bi()&&e.push(t)})),o===n&&r.length>0&&(t=r[0].yi())})),e.forEach((function(t){return t.Vi(t.yi())})),this.Li.W().alignLabels&&this.hp(e,r,t)}}},{key:"hp",value:function(t,e,n){if(null!==this.wv){var i=t.filter((function(t){return t.yi()<=n})),r=t.filter((function(t){return t.yi()>n}));i.sort((function(t,e){return e.yi()-t.yi()})),i.length&&r.length&&r.push(i[0]),r.sort((function(t,e){return t.yi()-e.yi()}));var o,s=(0,a.Z)(t);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=Math.floor(u.zt(e)/2),c=u.yi();c>-l&&c<l&&u.Vi(l),c>this.wv.height-l&&c<this.wv.height+l&&u.Vi(this.wv.height-l)}}catch(x){s.e(x)}finally{s.f()}for(var h=1;h<i.length;h++){var f=i[h],d=i[h-1],v=d.zt(e,!1),p=f.yi(),y=d.Ai();p>y-v&&f.Vi(y-v)}for(var m=1;m<r.length;m++){var g=r[m],w=r[m-1],b=w.zt(e,!0),k=g.yi(),_=w.Ai();k<_+b&&g.Vi(_+b)}}}},{key:"ip",value:function(t){var e=this;if(null!==this.wv){var n=this.qv(),i=this.Hv(),r=this.Tv?"right":"left";n.forEach((function(n){n.Ii()&&n.xt(N(e.Li)).K(t,i,e.Mv,r)}))}}},{key:"np",value:function(t){var e=this;if(null!==this.wv&&null!==this.Li){var n=this.nn.yv().qt(),i=[],r=this.nn.Kv(),o=n.Fc().Rn(r,this.Li);o.length&&i.push(o);var a=this.Hv(),s=this.Tv?"right":"left";i.forEach((function(n){n.forEach((function(n){n.xt(N(e.Li)).K(t,a,e.Mv,s)}))}))}}},{key:"rp",value:function(t){this.Ov.style.cursor=1===t?"ns-resize":"default"}},{key:"ao",value:function(){var t=this.$v();this.xv<t&&this.nn.yv().qt().$l(),this.xv=t}},{key:"Uv",value:function(){return nt(this.mo.fontSize,this.mo.fontFamily)}}]),t}();function Ni(t,e){var n,i;return null!==(i=null===(n=t.ra)||void 0===n?void 0:n.call(t,e))&&void 0!==i?i:[]}function Di(t,e){var n,i;return null!==(i=null===(n=t.Pn)||void 0===n?void 0:n.call(t,e))&&void 0!==i?i:[]}function Pi(t,e){var n,i;return null!==(i=null===(n=t.Qi)||void 0===n?void 0:n.call(t,e))&&void 0!==i?i:[]}function Fi(t,e){var n,i;return null!==(i=null===(n=t.na)||void 0===n?void 0:n.call(t,e))&&void 0!==i?i:[]}var Bi=function(){function t(e,n){var i=this;(0,h.Z)(this,t),this.wv=d({width:0,height:0}),this.lp=null,this.ap=null,this.op=null,this._p=!1,this.up=new H,this.cp=new H,this.dp=0,this.fp=!1,this.vp=null,this.pp=!1,this.mp=null,this.bp=null,this.Sv=!1,this.kv=function(){i.Sv||null===i.wp||i.Ui().Fh()},this.Cv=function(){i.Sv||null===i.wp||i.Ui().Fh()},this.gp=e,this.wp=n,this.wp.I_().l(this.Mp.bind(this),this,!0),this.xp=document.createElement("td"),this.xp.style.padding="0",this.xp.style.position="relative";var r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.overflow="hidden",this.Sp=document.createElement("td"),this.Sp.style.padding="0",this.kp=document.createElement("td"),this.kp.style.padding="0",this.xp.appendChild(r),this.Av=ki(r,d({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.kv);var o=this.Av.canvasElement;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.Vv=ki(r,d({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.Cv);var a=this.Vv.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0",this.yp=document.createElement("tr"),this.yp.appendChild(this.Sp),this.yp.appendChild(this.xp),this.yp.appendChild(this.kp),this.Cp(),this.Wv=new Ei(this.Vv.canvasElement,this,{Nf:function(){return null===i.vp&&!i.gp.W().handleScroll.vertTouchDrag},Ff:function(){return null===i.vp&&!i.gp.W().handleScroll.horzTouchDrag}})}return(0,f.Z)(t,[{key:"S",value:function(){null!==this.lp&&this.lp.S(),null!==this.ap&&this.ap.S(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.Cv),this.Vv.dispose(),this.Av.unsubscribeSuggestedBitmapSizeChanged(this.kv),this.Av.dispose(),null!==this.wp&&this.wp.I_().p(this),this.Wv.S()}},{key:"Kv",value:function(){return N(this.wp)}},{key:"Tp",value:function(e){null!==this.wp&&this.wp.I_().p(this),this.wp=e,null!==this.wp&&this.wp.I_().l(t.prototype.Mp.bind(this),this,!0),this.Cp()}},{key:"yv",value:function(){return this.gp}},{key:"jv",value:function(){return this.yp}},{key:"Cp",value:function(){if(null!==this.wp&&(this.Pp(),0!==this.Ui().Mt().length)){if(null!==this.lp){var t=this.wp.S_();this.lp.Ji(N(t))}if(null!==this.ap){var e=this.wp.k_();this.ap.Ji(N(e))}}}},{key:"Rp",value:function(){null!==this.lp&&this.lp.gt(),null!==this.ap&&this.ap.gt()}},{key:"v_",value:function(){return null!==this.wp?this.wp.v_():0}},{key:"p_",value:function(t){this.wp&&this.wp.p_(t)}},{key:"Bf",value:function(t){if(this.wp){this.Dp();var e=t.localX,n=t.localY;this.Op(e,n,t)}}},{key:"Qf",value:function(t){this.Dp(),this.Ap(),this.Op(t.localX,t.localY,t)}},{key:"If",value:function(t){var e;if(this.wp){this.Dp();var n=t.localX,i=t.localY;this.Op(n,i,t);var r=this.br(n,i);this.gp.Vp(null!==(e=null==r?void 0:r.bv)&&void 0!==e?e:null),this.Ui().Bc(r&&{Ic:r.Ic,pv:r.pv})}}},{key:"Xf",value:function(t){null!==this.wp&&(this.Dp(),this.Bp(t))}},{key:"Tf",value:function(t){null!==this.wp&&this.Ip(this.cp,t)}},{key:"Sf",value:function(t){this.Tf(t)}},{key:"Hf",value:function(t){this.Dp(),this.zp(t),this.Op(t.localX,t.localY,t)}},{key:"Yf",value:function(t){null!==this.wp&&(this.Dp(),this.fp=!1,this.Ep(t))}},{key:"qf",value:function(t){null!==this.wp&&this.Bp(t)}},{key:"_v",value:function(t){if(this.fp=!0,null===this.vp){var e={x:t.localX,y:t.localY};this.Lp(e,e,t)}}},{key:"ov",value:function(t){null!==this.wp&&(this.Dp(),this.wp.qt().Bc(null),this.Np())}},{key:"Fp",value:function(){return this.up}},{key:"Wp",value:function(){return this.cp}},{key:"sv",value:function(){this.dp=1,this.Ui().Un()}},{key:"ev",value:function(t,e){if(this.gp.W().handleScale.pinch){var n=5*(e-this.dp);this.dp=e,this.Ui().Uc(t.et,n)}}},{key:"Gf",value:function(t){this.fp=!1,this.pp=null!==this.vp,this.Ap();var e=this.Ui().Fc();null!==this.vp&&e.Tt()&&(this.mp={x:e.Kt(),y:e.Zt()},this.vp={x:t.localX,y:t.localY})}},{key:"Wf",value:function(t){if(null!==this.wp){var e=t.localX,n=t.localY;if(null===this.vp)this.zp(t);else{this.pp=!1;var i=N(this.mp),r=i.x+(e-this.vp.x),o=i.y+(n-this.vp.y);this.Op(r,o,t)}}}},{key:"Uf",value:function(t){0===this.yv().W().trackingMode.exitMode&&(this.pp=!0),this.jp(),this.Ep(t)}},{key:"br",value:function(t,e){var n=this.wp;return null===n?null:function(t,e,n){var i=t.No(),r=function(t,e,n){var i,r,o,s,u,l,c,h=(0,a.Z)(t);try{for(h.s();!(u=h.n()).done;){var f,d=u.value,v=null!==(r=null===(i=d.oa)||void 0===i?void 0:i.call(d,e,n))&&void 0!==r?r:[],p=(0,a.Z)(v);try{for(p.s();!(f=p.n()).done;){var y=f.value;l=y.zOrder,(!(c=null==o?void 0:o.zOrder)||"top"===l&&"top"!==c||"normal"===l&&"bottom"===c)&&(o=y,s=d)}}catch(m){p.e(m)}finally{p.f()}}}catch(m){h.e(m)}finally{h.f()}return o&&s?{mv:o,Ic:s}:null}(i,e,n);if("top"===(null==r?void 0:r.mv.zOrder))return Mi(r);var o,s=(0,a.Z)(i);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(r&&r.Ic===u&&"bottom"!==r.mv.zOrder&&!r.mv.isBackground)return Mi(r);var l=Ii(u.Pn(t),e,n);if(null!==l)return{Ic:u,fv:l.fv,pv:l.pv};if(r&&r.Ic===u&&"bottom"!==r.mv.zOrder&&r.mv.isBackground)return Mi(r)}}catch(c){s.e(c)}finally{s.f()}return(null==r?void 0:r.mv)?Mi(r):null}(n,t,e)}},{key:"Hp",value:function(t,e){N("left"===e?this.lp:this.ap).Yv(d({width:t,height:this.wv.height}))}},{key:"$p",value:function(){return this.wv}},{key:"Yv",value:function(t){v(this.wv,t)||(this.wv=t,this.Sv=!0,this.Av.resizeCanvasElement(t),this.Vv.resizeCanvasElement(t),this.Sv=!1,this.xp.style.width=t.width+"px",this.xp.style.height=t.height+"px")}},{key:"Up",value:function(){var t=N(this.wp);t.x_(t.S_()),t.x_(t.k_());var e,n=(0,a.Z)(t.Ta());try{for(n.s();!(e=n.n()).done;){var i=e.value;if(t.dr(i)){var r=i.At();null!==r&&t.x_(r),i.On()}}}catch(o){n.e(o)}finally{n.f()}}},{key:"sp",value:function(){return this.Av.bitmapSize}},{key:"ep",value:function(t,e,n){var i=this.sp();i.width>0&&i.height>0&&t.drawImage(this.Av.canvasElement,e,n)}},{key:"Zv",value:function(t){var e=this;if(0!==t&&null!==this.wp){if(t>1&&this.Up(),null!==this.lp&&this.lp.Zv(t),null!==this.ap&&this.ap.Zv(t),1!==t){this.Av.applySuggestedBitmapSize();var n=w(this.Av);null!==n&&(n.useBitmapCoordinateSpace((function(t){e.Jv(t)})),this.wp&&(this.qp(n,Ni),this.Yp(n),this.Xp(n),this.qp(n,Di),this.qp(n,Pi)))}this.Vv.applySuggestedBitmapSize();var i=w(this.Vv);null!==i&&(i.useBitmapCoordinateSpace((function(t){var e=t.context,n=t.bitmapSize;e.clearRect(0,0,n.width,n.height)})),this.Kp(i),this.qp(i,Fi))}}},{key:"Zp",value:function(){return this.lp}},{key:"Gp",value:function(){return this.ap}},{key:"Qv",value:function(t,e){this.qp(t,e)}},{key:"Mp",value:function(){null!==this.wp&&this.wp.I_().p(this),this.wp=null}},{key:"Bp",value:function(t){this.Ip(this.up,t)}},{key:"Ip",value:function(t,e){var n=e.localX,i=e.localY;t.M()&&t.m(this.Ui().yt().Vu(n),{x:n,y:i},e)}},{key:"Jv",value:function(t){var e=t.context,n=t.bitmapSize,i=n.width,r=n.height,o=this.Ui(),a=o.q(),s=o.od();a===s?vt(e,0,0,i,r,s):gt(e,0,0,i,r,a,s)}},{key:"Yp",value:function(t){var e=N(this.wp).z_().Wh().xt();null!==e&&e.K(t,!1)}},{key:"Xp",value:function(t){var e=this.Ui().Nc();this.Jp(t,Di,_i,e),this.Jp(t,Di,xi,e)}},{key:"Kp",value:function(t){this.Jp(t,Di,xi,this.Ui().Fc())}},{key:"qp",value:function(t,e){var n,i=N(this.wp).No(),r=(0,a.Z)(i);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.Jp(t,e,_i,o)}}catch(c){r.e(c)}finally{r.f()}var s,u=(0,a.Z)(i);try{for(u.s();!(s=u.n()).done;){var l=s.value;this.Jp(t,e,xi,l)}}catch(c){u.e(c)}finally{u.f()}}},{key:"Jp",value:function(t,e,n,i){var r=N(this.wp),o=r.qt().Vc(),a=null!==o&&o.Ic===i,s=null!==o&&a&&void 0!==o.pv?o.pv.gr:void 0;Si(e,(function(e){return n(e,t,a,s)}),i,r)}},{key:"Pp",value:function(){if(null!==this.wp){var t=this.gp,e=this.wp.S_().W().visible,n=this.wp.k_().W().visible;e||null===this.lp||(this.Sp.removeChild(this.lp.jv()),this.lp.S(),this.lp=null),n||null===this.ap||(this.kp.removeChild(this.ap.jv()),this.ap.S(),this.ap=null);var i=t.qt().sd();e&&null===this.lp&&(this.lp=new Ri(this,t.W(),i,"left"),this.Sp.appendChild(this.lp.jv())),n&&null===this.ap&&(this.ap=new Ri(this,t.W(),i,"right"),this.kp.appendChild(this.ap.jv()))}}},{key:"Qp",value:function(t){return t.uv&&this.fp||null!==this.vp}},{key:"tm",value:function(t){return Math.max(0,Math.min(t,this.wv.width-1))}},{key:"im",value:function(t){return Math.max(0,Math.min(t,this.wv.height-1))}},{key:"Op",value:function(t,e,n){this.Ui().Jc(this.tm(t),this.im(e),n,N(this.wp))}},{key:"Np",value:function(){this.Ui().td()}},{key:"jp",value:function(){this.pp&&(this.vp=null,this.Np())}},{key:"Lp",value:function(t,e,n){this.vp=t,this.pp=!1,this.Op(e.x,e.y,n);var i=this.Ui().Fc();this.mp={x:i.Kt(),y:i.Zt()}}},{key:"Ui",value:function(){return this.gp.qt()}},{key:"Ep",value:function(t){if(this._p){var e=this.Ui(),n=this.Kv();if(e.D_(n,n.vn()),this.op=null,this._p=!1,e.Kc(),null!==this.bp){var i=performance.now(),r=e.yt();this.bp.Dr(r.Eu(),i),this.bp.Yu(i)||e.Xn(this.bp)}}}},{key:"Dp",value:function(){this.vp=null}},{key:"Ap",value:function(){if(this.wp){if(this.Ui().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)N(document.activeElement).blur();else{var t=document.getSelection();null!==t&&t.removeAllRanges()}!this.wp.vn().Fi()&&this.Ui().yt().Fi()}}},{key:"zp",value:function(t){if(null!==this.wp){var e=this.Ui(),n=e.yt();if(!n.Fi()){var i=this.gp.W(),r=i.handleScroll,o=i.kineticScroll;if(r.pressedMouseMove&&!t.uv||(r.horzTouchDrag||r.vertTouchDrag)&&t.uv){var a=this.wp.vn(),s=performance.now();if(null!==this.op||this.Qp(t)||(this.op={x:t.clientX,y:t.clientY,kd:s,nm:t.localX,sm:t.localY}),null!==this.op&&!this._p&&(this.op.x!==t.clientX||this.op.y!==t.clientY)){if(t.uv&&o.touch||!t.uv&&o.mouse){var u=n.he();this.bp=new bi(.2/u,7/u,.997,15/u),this.bp.Nd(n.Eu(),this.op.kd)}else this.bp=null;a.Fi()||e.P_(this.wp,a,t.localY),e.Yc(t.localX),this._p=!0}this._p&&(a.Fi()||e.R_(this.wp,a,t.localY),e.Xc(t.localX),null!==this.bp&&this.bp.Nd(n.Eu(),s))}}}}}]),t}(),Vi=function(){function t(e,n,i,r,o){var a=this;(0,h.Z)(this,t),this.bt=!0,this.wv=d({width:0,height:0}),this.kv=function(){return a.Zv(3)},this.Tv="left"===e,this.kc=i.sd,this.cn=n,this.rm=r,this.hm=o,this.Ov=document.createElement("div"),this.Ov.style.width="25px",this.Ov.style.height="100%",this.Ov.style.overflow="hidden",this.Av=ki(this.Ov,d({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.kv)}return(0,f.Z)(t,[{key:"S",value:function(){this.Av.unsubscribeSuggestedBitmapSizeChanged(this.kv),this.Av.dispose()}},{key:"jv",value:function(){return this.Ov}},{key:"$p",value:function(){return this.wv}},{key:"Yv",value:function(t){v(this.wv,t)||(this.wv=t,this.Av.resizeCanvasElement(t),this.Ov.style.width="".concat(t.width,"px"),this.Ov.style.height="".concat(t.height,"px"),this.bt=!0)}},{key:"Zv",value:function(t){var e=this;if((!(t<3)||this.bt)&&0!==this.wv.width&&0!==this.wv.height){this.bt=!1,this.Av.applySuggestedBitmapSize();var n=w(this.Av);null!==n&&n.useBitmapCoordinateSpace((function(t){e.Jv(t),e.Be(t)}))}}},{key:"sp",value:function(){return this.Av.bitmapSize}},{key:"ep",value:function(t,e,n){var i=this.sp();i.width>0&&i.height>0&&t.drawImage(this.Av.canvasElement,e,n)}},{key:"Be",value:function(t){var e=t.context,n=t.bitmapSize,i=t.horizontalPixelRatio,r=t.verticalPixelRatio;if(this.rm()){e.fillStyle=this.cn.timeScale.borderColor;var o=Math.floor(this.kc.W().C*i),a=Math.floor(this.kc.W().C*r),s=this.Tv?n.width-o:0;e.fillRect(s,0,o,a)}}},{key:"Jv",value:function(t){var e=t.context,n=t.bitmapSize;vt(e,0,0,n.width,n.height,this.hm())}}]),t}();function Ui(t){return function(e){var n,i;return null!==(i=null===(n=e.aa)||void 0===n?void 0:n.call(e,t))&&void 0!==i?i:[]}}var zi,ji=Ui("normal"),qi=Ui("top"),Wi=Ui("bottom"),Hi=function(){function t(e,n){var i=this;(0,h.Z)(this,t),this.lm=null,this.am=null,this.k=null,this.om=!1,this.wv=d({width:0,height:0}),this._m=new H,this.Mv=new we(5),this.Sv=!1,this.kv=function(){i.Sv||i.gp.qt().Fh()},this.Cv=function(){i.Sv||i.gp.qt().Fh()},this.gp=e,this.N_=n,this.cn=e.W().layout,this.um=document.createElement("tr"),this.dm=document.createElement("td"),this.dm.style.padding="0",this.fm=document.createElement("td"),this.fm.style.padding="0",this.Ov=document.createElement("td"),this.Ov.style.height="25px",this.Ov.style.padding="0",this.vm=document.createElement("div"),this.vm.style.width="100%",this.vm.style.height="100%",this.vm.style.position="relative",this.vm.style.overflow="hidden",this.Ov.appendChild(this.vm),this.Av=ki(this.vm,d({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.kv);var r=this.Av.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Vv=ki(this.vm,d({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.Cv);var o=this.Vv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0",this.um.appendChild(this.dm),this.um.appendChild(this.Ov),this.um.appendChild(this.fm),this.pm(),this.gp.qt().f_().l(this.pm.bind(this),this),this.Wv=new Ei(this.Vv.canvasElement,this,{Nf:function(){return!0},Ff:function(){return!i.gp.W().handleScroll.horzTouchDrag}})}return(0,f.Z)(t,[{key:"S",value:function(){this.Wv.S(),null!==this.lm&&this.lm.S(),null!==this.am&&this.am.S(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.Cv),this.Vv.dispose(),this.Av.unsubscribeSuggestedBitmapSizeChanged(this.kv),this.Av.dispose()}},{key:"jv",value:function(){return this.um}},{key:"bm",value:function(){return this.lm}},{key:"wm",value:function(){return this.am}},{key:"Qf",value:function(t){if(!this.om){this.om=!0;var e=this.gp.qt();!e.yt().Fi()&&this.gp.W().handleScale.axisPressedMouseMove.time&&e.$c(t.localX)}}},{key:"Gf",value:function(t){this.Qf(t)}},{key:"tv",value:function(){var t=this.gp.qt();!t.yt().Fi()&&this.om&&(this.om=!1,this.gp.W().handleScale.axisPressedMouseMove.time&&t.Gc())}},{key:"Hf",value:function(t){var e=this.gp.qt();!e.yt().Fi()&&this.gp.W().handleScale.axisPressedMouseMove.time&&e.Zc(t.localX)}},{key:"Wf",value:function(t){this.Hf(t)}},{key:"Yf",value:function(){this.om=!1;var t=this.gp.qt();t.yt().Fi()&&!this.gp.W().handleScale.axisPressedMouseMove.time||t.Gc()}},{key:"Uf",value:function(){this.Yf()}},{key:"Tf",value:function(){this.gp.W().handleScale.axisDoubleClickReset.time&&this.gp.qt().Zn()}},{key:"Sf",value:function(){this.Tf()}},{key:"Bf",value:function(){this.gp.qt().W().handleScale.axisPressedMouseMove.time&&this.rp(1)}},{key:"ov",value:function(){this.rp(0)}},{key:"$p",value:function(){return this.wv}},{key:"gm",value:function(){return this._m}},{key:"Mm",value:function(t,e,n){v(this.wv,t)||(this.wv=t,this.Sv=!0,this.Av.resizeCanvasElement(t),this.Vv.resizeCanvasElement(t),this.Sv=!1,this.Ov.style.width="".concat(t.width,"px"),this.Ov.style.height="".concat(t.height,"px"),this._m.m(t)),null!==this.lm&&this.lm.Yv(d({width:e,height:t.height})),null!==this.am&&this.am.Yv(d({width:n,height:t.height}))}},{key:"xm",value:function(){var t=this.Sm();return Math.ceil(t.C+t.T+t.P+t.L+t.V+t.km)}},{key:"gt",value:function(){this.gp.qt().yt().Ea()}},{key:"sp",value:function(){return this.Av.bitmapSize}},{key:"ep",value:function(t,e,n){var i=this.sp();i.width>0&&i.height>0&&t.drawImage(this.Av.canvasElement,e,n)}},{key:"Zv",value:function(t){var e=this;if(0!==t){if(1!==t){this.Av.applySuggestedBitmapSize();var n=w(this.Av);null!==n&&(n.useBitmapCoordinateSpace((function(t){e.Jv(t),e.Be(t),e.ym(n,Wi)})),this.tp(n),this.ym(n,ji)),null!==this.lm&&this.lm.Zv(t),null!==this.am&&this.am.Zv(t)}this.Vv.applySuggestedBitmapSize();var i=w(this.Vv);null!==i&&(i.useBitmapCoordinateSpace((function(t){var e=t.context,n=t.bitmapSize;e.clearRect(0,0,n.width,n.height)})),this.Cm([].concat((0,c.Z)(this.gp.qt().Mt()),[this.gp.qt().Fc()]),i),this.ym(i,qi))}}},{key:"ym",value:function(t,e){var n,i=this.gp.qt().Mt(),r=(0,a.Z)(i);try{for(r.s();!(n=r.n()).done;){Si(e,(function(e){return _i(e,t,!1,void 0)}),n.value,void 0)}}catch(u){r.e(u)}finally{r.f()}var o,s=(0,a.Z)(i);try{for(s.s();!(o=s.n()).done;){Si(e,(function(e){return xi(e,t,!1,void 0)}),o.value,void 0)}}catch(u){s.e(u)}finally{s.f()}}},{key:"Jv",value:function(t){var e=t.context,n=t.bitmapSize;vt(e,0,0,n.width,n.height,this.gp.qt().od())}},{key:"Be",value:function(t){var e=t.context,n=t.bitmapSize,i=t.verticalPixelRatio;if(this.gp.W().timeScale.borderVisible){e.fillStyle=this.Tm();var r=Math.max(1,Math.floor(this.Sm().C*i));e.fillRect(0,0,n.width,r)}}},{key:"tp",value:function(t){var e=this,n=this.gp.qt().yt(),i=n.Ea();if(i&&0!==i.length){var r=this.N_.maxTickMarkWeight(i),o=this.Sm(),s=n.W();s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace((function(t){var n=t.context,r=t.horizontalPixelRatio,a=t.verticalPixelRatio;n.strokeStyle=e.Tm(),n.fillStyle=e.Tm();var s=Math.max(1,Math.floor(r)),u=Math.floor(.5*r);n.beginPath();for(var l=Math.round(o.T*a),c=i.length;c--;){var h=Math.round(i[c].coord*r);n.rect(h-u,0,s,l)}n.fill()})),t.useMediaCoordinateSpace((function(t){var n=t.context,s=o.C+o.T+o.L+o.P/2;n.textAlign="center",n.textBaseline="middle",n.fillStyle=e.$(),n.font=e.Uv();var u,l=(0,a.Z)(i);try{for(l.s();!(u=l.n()).done;){var c=u.value;if(c.weight<r){var h=c.needAlignCoordinate?e.Pm(n,c.coord,c.label):c.coord;n.fillText(c.label,h,s)}}}catch(y){l.e(y)}finally{l.f()}n.font=e.Rm();var f,d=(0,a.Z)(i);try{for(d.s();!(f=d.n()).done;){var v=f.value;if(v.weight>=r){var p=v.needAlignCoordinate?e.Pm(n,v.coord,v.label):v.coord;n.fillText(v.label,p,s)}}}catch(y){d.e(y)}finally{d.f()}}))}}},{key:"Pm",value:function(t,e,n){var i=this.Mv.Si(t,n),r=i/2,o=Math.floor(e-r)+.5;return o<0?e+=Math.abs(0-o):o+i>this.wv.width&&(e-=Math.abs(this.wv.width-(o+i))),e}},{key:"Cm",value:function(t,e){var n,i=this.Sm(),r=(0,a.Z)(t);try{for(r.s();!(n=r.n()).done;){var o,s=n.value,u=(0,a.Z)(s.tn());try{for(u.s();!(o=u.n()).done;){o.value.xt().K(e,i)}}catch(l){u.e(l)}finally{u.f()}}}catch(l){r.e(l)}finally{r.f()}}},{key:"Tm",value:function(){return this.gp.W().timeScale.borderColor}},{key:"$",value:function(){return this.cn.textColor}},{key:"j",value:function(){return this.cn.fontSize}},{key:"Uv",value:function(){return nt(this.j(),this.cn.fontFamily)}},{key:"Rm",value:function(){return nt(this.j(),this.cn.fontFamily,"bold")}},{key:"Sm",value:function(){null===this.k&&(this.k={C:1,N:NaN,L:NaN,V:NaN,Hi:NaN,T:5,P:NaN,R:"",ji:new we,km:0});var t=this.k,e=this.Uv();if(t.R!==e){var n=this.j();t.P=n,t.R=e,t.L=3*n/12,t.V=3*n/12,t.Hi=9*n/12,t.N=0,t.km=4*n/12,t.ji.ir()}return this.k}},{key:"rp",value:function(t){this.Ov.style.cursor=1===t?"ew-resize":"default"}},{key:"pm",value:function(){var t=this.gp.qt(),e=t.W();e.leftPriceScale.visible||null===this.lm||(this.dm.removeChild(this.lm.jv()),this.lm.S(),this.lm=null),e.rightPriceScale.visible||null===this.am||(this.fm.removeChild(this.am.jv()),this.am.S(),this.am=null);var n={sd:this.gp.qt().sd()},i=function(){return e.leftPriceScale.borderVisible&&t.yt().W().borderVisible},r=function(){return t.od()};e.leftPriceScale.visible&&null===this.lm&&(this.lm=new Vi("left",e,n,i,r),this.dm.appendChild(this.lm.jv())),e.rightPriceScale.visible&&null===this.am&&(this.am=new Vi("right",e,n,i,r),this.fm.appendChild(this.am.jv()))}}]),t}(),Ki=!!vi&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((function(t){return t.brand.includes("Chromium")}))&&!!vi&&((null===(zi=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===zi?void 0:zi.platform)?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0),Gi=function(){function t(e,n,i){var r;(0,h.Z)(this,t),this.Dm=[],this.Om=0,this.Qa=0,this.e_=0,this.Am=0,this.Vm=0,this.Bm=null,this.Im=!1,this.up=new H,this.cp=new H,this.Mc=new H,this.zm=null,this.Em=null,this.Lm=e,this.cn=n,this.N_=i,this.um=document.createElement("div"),this.um.classList.add("tv-lightweight-charts"),this.um.style.overflow="hidden",this.um.style.direction="ltr",this.um.style.width="100%",this.um.style.height="100%",(r=this.um).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.Nm=document.createElement("table"),this.Nm.setAttribute("cellspacing","0"),this.um.appendChild(this.Nm),this.Fm=this.Wm.bind(this),Qi(this.cn)&&this.jm(!0),this.Ui=new Jn(this.Sc.bind(this),this.cn,i),this.qt().Wc().l(this.Hm.bind(this),this),this.$m=new Hi(this,this.N_),this.Nm.appendChild(this.$m.jv());var o=n.autoSize&&this.Um(),a=this.cn.width,s=this.cn.height;if(o||0===a||0===s){var u=e.getBoundingClientRect();a=a||u.width,s=s||u.height}this.qm(a,s),this.Ym(),e.appendChild(this.um),this.Xm(),this.Ui.yt().Gu().l(this.Ui.$l.bind(this.Ui),this),this.Ui.f_().l(this.Ui.$l.bind(this.Ui),this)}return(0,f.Z)(t,[{key:"qt",value:function(){return this.Ui}},{key:"W",value:function(){return this.cn}},{key:"Km",value:function(){return this.Dm}},{key:"Zm",value:function(){return this.$m}},{key:"S",value:function(){this.jm(!1),0!==this.Om&&window.cancelAnimationFrame(this.Om),this.Ui.Wc().p(this),this.Ui.yt().Gu().p(this),this.Ui.f_().p(this),this.Ui.S();var t,e=(0,a.Z)(this.Dm);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.Nm.removeChild(n.jv()),n.Fp().p(this),n.Wp().p(this),n.S()}}catch(i){e.e(i)}finally{e.f()}this.Dm=[],N(this.$m).S(),null!==this.um.parentElement&&this.um.parentElement.removeChild(this.um),this.Mc.S(),this.up.S(),this.cp.S(),this.Gm()}},{key:"qm",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.Qa!==e||this.e_!==t){var i=function(t){var e=Math.floor(t.width),n=Math.floor(t.height);return d({width:e-e%2,height:n-n%2})}(d({width:t,height:e}));this.Qa=i.height,this.e_=i.width;var r=this.Qa+"px",o=this.e_+"px";N(this.um).style.height=r,N(this.um).style.width=o,this.Nm.style.height=r,this.Nm.style.width=o,n?this.Jm(Ot.es(),performance.now()):this.Ui.$l()}}},{key:"Zv",value:function(t){void 0===t&&(t=Ot.es());for(var e=0;e<this.Dm.length;e++)this.Dm[e].Zv(t.Hn(e).Fn);this.cn.timeScale.visible&&this.$m.Zv(t.jn())}},{key:"Nh",value:function(t){var e=Qi(this.cn);this.Ui.Nh(t);var n=Qi(this.cn);n!==e&&this.jm(n),this.Xm(),this.Qm(t)}},{key:"Fp",value:function(){return this.up}},{key:"Wp",value:function(){return this.cp}},{key:"Wc",value:function(){return this.Mc}},{key:"tb",value:function(){null!==this.Bm&&(this.Jm(this.Bm,performance.now()),this.Bm=null);var t=this.ib(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=N(e.getContext("2d"));return this.ib(n),e}},{key:"nb",value:function(t){return("left"!==t||this.sb())&&("right"!==t||this.eb())?0===this.Dm.length?0:N("left"===t?this.Dm[0].Zp():this.Dm[0].Gp()).Xv():0}},{key:"rb",value:function(){return this.cn.autoSize&&null!==this.zm}},{key:"hb",value:function(){return this.um}},{key:"Vp",value:function(t){this.Em=t,this.Em?this.hb().style.setProperty("cursor",t):this.hb().style.removeProperty("cursor")}},{key:"lb",value:function(){return this.Em}},{key:"ab",value:function(){return R(this.Dm[0]).$p()}},{key:"Qm",value:function(t){(void 0!==t.autoSize||!this.zm||void 0===t.width&&void 0===t.height)&&(t.autoSize&&!this.zm&&this.Um(),!1===t.autoSize&&null!==this.zm&&this.Gm(),t.autoSize||void 0===t.width&&void 0===t.height||this.qm(t.width||this.e_,t.height||this.Qa))}},{key:"ib",value:function(t){var e=this,n=0,i=0,r=this.Dm[0],o=function(n,i){for(var r=0,o=0;o<e.Dm.length;o++){var a=e.Dm[o],s=N("left"===n?a.Zp():a.Gp()),u=s.sp();null!==t&&s.ep(t,i,r),r+=u.height}};this.sb()&&(o("left",0),n+=N(r.Zp()).sp().width);for(var a=0;a<this.Dm.length;a++){var s=this.Dm[a],u=s.sp();null!==t&&s.ep(t,n,i),i+=u.height}n+=r.sp().width,this.eb()&&(o("right",n),n+=N(r.Gp()).sp().width);var l=function(n,i,r){N("left"===n?e.$m.bm():e.$m.wm()).ep(N(t),i,r)};if(this.cn.timeScale.visible){var c=this.$m.sp();if(null!==t){var h=0;this.sb()&&(l("left",h,i),h=N(r.Zp()).sp().width),this.$m.ep(t,h,i),h+=c.width,this.eb()&&l("right",h,i)}i+=c.height}return d({width:n,height:i})}},{key:"ob",value:function(){var t,e=0,n=0,i=0,r=(0,a.Z)(this.Dm);try{for(r.s();!(t=r.n()).done;){var o=t.value;this.sb()&&(n=Math.max(n,N(o.Zp()).$v(),this.cn.leftPriceScale.minimumWidth)),this.eb()&&(i=Math.max(i,N(o.Gp()).$v(),this.cn.rightPriceScale.minimumWidth)),e+=o.v_()}}catch(_){r.e(_)}finally{r.f()}n=mi(n),i=mi(i);for(var s,u=this.e_,l=this.Qa,c=Math.max(u-n-i,0),h=this.cn.timeScale.visible,f=h?Math.max(this.$m.xm(),this.cn.timeScale.minimumHeight):0,v=0+(f=(s=f)+s%2),p=l<v?0:l-v,y=p/e,m=0,g=0;g<this.Dm.length;++g){var w=this.Dm[g];w.Tp(this.Ui.Lc()[g]);var b,k;k=g===this.Dm.length-1?p-m:Math.round(w.v_()*y),m+=b=Math.max(k,2),w.Yv(d({width:c,height:b})),this.sb()&&w.Hp(n,"left"),this.eb()&&w.Hp(i,"right"),w.Kv()&&this.Ui.jc(w.Kv(),b)}this.$m.Mm(d({width:h?c:0,height:f}),h?n:0,h?i:0),this.Ui.m_(c),this.Am!==n&&(this.Am=n),this.Vm!==i&&(this.Vm=i)}},{key:"jm",value:function(t){t?this.um.addEventListener("wheel",this.Fm,{passive:!1}):this.um.removeEventListener("wheel",this.Fm)}},{key:"_b",value:function(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return Ki?1/window.devicePixelRatio:1}},{key:"Wm",value:function(t){if(0!==t.deltaX&&this.cn.handleScroll.mouseWheel||0!==t.deltaY&&this.cn.handleScale.mouseWheel){var e=this._b(t),n=e*t.deltaX/100,i=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==i&&this.cn.handleScale.mouseWheel){var r=Math.sign(i)*Math.min(1,Math.abs(i)),o=t.clientX-this.um.getBoundingClientRect().left;this.qt().Uc(o,r)}0!==n&&this.cn.handleScroll.mouseWheel&&this.qt().qc(-80*n)}}},{key:"Jm",value:function(t,e){var n,i=t.jn();3===i&&this.ub(),3!==i&&2!==i||(this.cb(t),this.fb(t,e),this.$m.gt(),this.Dm.forEach((function(t){t.Rp()})),3===(null===(n=this.Bm)||void 0===n?void 0:n.jn())&&(this.Bm.ts(t),this.ub(),this.cb(this.Bm),this.fb(this.Bm,e),t=this.Bm,this.Bm=null)),this.Zv(t)}},{key:"fb",value:function(t,e){var n,i=(0,a.Z)(t.Qn());try{for(i.s();!(n=i.n()).done;){var r=n.value;this.ns(r,e)}}catch(o){i.e(o)}finally{i.f()}}},{key:"cb",value:function(t){for(var e=this.Ui.Lc(),n=0;n<e.length;n++)t.Hn(n).Wn&&e[n].V_()}},{key:"ns",value:function(t,e){var n=this.Ui.yt();switch(t.qn){case 0:n.Qu();break;case 1:n.tc(t.Vt);break;case 2:n.Gn(t.Vt);break;case 3:n.Jn(t.Vt);break;case 4:n.Fu();break;case 5:t.Vt.Yu(e)||n.Jn(t.Vt.Xu(e))}}},{key:"Sc",value:function(t){var e=this;null!==this.Bm?this.Bm.ts(t):this.Bm=t,this.Im||(this.Im=!0,this.Om=window.requestAnimationFrame((function(t){if(e.Im=!1,e.Om=0,null!==e.Bm){var n=e.Bm;e.Bm=null,e.Jm(n,t);var i,r=(0,a.Z)(n.Qn());try{for(r.s();!(i=r.n()).done;){var o=i.value;if(5===o.qn&&!o.Vt.Yu(t)){e.qt().Xn(o.Vt);break}}}catch(s){r.e(s)}finally{r.f()}}})))}},{key:"ub",value:function(){this.Ym()}},{key:"Ym",value:function(){for(var t=this.Ui.Lc(),e=t.length,n=this.Dm.length,i=e;i<n;i++){var r=R(this.Dm.pop());this.Nm.removeChild(r.jv()),r.Fp().p(this),r.Wp().p(this),r.S()}for(var o=n;o<e;o++){var a=new Bi(this,t[o]);a.Fp().l(this.vb.bind(this),this),a.Wp().l(this.pb.bind(this),this),this.Dm.push(a),this.Nm.insertBefore(a.jv(),this.$m.jv())}for(var s=0;s<e;s++){var u=t[s],l=this.Dm[s];l.Kv()!==u?l.Tp(u):l.Cp()}this.Xm(),this.ob()}},{key:"mb",value:function(t,e,n){var i,r,o=new Map;if(null!==t&&this.Ui.Mt().forEach((function(e){var n=e.In().nl(t);null!==n&&o.set(e,n)})),null!==t){var a=null===(i=this.Ui.yt().qi(t))||void 0===i?void 0:i.originalTime;void 0!==a&&(r=a)}var s=this.qt().Vc(),u=null!==s&&s.Ic instanceof dn?s.Ic:void 0,l=null!==s&&void 0!==s.pv?s.pv.wr:void 0;return{bb:r,se:null!=t?t:void 0,wb:null!=e?e:void 0,gb:u,Mb:o,xb:l,Sb:null!=n?n:void 0}}},{key:"vb",value:function(t,e,n){var i=this;this.up.m((function(){return i.mb(t,e,n)}))}},{key:"pb",value:function(t,e,n){var i=this;this.cp.m((function(){return i.mb(t,e,n)}))}},{key:"Hm",value:function(t,e,n){var i=this;this.Mc.m((function(){return i.mb(t,e,n)}))}},{key:"Xm",value:function(){var t=this.cn.timeScale.visible?"":"none";this.$m.jv().style.display=t}},{key:"sb",value:function(){return this.Dm[0].Kv().S_().W().visible}},{key:"eb",value:function(){return this.Dm[0].Kv().k_().W().visible}},{key:"Um",value:function(){var t=this;return"ResizeObserver"in window&&(this.zm=new ResizeObserver((function(e){var n=e.find((function(e){return e.target===t.Lm}));n&&t.qm(n.contentRect.width,n.contentRect.height)})),this.zm.observe(this.Lm,{box:"border-box"}),!0)}},{key:"Gm",value:function(){null!==this.zm&&this.zm.disconnect(),this.zm=null}}]),t}();function Qi(t){return Boolean(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function $i(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function Ji(t,e,n,i){var r=n.value,o={se:e,ut:t,Vt:[r,r,r,r],bb:i};return void 0!==n.color&&(o.O=n.color),o}function Xi(t,e,n,i){var r=n.value,o={se:e,ut:t,Vt:[r,r,r,r],bb:i};return void 0!==n.lineColor&&(o._t=n.lineColor),void 0!==n.topColor&&(o.Ts=n.topColor),void 0!==n.bottomColor&&(o.Ps=n.bottomColor),o}function Yi(t,e,n,i){var r=n.value,o={se:e,ut:t,Vt:[r,r,r,r],bb:i};return void 0!==n.topLineColor&&(o.Pe=n.topLineColor),void 0!==n.bottomLineColor&&(o.Re=n.bottomLineColor),void 0!==n.topFillColor1&&(o.Se=n.topFillColor1),void 0!==n.topFillColor2&&(o.ke=n.topFillColor2),void 0!==n.bottomFillColor1&&(o.ye=n.bottomFillColor1),void 0!==n.bottomFillColor2&&(o.Ce=n.bottomFillColor2),o}function tr(t,e,n,i){var r={se:e,ut:t,Vt:[n.open,n.high,n.low,n.close],bb:i};return void 0!==n.color&&(r.O=n.color),r}function er(t,e,n,i){var r={se:e,ut:t,Vt:[n.open,n.high,n.low,n.close],bb:i};return void 0!==n.color&&(r.O=n.color),void 0!==n.borderColor&&(r.Bt=n.borderColor),void 0!==n.wickColor&&(r.$h=n.wickColor),r}function nr(t,e,n,i,r){var o=R(r)(n),a=Math.max.apply(Math,(0,c.Z)(o)),s=Math.min.apply(Math,(0,c.Z)(o)),u=o[o.length-1],l=[u,a,s,u],h=n,f=(h.time,h.color);return{se:e,ut:t,Vt:l,bb:i,He:$i(h,["time","color"]),O:f}}function ir(t){return void 0!==t.Vt}function rr(t,e){return void 0!==e.customValues&&(t.kb=e.customValues),t}function or(t){return function(e,n,i,r,o,a){return function(t,e){return e?e(t):void 0===(n=t).open&&void 0===n.value;var n}(i,a)?rr({ut:e,se:n,bb:r},i):rr(t(e,n,i,r,o),i)}}function ar(t){return{Candlestick:or(er),Bar:or(tr),Area:or(Xi),Baseline:or(Yi),Histogram:or(Ji),Line:or(Ji),Custom:or(nr)}[t]}function sr(t){return{se:0,yb:new Map,ia:t}}function ur(t,e){if(void 0!==t&&0!==t.length)return{Cb:e.key(t[0].ut),Tb:e.key(t[t.length-1].ut)}}function lr(t){var e;return t.forEach((function(t){void 0===e&&(e=t.bb)})),R(e)}var cr=function(){function t(e){(0,h.Z)(this,t),this.Pb=new Map,this.Rb=new Map,this.Db=new Map,this.Ob=[],this.N_=e}return(0,f.Z)(t,[{key:"S",value:function(){this.Pb.clear(),this.Rb.clear(),this.Db.clear(),this.Ob=[]}},{key:"Ab",value:function(t,e){var n=this,i=0!==this.Pb.size,r=!1,o=this.Rb.get(t);if(void 0!==o)if(1===this.Rb.size)i=!1,r=!0,this.Pb.clear();else{var s,u=(0,a.Z)(this.Ob);try{for(u.s();!(s=u.n()).done;){s.value.pointData.yb.delete(t)&&(r=!0)}}catch(m){u.e(m)}finally{u.f()}}var l=[];if(0!==e.length){var c=e.map((function(t){return t.time})),h=this.N_.createConverterToInternalObj(e),f=ar(t.Xh()),d=t.ga(),v=t.Ma();l=e.map((function(e,i){var o=h(e.time),a=n.N_.key(o),s=n.Pb.get(a);void 0===s&&(s=sr(o),n.Pb.set(a,s),r=!0);var u=f(o,s.se,e,c[i],d,v);return s.yb.set(t,u),u}))}i&&this.Vb(),this.Bb(t,l);var p=-1;if(r){var y=[];this.Pb.forEach((function(t){y.push({timeWeight:0,time:t.ia,pointData:t,originalTime:lr(t.yb)})})),y.sort((function(t,e){return n.N_.key(t.time)-n.N_.key(e.time)})),p=this.Ib(y)}return this.zb(t,p,function(t,e,n){var i=ur(t,n),r=ur(e,n);if(void 0!==i&&void 0!==r)return{Xl:i.Tb>=r.Tb&&i.Cb>=r.Cb}}(this.Rb.get(t),o,this.N_))}},{key:"hd",value:function(t){return this.Ab(t,[])}},{key:"Eb",value:function(t,e){var n=this,i=e;!function(t){void 0===t.bb&&(t.bb=t.time)}(i),this.N_.preprocessData(e);var r=this.N_.createConverterToInternalObj([e])(e.time),o=this.Db.get(t);if(void 0!==o&&this.N_.key(r)<this.N_.key(o))throw new Error("Cannot update oldest data, last time=".concat(o,", new time=").concat(r));var a=this.Pb.get(this.N_.key(r)),s=void 0===a;void 0===a&&(a=sr(r),this.Pb.set(this.N_.key(r),a));var u=ar(t.Xh()),l=t.ga(),c=t.Ma(),h=u(r,a.se,e,i.bb,l,c);a.yb.set(t,h),this.Lb(t,h);var f={Xl:ir(h)};if(!s)return this.zb(t,-1,f);var d={timeWeight:0,time:a.ia,pointData:a,originalTime:lr(a.yb)},v=$t(this.Ob,this.N_.key(d.time),(function(t,e){return n.N_.key(t.time)<e}));this.Ob.splice(v,0,d);for(var p=v;p<this.Ob.length;++p)hr(this.Ob[p].pointData,p);return this.N_.fillWeightsForPoints(this.Ob,v),this.zb(t,v,f)}},{key:"Lb",value:function(t,e){var n=this.Rb.get(t);void 0===n&&(n=[],this.Rb.set(t,n));var i=0!==n.length?n[n.length-1]:null;null===i||this.N_.key(e.ut)>this.N_.key(i.ut)?ir(e)&&n.push(e):ir(e)?n[n.length-1]=e:n.splice(-1,1),this.Db.set(t,e.ut)}},{key:"Bb",value:function(t,e){0!==e.length?(this.Rb.set(t,e.filter(ir)),this.Db.set(t,e[e.length-1].ut)):(this.Rb.delete(t),this.Db.delete(t))}},{key:"Vb",value:function(){var t,e=(0,a.Z)(this.Ob);try{for(e.s();!(t=e.n()).done;){var n=t.value;0===n.pointData.yb.size&&this.Pb.delete(this.N_.key(n.time))}}catch(i){e.e(i)}finally{e.f()}}},{key:"Ib",value:function(t){for(var e=-1,n=0;n<this.Ob.length&&n<t.length;++n){var i=this.Ob[n],r=t[n];if(this.N_.key(i.time)!==this.N_.key(r.time)){e=n;break}r.timeWeight=i.timeWeight,hr(r.pointData,n)}if(-1===e&&this.Ob.length!==t.length&&(e=Math.min(this.Ob.length,t.length)),-1===e)return-1;for(var o=e;o<t.length;++o)hr(t[o].pointData,o);return this.N_.fillWeightsForPoints(t,e),this.Ob=t,e}},{key:"Nb",value:function(){if(0===this.Rb.size)return null;var t=0;return this.Rb.forEach((function(e){0!==e.length&&(t=Math.max(t,e[e.length-1].se))})),t}},{key:"zb",value:function(t,e,n){var i={Fb:new Map,yt:{Au:this.Nb()}};if(-1!==e)this.Rb.forEach((function(e,r){i.Fb.set(r,{He:e,Wb:r===t?n:void 0})})),this.Rb.has(t)||i.Fb.set(t,{He:[],Wb:n}),i.yt.jb=this.Ob,i.yt.Hb=e;else{var r=this.Rb.get(t);i.Fb.set(t,{He:r||[],Wb:n})}return i}}]),t}();function hr(t,e){t.se=e,t.yb.forEach((function(t){t.se=e}))}function fr(t){var e={value:t.Vt[3],time:t.bb};return void 0!==t.kb&&(e.customValues=t.kb),e}function dr(t){var e=fr(t);return void 0!==t.O&&(e.color=t.O),e}function vr(t){var e=fr(t);return void 0!==t._t&&(e.lineColor=t._t),void 0!==t.Ts&&(e.topColor=t.Ts),void 0!==t.Ps&&(e.bottomColor=t.Ps),e}function pr(t){var e=fr(t);return void 0!==t.Pe&&(e.topLineColor=t.Pe),void 0!==t.Re&&(e.bottomLineColor=t.Re),void 0!==t.Se&&(e.topFillColor1=t.Se),void 0!==t.ke&&(e.topFillColor2=t.ke),void 0!==t.ye&&(e.bottomFillColor1=t.ye),void 0!==t.Ce&&(e.bottomFillColor2=t.Ce),e}function yr(t){var e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.bb};return void 0!==t.kb&&(e.customValues=t.kb),e}function mr(t){var e=yr(t);return void 0!==t.O&&(e.color=t.O),e}function gr(t){var e=yr(t),n=t.O,i=t.Bt,r=t.$h;return void 0!==n&&(e.color=n),void 0!==i&&(e.borderColor=i),void 0!==r&&(e.wickColor=r),e}function wr(t){return{Area:vr,Line:dr,Baseline:pr,Histogram:dr,Bar:mr,Candlestick:gr,Custom:br}[t]}function br(t){var e=t.bb;return Object.assign(Object.assign({},t.He),{time:e})}var kr={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},_r={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},xr={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:et},Sr={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},Er={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0},Cr={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:et,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function Tr(){return{width:0,height:0,autoSize:!1,layout:xr,crosshair:kr,grid:_r,overlayPriceScales:Object.assign({},Sr),leftPriceScale:Object.assign(Object.assign({},Sr),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Sr),{visible:!0}),timeScale:Er,watermark:Cr,localization:{locale:vi?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}var Ar=function(){function t(e,n){(0,h.Z)(this,t),this.$b=e,this.Ub=n}return(0,f.Z)(t,[{key:"applyOptions",value:function(t){this.$b.qt().zc(this.Ub,t)}},{key:"options",value:function(){return this.Li().W()}},{key:"width",value:function(){return At(this.Ub)?this.$b.nb(this.Ub):0}},{key:"Li",value:function(){return N(this.$b.qt().Ec(this.Ub)).At}}]),t}();function Or(t,e,n){var i=$i(t,["time","originalTime"]),r=Object.assign({time:e},i);return void 0!==n&&(r.originalTime=n),r}var Zr={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""},Mr=function(){function t(e){(0,h.Z)(this,t),this.Bh=e}return(0,f.Z)(t,[{key:"applyOptions",value:function(t){this.Bh.Nh(t)}},{key:"options",value:function(){return this.Bh.W()}},{key:"qb",value:function(){return this.Bh}}]),t}(),Ir=function(){function t(e,n,i,r,o){(0,h.Z)(this,t),this.Yb=new H,this.Es=e,this.Xb=n,this.Kb=i,this.N_=o,this.Zb=r}return(0,f.Z)(t,[{key:"S",value:function(){this.Yb.S()}},{key:"priceFormatter",value:function(){return this.Es.ca()}},{key:"priceToCoordinate",value:function(t){var e=this.Es.Pt();return null===e?null:this.Es.At().Ot(t,e.Vt)}},{key:"coordinateToPrice",value:function(t){var e=this.Es.Pt();return null===e?null:this.Es.At().pn(t,e.Vt)}},{key:"barsInLogicalRange",value:function(t){if(null===t)return null;var e=new Vn(new Pn(t.from,t.to)).iu(),n=this.Es.In();if(n.Fi())return null;var i=n.nl(e.Os(),1),r=n.nl(e.di(),-1),o=N(n.Qh()),a=N(n.Bn());if(null!==i&&null!==r&&i.se>r.se)return{barsBefore:t.from-o,barsAfter:a-t.to};var s={barsBefore:null===i||i.se===o?t.from-o:i.se-o,barsAfter:null===r||r.se===a?a-t.to:a-r.se};return null!==i&&null!==r&&(s.from=i.bb,s.to=r.bb),s}},{key:"setData",value:function(t){this.N_,this.Es.Xh(),this.Xb.Gb(this.Es,t),this.Jb("full")}},{key:"update",value:function(t){this.Es.Xh(),this.Xb.Qb(this.Es,t),this.Jb("update")}},{key:"dataByIndex",value:function(t,e){var n=this.Es.In().nl(t,e);return null===n?null:wr(this.seriesType())(n)}},{key:"data",value:function(){var t=wr(this.seriesType());return this.Es.In().ie().map((function(e){return t(e)}))}},{key:"subscribeDataChanged",value:function(t){this.Yb.l(t)}},{key:"unsubscribeDataChanged",value:function(t){this.Yb.v(t)}},{key:"setMarkers",value:function(t){var e=this;this.N_;var n=t.map((function(t){return Or(t,e.N_.convertHorzItemToInternal(t.time),t.time)}));this.Es.Zl(n)}},{key:"markers",value:function(){return this.Es.Gl().map((function(t){return Or(t,t.originalTime,void 0)}))}},{key:"applyOptions",value:function(t){this.Es.Nh(t)}},{key:"options",value:function(){return X(this.Es.W())}},{key:"priceScale",value:function(){return this.Kb.priceScale(this.Es.At().xa())}},{key:"createPriceLine",value:function(t){var e=K(X(Zr),t),n=this.Es.Jl(e);return new Mr(n)}},{key:"removePriceLine",value:function(t){this.Es.Ql(t.qb())}},{key:"seriesType",value:function(){return this.Es.Xh()}},{key:"attachPrimitive",value:function(t){var e=this;this.Es.ba(t),t.attached&&t.attached({chart:this.Zb,series:this,requestUpdate:function(){return e.Es.qt().$l()}})}},{key:"detachPrimitive",value:function(t){this.Es.wa(t),t.detached&&t.detached()}},{key:"Jb",value:function(t){this.Yb.M()&&this.Yb.m(t)}}]),t}(),Lr=function(){function t(e,n,i){(0,h.Z)(this,t),this.tw=new H,this.uu=new H,this._m=new H,this.Ui=e,this.wl=e.yt(),this.$m=n,this.wl.Ku().l(this.iw.bind(this)),this.wl.Zu().l(this.nw.bind(this)),this.$m.gm().l(this.sw.bind(this)),this.N_=i}return(0,f.Z)(t,[{key:"S",value:function(){this.wl.Ku().p(this),this.wl.Zu().p(this),this.$m.gm().p(this),this.tw.S(),this.uu.S(),this._m.S()}},{key:"scrollPosition",value:function(){return this.wl.Eu()}},{key:"scrollToPosition",value:function(t,e){e?this.wl.qu(t,1e3):this.Ui.Jn(t)}},{key:"scrollToRealTime",value:function(){this.wl.Uu()}},{key:"getVisibleRange",value:function(){var t=this.wl.yu();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}},{key:"setVisibleRange",value:function(t){var e={from:this.N_.convertHorzItemToInternal(t.from),to:this.N_.convertHorzItemToInternal(t.to)},n=this.wl.Ru(e);this.Ui.ld(n)}},{key:"getVisibleLogicalRange",value:function(){var t=this.wl.ku();return null===t?null:{from:t.Os(),to:t.di()}}},{key:"setVisibleLogicalRange",value:function(t){L(t.from<=t.to,"The from index cannot be after the to index."),this.Ui.ld(t)}},{key:"resetTimeScale",value:function(){this.Ui.Zn()}},{key:"fitContent",value:function(){this.Ui.Qu()}},{key:"logicalToCoordinate",value:function(t){var e=this.Ui.yt();return e.Fi()?null:e.Et(t)}},{key:"coordinateToLogical",value:function(t){return this.wl.Fi()?null:this.wl.Vu(t)}},{key:"timeToCoordinate",value:function(t){var e=this.N_.convertHorzItemToInternal(t),n=this.wl.ya(e,!1);return null===n?null:this.wl.Et(n)}},{key:"coordinateToTime",value:function(t){var e=this.Ui.yt(),n=e.Vu(t),i=e.qi(n);return null===i?null:i.originalTime}},{key:"width",value:function(){return this.$m.$p().width}},{key:"height",value:function(){return this.$m.$p().height}},{key:"subscribeVisibleTimeRangeChange",value:function(t){this.tw.l(t)}},{key:"unsubscribeVisibleTimeRangeChange",value:function(t){this.tw.v(t)}},{key:"subscribeVisibleLogicalRangeChange",value:function(t){this.uu.l(t)}},{key:"unsubscribeVisibleLogicalRangeChange",value:function(t){this.uu.v(t)}},{key:"subscribeSizeChange",value:function(t){this._m.l(t)}},{key:"unsubscribeSizeChange",value:function(t){this._m.v(t)}},{key:"applyOptions",value:function(t){this.wl.Nh(t)}},{key:"options",value:function(){return Object.assign(Object.assign({},X(this.wl.W())),{barSpacing:this.wl.he()})}},{key:"iw",value:function(){this.tw.M()&&this.tw.m(this.getVisibleRange())}},{key:"nw",value:function(){this.uu.M()&&this.uu.m(this.getVisibleLogicalRange())}},{key:"sw",value:function(t){this._m.m(t.width,t.height)}}]),t}();function Rr(t){return function(t){if(J(t.handleScale)){var e=t.handleScale;t.handleScale={axisDoubleClickReset:{time:e,price:e},axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale){var n=t.handleScale,i=n.axisPressedMouseMove,r=n.axisDoubleClickReset;J(i)&&(t.handleScale.axisPressedMouseMove={time:i,price:i}),J(r)&&(t.handleScale.axisDoubleClickReset={time:r,price:r})}var o=t.handleScroll;J(o)&&(t.handleScroll={horzTouchDrag:o,vertTouchDrag:o,mouseWheel:o,pressedMouseMove:o})}(t),t}var Nr=function(){function t(e,n,i){var r=this;(0,h.Z)(this,t),this.ew=new Map,this.rw=new Map,this.hw=new H,this.lw=new H,this.aw=new H,this.ow=new cr(n);var o=void 0===i?X(Tr()):K(X(Tr()),Rr(i));this.N_=n,this.$b=new Gi(e,o,n),this.$b.Fp().l((function(t){r.hw.M()&&r.hw.m(r._w(t()))}),this),this.$b.Wp().l((function(t){r.lw.M()&&r.lw.m(r._w(t()))}),this),this.$b.Wc().l((function(t){r.aw.M()&&r.aw.m(r._w(t()))}),this);var a=this.$b.qt();this.uw=new Lr(a,this.$b.Zm(),this.N_)}return(0,f.Z)(t,[{key:"remove",value:function(){this.$b.Fp().p(this),this.$b.Wp().p(this),this.$b.Wc().p(this),this.uw.S(),this.$b.S(),this.ew.clear(),this.rw.clear(),this.hw.S(),this.lw.S(),this.aw.S(),this.ow.S()}},{key:"resize",value:function(t,e,n){this.autoSizeActive()||this.$b.qm(t,e,n)}},{key:"addCustomSeries",value:function(t,e){var n=D(t),i=Object.assign(Object.assign({},O),n.defaultOptions());return this.cw("Custom",i,e,n)}},{key:"addAreaSeries",value:function(t){return this.cw("Area",C,t)}},{key:"addBaselineSeries",value:function(t){return this.cw("Baseline",T,t)}},{key:"addBarSeries",value:function(t){return this.cw("Bar",S,t)}},{key:"addCandlestickSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}(t),this.cw("Candlestick",x,t)}},{key:"addHistogramSeries",value:function(t){return this.cw("Histogram",A,t)}},{key:"addLineSeries",value:function(t){return this.cw("Line",E,t)}},{key:"removeSeries",value:function(t){var e=R(this.ew.get(t)),n=this.ow.hd(e);this.$b.qt().hd(e),this.dw(n),this.ew.delete(t),this.rw.delete(e)}},{key:"Gb",value:function(t,e){this.dw(this.ow.Ab(t,e))}},{key:"Qb",value:function(t,e){this.dw(this.ow.Eb(t,e))}},{key:"subscribeClick",value:function(t){this.hw.l(t)}},{key:"unsubscribeClick",value:function(t){this.hw.v(t)}},{key:"subscribeCrosshairMove",value:function(t){this.aw.l(t)}},{key:"unsubscribeCrosshairMove",value:function(t){this.aw.v(t)}},{key:"subscribeDblClick",value:function(t){this.lw.l(t)}},{key:"unsubscribeDblClick",value:function(t){this.lw.v(t)}},{key:"priceScale",value:function(t){return new Ar(this.$b,t)}},{key:"timeScale",value:function(){return this.uw}},{key:"applyOptions",value:function(t){this.$b.Nh(Rr(t))}},{key:"options",value:function(){return this.$b.W()}},{key:"takeScreenshot",value:function(){return this.$b.tb()}},{key:"autoSizeActive",value:function(){return this.$b.rb()}},{key:"chartElement",value:function(){return this.$b.hb()}},{key:"paneSize",value:function(){var t=this.$b.ab();return{height:t.height,width:t.width}}},{key:"setCrosshairPosition",value:function(t,e,n){var i=this.ew.get(n);if(void 0!==i){var r=this.$b.qt().cr(i);null!==r&&this.$b.qt().Qc(t,e,r)}}},{key:"clearCrosshairPosition",value:function(){this.$b.qt().td(!0)}},{key:"cw",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;!function(t){if(void 0!==t&&"custom"!==t.type){var e=t;void 0!==e.minMove&&void 0===e.precision&&(e.precision=function(t){if(t>=1)return 0;for(var e=0;e<8;e++){var n=Math.round(t);if(Math.abs(n-t)<1e-8)return e;t*=10}return e}(e.minMove))}}(n.priceFormat);var r=K(X(Z),X(e),n),o=this.$b.qt().ed(t,r,i),a=new Ir(o,this,this,this,this.N_);return this.ew.set(a,o),this.rw.set(o,a),a}},{key:"dw",value:function(t){var e=this.$b.qt();e.nd(t.yt.Au,t.yt.jb,t.yt.Hb),t.Fb.forEach((function(t,e){return e.it(t.He,t.Wb)})),e.Iu()}},{key:"fw",value:function(t){return R(this.rw.get(t))}},{key:"_w",value:function(t){var e=this,n=new Map;t.Mb.forEach((function(t,i){var r=i.Xh(),o=wr(r)(t);if("Custom"!==r)L(function(t){return void 0!==t.open||void 0!==t.value}(o));else{var a=i.Ma();L(!a||!1===a(o))}n.set(e.fw(i),o)}));var i=void 0===t.gb?void 0:this.fw(t.gb);return{time:t.bb,logical:t.se,point:t.wb,hoveredSeries:i,hoveredObjectId:t.xb,seriesData:n,sourceEvent:t.Sb}}}]),t}();function Dr(t,e){return function(t,e,n){var i;if($(t)){var r=document.getElementById(t);L(null!==r,"Cannot find element in DOM with id=".concat(t)),i=r}else i=t;var o=new Nr(i,e,n);return e.setOptions(o.options()),o}(t,new di,di.Td(e))}Object.assign(Object.assign({},Z),O)}}]);